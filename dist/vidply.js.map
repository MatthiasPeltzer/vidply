{
  "version": 3,
  "sources": ["../src/renderers/HTML5Renderer.js", "../src/index.js", "../src/utils/EventEmitter.js", "../src/utils/DOMUtils.js", "../src/utils/TimeUtils.js", "../src/icons/Icons.js", "../src/i18n/translations.js", "../src/i18n/i18n.js", "../src/controls/ControlBar.js", "../src/controls/CaptionManager.js", "../src/controls/KeyboardManager.js", "../src/controls/SettingsDialog.js", "../src/controls/TranscriptManager.js", "../src/core/Player.js", "../src/renderers/YouTubeRenderer.js", "../src/renderers/VimeoRenderer.js", "../src/renderers/HLSRenderer.js", "../src/features/PlaylistManager.js"],
  "sourcesContent": ["/**\r\n * HTML5 Media Renderer\r\n */\r\n\r\nexport class HTML5Renderer {\r\n  constructor(player) {\r\n    this.player = player;\r\n    this.media = player.element;\r\n  }\r\n\r\n  async init() {\r\n    this.attachEvents();\r\n    \r\n    // Set preload\r\n    this.media.preload = this.player.options.preload;\r\n    \r\n    // Load media\r\n    this.media.load();\r\n  }\r\n\r\n  attachEvents() {\r\n    // Playback events\r\n    this.media.addEventListener('loadedmetadata', () => {\r\n      this.player.state.duration = this.media.duration;\r\n      this.player.emit('loadedmetadata');\r\n    });\r\n\r\n    this.media.addEventListener('play', () => {\r\n      this.player.state.playing = true;\r\n      this.player.state.paused = false;\r\n      this.player.state.ended = false;\r\n      this.player.emit('play');\r\n      \r\n      if (this.player.options.onPlay) {\r\n        this.player.options.onPlay.call(this.player);\r\n      }\r\n      \r\n      // Pause other players if enabled\r\n      if (this.player.options.pauseOthersOnPlay) {\r\n        this.pauseOtherPlayers();\r\n      }\r\n    });\r\n\r\n    this.media.addEventListener('pause', () => {\r\n      this.player.state.playing = false;\r\n      this.player.state.paused = true;\r\n      this.player.emit('pause');\r\n      \r\n      if (this.player.options.onPause) {\r\n        this.player.options.onPause.call(this.player);\r\n      }\r\n    });\r\n\r\n    this.media.addEventListener('ended', () => {\r\n      this.player.state.playing = false;\r\n      this.player.state.paused = true;\r\n      this.player.state.ended = true;\r\n      this.player.emit('ended');\r\n      \r\n      if (this.player.options.onEnded) {\r\n        this.player.options.onEnded.call(this.player);\r\n      }\r\n      \r\n      // Handle loop\r\n      if (this.player.options.loop) {\r\n        this.player.seek(0);\r\n        this.player.play();\r\n      }\r\n    });\r\n\r\n    this.media.addEventListener('timeupdate', () => {\r\n      this.player.state.currentTime = this.media.currentTime;\r\n      this.player.emit('timeupdate', this.media.currentTime);\r\n      \r\n      if (this.player.options.onTimeUpdate) {\r\n        this.player.options.onTimeUpdate.call(this.player, this.media.currentTime);\r\n      }\r\n    });\r\n\r\n    this.media.addEventListener('volumechange', () => {\r\n      this.player.state.volume = this.media.volume;\r\n      this.player.state.muted = this.media.muted;\r\n      this.player.emit('volumechange', this.media.volume);\r\n      \r\n      if (this.player.options.onVolumeChange) {\r\n        this.player.options.onVolumeChange.call(this.player, this.media.volume);\r\n      }\r\n    });\r\n\r\n    this.media.addEventListener('seeking', () => {\r\n      this.player.state.seeking = true;\r\n      this.player.emit('seeking');\r\n    });\r\n\r\n    this.media.addEventListener('seeked', () => {\r\n      this.player.state.seeking = false;\r\n      this.player.emit('seeked');\r\n    });\r\n\r\n    this.media.addEventListener('waiting', () => {\r\n      this.player.state.buffering = true;\r\n      this.player.emit('waiting');\r\n    });\r\n\r\n    this.media.addEventListener('canplay', () => {\r\n      this.player.state.buffering = false;\r\n      this.player.emit('canplay');\r\n    });\r\n\r\n    this.media.addEventListener('progress', () => {\r\n      if (this.media.buffered.length > 0) {\r\n        const buffered = this.media.buffered.end(this.media.buffered.length - 1);\r\n        this.player.emit('progress', buffered);\r\n      }\r\n    });\r\n\r\n    this.media.addEventListener('error', (e) => {\r\n      this.player.handleError(this.media.error);\r\n    });\r\n\r\n    this.media.addEventListener('ratechange', () => {\r\n      this.player.state.playbackSpeed = this.media.playbackRate;\r\n      this.player.emit('ratechange', this.media.playbackRate);\r\n    });\r\n  }\r\n\r\n  pauseOtherPlayers() {\r\n    // Pause other VidPly instances\r\n    const allPlayers = document.querySelectorAll('.vidply-player');\r\n    allPlayers.forEach(playerEl => {\r\n      if (playerEl !== this.player.container) {\r\n        const video = playerEl.querySelector('video, audio');\r\n        if (video && !video.paused) {\r\n          video.pause();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  play() {\r\n    const promise = this.media.play();\r\n    \r\n    if (promise !== undefined) {\r\n      promise.catch(error => {\r\n        this.player.log('Play failed:', error, 'warn');\r\n        \r\n        // If autoplay failed, try muted autoplay\r\n        if (this.player.options.autoplay && !this.player.state.muted) {\r\n          this.player.log('Retrying play with muted audio', 'info');\r\n          this.media.muted = true;\r\n          this.media.play().catch(err => {\r\n            this.player.handleError(err);\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  pause() {\r\n    this.media.pause();\r\n  }\r\n\r\n  seek(time) {\r\n    this.media.currentTime = time;\r\n  }\r\n\r\n  setVolume(volume) {\r\n    this.media.volume = volume;\r\n  }\r\n\r\n  setMuted(muted) {\r\n    this.media.muted = muted;\r\n  }\r\n\r\n  setPlaybackSpeed(speed) {\r\n    this.media.playbackRate = speed;\r\n  }\r\n\r\n  destroy() {\r\n    // Remove event listeners\r\n    this.media.removeEventListener('loadedmetadata', () => {});\r\n    this.media.removeEventListener('play', () => {});\r\n    this.media.removeEventListener('pause', () => {});\r\n    // ... (other listeners would be removed in a real implementation)\r\n  }\r\n}\r\n\r\n", "/**\r\n * VidPly - Universal Video Player\r\n * Main Entry Point\r\n */\r\n\r\nimport { Player } from './core/Player.js';\r\nimport { PlaylistManager } from './features/PlaylistManager.js';\r\n\r\n// Auto-initialize players\r\nfunction initializePlayers() {\r\n  const elements = document.querySelectorAll('[data-vidply]');\r\n  \r\n  elements.forEach(element => {\r\n    // Parse options from data attribute\r\n    const options = element.dataset.vidplyOptions \r\n      ? JSON.parse(element.dataset.vidplyOptions)\r\n      : {};\r\n    \r\n    // Create player instance\r\n    new Player(element, options);\r\n  });\r\n}\r\n\r\n// Auto-initialize on DOM ready\r\nif (document.readyState === 'loading') {\r\n  document.addEventListener('DOMContentLoaded', initializePlayers);\r\n} else {\r\n  initializePlayers();\r\n}\r\n\r\n// Export for manual initialization\r\nexport { Player, PlaylistManager };\r\nexport default Player;\r\n\r\n", "/**\r\n * Simple EventEmitter implementation\r\n */\r\n\r\nexport class EventEmitter {\r\n  constructor() {\r\n    this.events = {};\r\n  }\r\n\r\n  on(event, listener) {\r\n    if (!this.events[event]) {\r\n      this.events[event] = [];\r\n    }\r\n    this.events[event].push(listener);\r\n    return this;\r\n  }\r\n\r\n  once(event, listener) {\r\n    const onceListener = (...args) => {\r\n      listener(...args);\r\n      this.off(event, onceListener);\r\n    };\r\n    return this.on(event, onceListener);\r\n  }\r\n\r\n  off(event, listener) {\r\n    if (!this.events[event]) return this;\r\n    \r\n    if (!listener) {\r\n      delete this.events[event];\r\n    } else {\r\n      this.events[event] = this.events[event].filter(l => l !== listener);\r\n    }\r\n    \r\n    return this;\r\n  }\r\n\r\n  emit(event, ...args) {\r\n    if (!this.events[event]) return this;\r\n    \r\n    this.events[event].forEach(listener => {\r\n      listener(...args);\r\n    });\r\n    \r\n    return this;\r\n  }\r\n\r\n  removeAllListeners() {\r\n    this.events = {};\r\n    return this;\r\n  }\r\n}\r\n\r\n", "/**\r\n * DOM manipulation utilities\r\n */\r\n\r\nexport const DOMUtils = {\r\n  createElement(tag, options = {}) {\r\n    const element = document.createElement(tag);\r\n    \r\n    if (options.className) {\r\n      element.className = options.className;\r\n    }\r\n    \r\n    if (options.attributes) {\r\n      Object.entries(options.attributes).forEach(([key, value]) => {\r\n        element.setAttribute(key, value);\r\n      });\r\n    }\r\n    \r\n    if (options.innerHTML) {\r\n      element.innerHTML = options.innerHTML;\r\n    }\r\n    \r\n    if (options.textContent) {\r\n      element.textContent = options.textContent;\r\n    }\r\n    \r\n    if (options.style) {\r\n      Object.assign(element.style, options.style);\r\n    }\r\n    \r\n    if (options.children) {\r\n      options.children.forEach(child => {\r\n        if (child) element.appendChild(child);\r\n      });\r\n    }\r\n    \r\n    return element;\r\n  },\r\n\r\n  addClass(element, className) {\r\n    if (element && className) {\r\n      element.classList.add(className);\r\n    }\r\n  },\r\n\r\n  removeClass(element, className) {\r\n    if (element && className) {\r\n      element.classList.remove(className);\r\n    }\r\n  },\r\n\r\n  toggleClass(element, className) {\r\n    if (element && className) {\r\n      element.classList.toggle(className);\r\n    }\r\n  },\r\n\r\n  hasClass(element, className) {\r\n    return element && element.classList.contains(className);\r\n  },\r\n\r\n  show(element) {\r\n    if (element) {\r\n      element.style.display = '';\r\n    }\r\n  },\r\n\r\n  hide(element) {\r\n    if (element) {\r\n      element.style.display = 'none';\r\n    }\r\n  },\r\n\r\n  fadeIn(element, duration = 300) {\r\n    if (!element) return;\r\n    \r\n    element.style.opacity = '0';\r\n    element.style.display = '';\r\n    \r\n    let start = null;\r\n    const animate = (timestamp) => {\r\n      if (!start) start = timestamp;\r\n      const progress = timestamp - start;\r\n      const opacity = Math.min(progress / duration, 1);\r\n      \r\n      element.style.opacity = opacity;\r\n      \r\n      if (progress < duration) {\r\n        requestAnimationFrame(animate);\r\n      }\r\n    };\r\n    \r\n    requestAnimationFrame(animate);\r\n  },\r\n\r\n  fadeOut(element, duration = 300) {\r\n    if (!element) return;\r\n    \r\n    const startOpacity = parseFloat(getComputedStyle(element).opacity) || 1;\r\n    let start = null;\r\n    \r\n    const animate = (timestamp) => {\r\n      if (!start) start = timestamp;\r\n      const progress = timestamp - start;\r\n      const opacity = Math.max(startOpacity - (progress / duration), 0);\r\n      \r\n      element.style.opacity = opacity;\r\n      \r\n      if (progress < duration) {\r\n        requestAnimationFrame(animate);\r\n      } else {\r\n        element.style.display = 'none';\r\n      }\r\n    };\r\n    \r\n    requestAnimationFrame(animate);\r\n  },\r\n\r\n  offset(element) {\r\n    if (!element) return { top: 0, left: 0 };\r\n    \r\n    const rect = element.getBoundingClientRect();\r\n    return {\r\n      top: rect.top + window.pageYOffset,\r\n      left: rect.left + window.pageXOffset,\r\n      width: rect.width,\r\n      height: rect.height\r\n    };\r\n  },\r\n\r\n  escapeHTML(str) {\r\n    const div = document.createElement('div');\r\n    div.textContent = str;\r\n    return div.innerHTML;\r\n  },\r\n\r\n  sanitizeHTML(html) {\r\n    // Basic HTML sanitization - allow safe tags for VTT captions\r\n    // Since we control the HTML (from VTT parsing), we can safely allow these tags\r\n    const temp = document.createElement('div');\r\n    \r\n    // Strip out any potentially dangerous tags/attributes\r\n    // Allow: strong, em, u, span, b, i with class and data-voice attributes\r\n    const safeHtml = html\r\n      .replace(/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi, '')\r\n      .replace(/<iframe\\b[^<]*(?:(?!<\\/iframe>)<[^<]*)*<\\/iframe>/gi, '')\r\n      .replace(/on\\w+\\s*=/gi, '') // Remove event handlers\r\n      .replace(/javascript:/gi, ''); // Remove javascript: protocol\r\n    \r\n    temp.innerHTML = safeHtml;\r\n    return temp.innerHTML;\r\n  }\r\n};\r\n\r\n", "/**\r\n * Time formatting and conversion utilities\r\n */\r\n\r\nexport const TimeUtils = {\r\n  /**\r\n   * Format seconds to time string (HH:MM:SS or MM:SS)\r\n   */\r\n  formatTime(seconds, alwaysShowHours = false) {\r\n    if (!isFinite(seconds) || seconds < 0) {\r\n      return alwaysShowHours ? '00:00:00' : '00:00';\r\n    }\r\n    \r\n    const hours = Math.floor(seconds / 3600);\r\n    const minutes = Math.floor((seconds % 3600) / 60);\r\n    const secs = Math.floor(seconds % 60);\r\n    \r\n    const pad = (num) => String(num).padStart(2, '0');\r\n    \r\n    if (hours > 0 || alwaysShowHours) {\r\n      return `${pad(hours)}:${pad(minutes)}:${pad(secs)}`;\r\n    }\r\n    \r\n    return `${pad(minutes)}:${pad(secs)}`;\r\n  },\r\n\r\n  /**\r\n   * Parse time string to seconds\r\n   */\r\n  parseTime(timeString) {\r\n    const parts = timeString.split(':').map(p => parseInt(p, 10));\r\n    \r\n    if (parts.length === 3) {\r\n      // HH:MM:SS\r\n      return parts[0] * 3600 + parts[1] * 60 + parts[2];\r\n    } else if (parts.length === 2) {\r\n      // MM:SS\r\n      return parts[0] * 60 + parts[1];\r\n    } else if (parts.length === 1) {\r\n      // SS\r\n      return parts[0];\r\n    }\r\n    \r\n    return 0;\r\n  },\r\n\r\n  /**\r\n   * Format seconds to readable duration\r\n   */\r\n  formatDuration(seconds) {\r\n    if (!isFinite(seconds) || seconds < 0) {\r\n      return '0 seconds';\r\n    }\r\n    \r\n    const hours = Math.floor(seconds / 3600);\r\n    const minutes = Math.floor((seconds % 3600) / 60);\r\n    const secs = Math.floor(seconds % 60);\r\n    \r\n    const parts = [];\r\n    \r\n    if (hours > 0) {\r\n      parts.push(`${hours} hour${hours !== 1 ? 's' : ''}`);\r\n    }\r\n    if (minutes > 0) {\r\n      parts.push(`${minutes} minute${minutes !== 1 ? 's' : ''}`);\r\n    }\r\n    if (secs > 0 || parts.length === 0) {\r\n      parts.push(`${secs} second${secs !== 1 ? 's' : ''}`);\r\n    }\r\n    \r\n    return parts.join(', ');\r\n  },\r\n\r\n  /**\r\n   * Format percentage\r\n   */\r\n  formatPercentage(value, total) {\r\n    if (total === 0) return 0;\r\n    return Math.round((value / total) * 100);\r\n  }\r\n};\r\n\r\n", "/**\r\n * SVG Icon Library for VidPly\r\n */\r\n\r\nexport const Icons = {\r\n  play: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M8 5v14l11-7z\"/>\r\n  </svg>`,\r\n\r\n  pause: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M6 4h4v16H6V4zm8 0h4v16h-4V4z\"/>\r\n  </svg>`,\r\n\r\n  stop: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <rect x=\"6\" y=\"6\" width=\"12\" height=\"12\"/>\r\n  </svg>`,\r\n\r\n  rewind: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z\"/>\r\n  </svg>`,\r\n\r\n  forward: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z\"/>\r\n  </svg>`,\r\n\r\n  skipPrevious: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M6 6h2v12H6V6zm3 6l8.5 6V6L9 12z\"/>\r\n  </svg>`,\r\n\r\n  skipNext: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M16 6h2v12h-2V6zM6 6l8.5 6L6 18V6z\"/>\r\n  </svg>`,\r\n\r\n  volumeHigh: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z\"/>\r\n  </svg>`,\r\n\r\n  volumeMedium: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02z\"/>\r\n  </svg>`,\r\n\r\n  volumeLow: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M7 9v6h4l5 5V4l-5 5H7z\"/>\r\n  </svg>`,\r\n\r\n  volumeMuted: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z\"/>\r\n  </svg>`,\r\n\r\n  fullscreen: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"/>\r\n  </svg>`,\r\n\r\n  fullscreenExit: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\"/>\r\n  </svg>`,\r\n\r\n  settings: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94L14.4 2.81c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z\"/>\r\n  </svg>`,\r\n\r\n  captions: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 7H9.5v-.5h-2v3h2V13H11v1c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1zm7 0h-1.5v-.5h-2v3h2V13H18v1c0 .55-.45 1-1 1h-3c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1z\"/>\r\n  </svg>`,\r\n\r\n  captionsOff: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 7H9.5v-.5h-2v3h2V13H11v1c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1zm7 0h-1.5v-.5h-2v3h2V13H18v1c0 .55-.45 1-1 1h-3c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1z\"/>\r\n    <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n    <path d=\"M21 3L3 21\" stroke=\"currentColor\" stroke-width=\"2\"/>\r\n  </svg>`,\r\n\r\n  pip: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M19 7h-8v6h8V7zm2-4H3c-1.1 0-2 .9-2 2v14c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98V5c0-1.1-.9-2-2-2zm0 16.01H3V4.98h18v14.03z\"/>\r\n  </svg>`,\r\n\r\n  speed: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M20.38 8.57l-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44z\"/>\r\n    <path d=\"M10.59 15.41a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83z\"/>\r\n  </svg>`,\r\n\r\n  close: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\r\n  </svg>`,\r\n\r\n  check: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"/>\r\n  </svg>`,\r\n\r\n  arrowUp: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M7 14l5-5 5 5z\"/>\r\n  </svg>`,\r\n\r\n  arrowDown: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M7 10l5 5 5-5z\"/>\r\n  </svg>`,\r\n\r\n  arrowLeft: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"/>\r\n  </svg>`,\r\n\r\n  arrowRight: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"/>\r\n  </svg>`,\r\n\r\n  loading: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z\"/>\r\n  </svg>`,\r\n\r\n  error: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"/>\r\n  </svg>`,\r\n\r\n  download: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z\"/>\r\n  </svg>`,\r\n\r\n  link: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z\"/>\r\n  </svg>`,\r\n\r\n  playlist: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M15 6H3v2h12V6zm0 4H3v2h12v-2zM3 16h8v-2H3v2zM17 6v8.18c-.31-.11-.65-.18-1-.18-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3V8h3V6h-5z\"/>\r\n  </svg>`,\r\n\r\n  language: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z\"/>\r\n  </svg>`,\r\n\r\n  hd: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm7-1c0 .55-.45 1-1 1h-.75v1.5h-1.5V15H14c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v4zm-3.5-.5h2v-3h-2v3z\"/>\r\n  </svg>`,\r\n\r\n  transcript: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z\"/>\r\n  </svg>`,\r\n\r\n  audioDescription: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M12 3v9.28c-.47-.17-.97-.28-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3h-7z\"/>\r\n    <path d=\"M10.5 19c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\"/>\r\n  </svg>`,\r\n\r\n  audioDescriptionOn: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M12 3v9.28c-.47-.17-.97-.28-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3h-7z\"/>\r\n    <path d=\"M10.5 19c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\"/>\r\n    <circle cx=\"19\" cy=\"16\" r=\"3\" fill=\"#3b82f6\"/>\r\n    <path d=\"M18.5 17.5l1-1 1.5 1.5\" stroke=\"white\" stroke-width=\"1.5\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n  </svg>`,\r\n\r\n  signLanguage: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M12 2C10.34 2 9 3.34 9 5v4c0 .34.07.66.18.96L7.5 8.29C7.19 8.1 6.85 8 6.5 8 5.12 8 4 9.12 4 10.5v3c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-3c0-.28.22-.5.5-.5s.5.22.5.5V14l2 2v-1c0-.55.45-1 1-1s1 .45 1 1v2c0 .55.45 1 1 1s1-.45 1-1V9c0-.55.45-1 1-1s1 .45 1 1v8c0 2.21-1.79 4-4 4s-4-1.79-4-4v-2.83l-2.93-2.93A3.93 3.93 0 0 1 4 8c0-1.66 1.34-3 3-3 .83 0 1.58.34 2.12.88L11 7.76V5c0-.55.45-1 1-1s1 .45 1 1v4c0 .55.45 1 1 1s1-.45 1-1V5c0-1.66-1.34-3-3-3z\"/>\r\n  </svg>`,\r\n\r\n  signLanguageOn: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M12 2C10.34 2 9 3.34 9 5v4c0 .34.07.66.18.96L7.5 8.29C7.19 8.1 6.85 8 6.5 8 5.12 8 4 9.12 4 10.5v3c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-3c0-.28.22-.5.5-.5s.5.22.5.5V14l2 2v-1c0-.55.45-1 1-1s1 .45 1 1v2c0 .55.45 1 1 1s1-.45 1-1V9c0-.55.45-1 1-1s1 .45 1 1v8c0 2.21-1.79 4-4 4s-4-1.79-4-4v-2.83l-2.93-2.93A3.93 3.93 0 0 1 4 8c0-1.66 1.34-3 3-3 .83 0 1.58.34 2.12.88L11 7.76V5c0-.55.45-1 1-1s1 .45 1 1v4c0 .55.45 1 1 1s1-.45 1-1V5c0-1.66-1.34-3-3-3z\"/>\r\n    <circle cx=\"19\" cy=\"16\" r=\"3\" fill=\"#3b82f6\"/>\r\n    <path d=\"M18.5 17.5l1-1 1.5 1.5\" stroke=\"white\" stroke-width=\"1.5\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n  </svg>`,\r\n  \r\n  speaker: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02z\"/>\r\n  </svg>`,\r\n  \r\n  music: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M12 3v9.28c-.47-.17-.97-.28-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3h-7zm-1.5 16c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\"/>\r\n  </svg>`\r\n};\r\n\r\nexport function getIcon(name) {\r\n  return Icons[name] || Icons.play;\r\n}\r\n\r\nexport function createIconElement(name, className = '') {\r\n  const wrapper = document.createElement('span');\r\n  wrapper.className = `vidply-icon ${className}`.trim();\r\n  wrapper.innerHTML = getIcon(name);\r\n  wrapper.setAttribute('aria-hidden', 'true');\r\n  return wrapper;\r\n}\r\n\r\n", "/**\r\n * Translation strings for VidPly\r\n */\r\n\r\nexport const translations = {\r\n  en: {\r\n    player: {\r\n      label: 'Video Player',\r\n      play: 'Play',\r\n      pause: 'Pause',\r\n      stop: 'Stop',\r\n      rewind: 'Rewind',\r\n      forward: 'Forward',\r\n      volume: 'Volume',\r\n      mute: 'Mute',\r\n      unmute: 'Unmute',\r\n      fullscreen: 'Fullscreen',\r\n      exitFullscreen: 'Exit Fullscreen',\r\n      captions: 'Captions',\r\n      settings: 'Settings',\r\n      speed: 'Playback Speed',\r\n      pip: 'Picture in Picture',\r\n      currentTime: 'Current time',\r\n      duration: 'Duration',\r\n      progress: 'Progress',\r\n      seekForward: 'Seek forward {seconds} seconds',\r\n      seekBackward: 'Seek backward {seconds} seconds',\r\n      volumeUp: 'Volume up',\r\n      volumeDown: 'Volume down',\r\n      loading: 'Loading...',\r\n      error: 'Error loading media',\r\n      buffering: 'Buffering...',\r\n      signLanguageVideo: 'Sign Language Video'\r\n    },\r\n    captions: {\r\n      off: 'Off',\r\n      select: 'Select captions',\r\n      fontSize: 'Font Size',\r\n      fontFamily: 'Font Family',\r\n      color: 'Text Color',\r\n      backgroundColor: 'Background Color',\r\n      opacity: 'Opacity'\r\n    },\r\n    settings: {\r\n      title: 'Settings',\r\n      quality: 'Quality',\r\n      speed: 'Speed',\r\n      captions: 'Captions',\r\n      language: 'Language',\r\n      reset: 'Reset to defaults',\r\n      close: 'Close'\r\n    },\r\n    speeds: {\r\n      '0.25': '0.25x',\r\n      '0.5': '0.5x',\r\n      '0.75': '0.75x',\r\n      '1': 'Normal',\r\n      '1.25': '1.25x',\r\n      '1.5': '1.5x',\r\n      '1.75': '1.75x',\r\n      '2': '2x'\r\n    }\r\n  },\r\n  \r\n  de: {\r\n    player: {\r\n      label: 'Videoplayer',\r\n      play: 'Abspielen',\r\n      pause: 'Pause',\r\n      stop: 'Stopp',\r\n      rewind: 'Zur\u00FCckspulen',\r\n      forward: 'Vorspulen',\r\n      volume: 'Lautst\u00E4rke',\r\n      mute: 'Stumm',\r\n      unmute: 'Ton ein',\r\n      fullscreen: 'Vollbild',\r\n      exitFullscreen: 'Vollbild beenden',\r\n      captions: 'Untertitel',\r\n      settings: 'Einstellungen',\r\n      speed: 'Wiedergabegeschwindigkeit',\r\n      pip: 'Bild-in-Bild',\r\n      currentTime: 'Aktuelle Zeit',\r\n      duration: 'Dauer',\r\n      progress: 'Fortschritt',\r\n      loading: 'L\u00E4dt...',\r\n      error: 'Fehler beim Laden',\r\n      buffering: 'Puffern...',\r\n      signLanguageVideo: 'Geb\u00E4rdensprache-Video'\r\n    },\r\n    captions: {\r\n      off: 'Aus',\r\n      select: 'Untertitel ausw\u00E4hlen',\r\n      fontSize: 'Schriftgr\u00F6\u00DFe',\r\n      fontFamily: 'Schriftart',\r\n      color: 'Textfarbe',\r\n      backgroundColor: 'Hintergrundfarbe',\r\n      opacity: 'Deckkraft'\r\n    },\r\n    settings: {\r\n      title: 'Einstellungen',\r\n      quality: 'Qualit\u00E4t',\r\n      speed: 'Geschwindigkeit',\r\n      captions: 'Untertitel',\r\n      language: 'Sprache',\r\n      reset: 'Zur\u00FCcksetzen',\r\n      close: 'Schlie\u00DFen'\r\n    }\r\n  },\r\n\r\n  es: {\r\n    player: {\r\n      label: 'Reproductor de video',\r\n      play: 'Reproducir',\r\n      pause: 'Pausa',\r\n      stop: 'Detener',\r\n      rewind: 'Retroceder',\r\n      forward: 'Avanzar',\r\n      volume: 'Volumen',\r\n      mute: 'Silenciar',\r\n      unmute: 'Activar sonido',\r\n      fullscreen: 'Pantalla completa',\r\n      exitFullscreen: 'Salir de pantalla completa',\r\n      captions: 'Subt\u00EDtulos',\r\n      settings: 'Configuraci\u00F3n',\r\n      speed: 'Velocidad de reproducci\u00F3n',\r\n      pip: 'Imagen en imagen',\r\n      currentTime: 'Tiempo actual',\r\n      duration: 'Duraci\u00F3n',\r\n      progress: 'Progreso',\r\n      loading: 'Cargando...',\r\n      error: 'Error al cargar',\r\n      buffering: 'Almacenando en b\u00FAfer...',\r\n      signLanguageVideo: 'Video en Lengua de Se\u00F1as'\r\n    },\r\n    captions: {\r\n      off: 'Desactivado',\r\n      select: 'Seleccionar subt\u00EDtulos',\r\n      fontSize: 'Tama\u00F1o de fuente',\r\n      fontFamily: 'Familia de fuente',\r\n      color: 'Color de texto',\r\n      backgroundColor: 'Color de fondo',\r\n      opacity: 'Opacidad'\r\n    },\r\n    settings: {\r\n      title: 'Configuraci\u00F3n',\r\n      quality: 'Calidad',\r\n      speed: 'Velocidad',\r\n      captions: 'Subt\u00EDtulos',\r\n      language: 'Idioma',\r\n      reset: 'Restablecer',\r\n      close: 'Cerrar'\r\n    }\r\n  },\r\n\r\n  fr: {\r\n    player: {\r\n      label: 'Lecteur vid\u00E9o',\r\n      play: 'Lecture',\r\n      pause: 'Pause',\r\n      stop: 'Arr\u00EAt',\r\n      rewind: 'Reculer',\r\n      forward: 'Avancer',\r\n      volume: 'Volume',\r\n      mute: 'Muet',\r\n      unmute: 'Activer le son',\r\n      fullscreen: 'Plein \u00E9cran',\r\n      exitFullscreen: 'Quitter le plein \u00E9cran',\r\n      captions: 'Sous-titres',\r\n      settings: 'Param\u00E8tres',\r\n      speed: 'Vitesse de lecture',\r\n      pip: 'Image dans l\\'image',\r\n      currentTime: 'Temps actuel',\r\n      duration: 'Dur\u00E9e',\r\n      progress: 'Progression',\r\n      loading: 'Chargement...',\r\n      error: 'Erreur de chargement',\r\n      buffering: 'Mise en m\u00E9moire tampon...',\r\n      signLanguageVideo: 'Vid\u00E9o en Langue des Signes'\r\n    },\r\n    captions: {\r\n      off: 'D\u00E9sactiv\u00E9',\r\n      select: 'S\u00E9lectionner les sous-titres',\r\n      fontSize: 'Taille de police',\r\n      fontFamily: 'Police',\r\n      color: 'Couleur du texte',\r\n      backgroundColor: 'Couleur de fond',\r\n      opacity: 'Opacit\u00E9'\r\n    },\r\n    settings: {\r\n      title: 'Param\u00E8tres',\r\n      quality: 'Qualit\u00E9',\r\n      speed: 'Vitesse',\r\n      captions: 'Sous-titres',\r\n      language: 'Langue',\r\n      reset: 'R\u00E9initialiser',\r\n      close: 'Fermer'\r\n    }\r\n  },\r\n\r\n  ja: {\r\n    player: {\r\n      label: '\u30D3\u30C7\u30AA\u30D7\u30EC\u30FC\u30E4\u30FC',\r\n      play: '\u518D\u751F',\r\n      pause: '\u4E00\u6642\u505C\u6B62',\r\n      stop: '\u505C\u6B62',\r\n      rewind: '\u5DFB\u304D\u623B\u3057',\r\n      forward: '\u65E9\u9001\u308A',\r\n      volume: '\u97F3\u91CF',\r\n      mute: '\u30DF\u30E5\u30FC\u30C8',\r\n      unmute: '\u30DF\u30E5\u30FC\u30C8\u89E3\u9664',\r\n      fullscreen: '\u5168\u753B\u9762\u8868\u793A',\r\n      exitFullscreen: '\u5168\u753B\u9762\u8868\u793A\u3092\u7D42\u4E86',\r\n      captions: '\u5B57\u5E55',\r\n      settings: '\u8A2D\u5B9A',\r\n      speed: '\u518D\u751F\u901F\u5EA6',\r\n      pip: '\u30D4\u30AF\u30C1\u30E3\u30FC\u30A4\u30F3\u30D4\u30AF\u30C1\u30E3\u30FC',\r\n      currentTime: '\u73FE\u5728\u306E\u6642\u9593',\r\n      duration: '\u518D\u751F\u6642\u9593',\r\n      progress: '\u9032\u884C\u72B6\u6CC1',\r\n      loading: '\u8AAD\u307F\u8FBC\u307F\u4E2D...',\r\n      error: '\u8AAD\u307F\u8FBC\u307F\u30A8\u30E9\u30FC',\r\n      buffering: '\u30D0\u30C3\u30D5\u30A1\u30EA\u30F3\u30B0\u4E2D...',\r\n      signLanguageVideo: '\u624B\u8A71\u52D5\u753B'\r\n    },\r\n    captions: {\r\n      off: '\u30AA\u30D5',\r\n      select: '\u5B57\u5E55\u3092\u9078\u629E',\r\n      fontSize: '\u30D5\u30A9\u30F3\u30C8\u30B5\u30A4\u30BA',\r\n      fontFamily: '\u30D5\u30A9\u30F3\u30C8',\r\n      color: '\u30C6\u30AD\u30B9\u30C8\u306E\u8272',\r\n      backgroundColor: '\u80CC\u666F\u8272',\r\n      opacity: '\u4E0D\u900F\u660E\u5EA6'\r\n    },\r\n    settings: {\r\n      title: '\u8A2D\u5B9A',\r\n      quality: '\u753B\u8CEA',\r\n      speed: '\u901F\u5EA6',\r\n      captions: '\u5B57\u5E55',\r\n      language: '\u8A00\u8A9E',\r\n      reset: '\u30EA\u30BB\u30C3\u30C8',\r\n      close: '\u9589\u3058\u308B'\r\n    }\r\n  }\r\n};\r\n\r\n", "/**\r\n * Internationalization system\r\n */\r\n\r\nimport { translations } from './translations.js';\r\n\r\nclass I18n {\r\n  constructor() {\r\n    this.currentLanguage = 'en';\r\n    this.translations = translations;\r\n  }\r\n\r\n  setLanguage(lang) {\r\n    if (this.translations[lang]) {\r\n      this.currentLanguage = lang;\r\n    } else {\r\n      console.warn(`Language \"${lang}\" not found, falling back to English`);\r\n      this.currentLanguage = 'en';\r\n    }\r\n  }\r\n\r\n  getLanguage() {\r\n    return this.currentLanguage;\r\n  }\r\n\r\n  t(key, replacements = {}) {\r\n    const keys = key.split('.');\r\n    let value = this.translations[this.currentLanguage];\r\n    \r\n    for (const k of keys) {\r\n      if (value && typeof value === 'object' && k in value) {\r\n        value = value[k];\r\n      } else {\r\n        // Fallback to English\r\n        value = this.translations.en;\r\n        for (const fallbackKey of keys) {\r\n          if (value && typeof value === 'object' && fallbackKey in value) {\r\n            value = value[fallbackKey];\r\n          } else {\r\n            return key; // Return key if not found\r\n          }\r\n        }\r\n        break;\r\n      }\r\n    }\r\n    \r\n    // Replace placeholders\r\n    if (typeof value === 'string') {\r\n      Object.entries(replacements).forEach(([placeholder, replacement]) => {\r\n        value = value.replace(new RegExp(`{${placeholder}}`, 'g'), replacement);\r\n      });\r\n    }\r\n    \r\n    return value;\r\n  }\r\n\r\n  addTranslation(lang, translations) {\r\n    if (!this.translations[lang]) {\r\n      this.translations[lang] = {};\r\n    }\r\n    Object.assign(this.translations[lang], translations);\r\n  }\r\n}\r\n\r\nexport const i18n = new I18n();\r\n\r\n", "/**\r\n * Control Bar Component\r\n */\r\n\r\nimport {DOMUtils} from '../utils/DOMUtils.js';\r\nimport {TimeUtils} from '../utils/TimeUtils.js';\r\nimport {createIconElement} from '../icons/Icons.js';\r\nimport {i18n} from '../i18n/i18n.js';\r\n\r\nexport class ControlBar {\r\n    constructor(player) {\r\n        this.player = player;\r\n        this.element = null;\r\n        this.controls = {};\r\n        this.hideTimeout = null;\r\n        this.isDraggingProgress = false;\r\n        this.isDraggingVolume = false;\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.createElement();\r\n        this.createControls();\r\n        this.attachEvents();\r\n        this.setupAutoHide();\r\n    }\r\n\r\n    // Helper method to attach close-on-outside-click behavior to menus\r\n    attachMenuCloseHandler(menu, button, preventCloseOnInteraction = false) {\r\n        setTimeout(() => {\r\n            const closeMenu = (e) => {\r\n                // If this menu has form controls, don't close when clicking inside\r\n                if (preventCloseOnInteraction && menu.contains(e.target)) {\r\n                    return;\r\n                }\r\n\r\n                // Check if click is outside menu and button\r\n                if (!menu.contains(e.target) && !button.contains(e.target)) {\r\n                    menu.remove();\r\n                    document.removeEventListener('click', closeMenu);\r\n                    document.removeEventListener('keydown', handleEscape);\r\n                }\r\n            };\r\n\r\n            const handleEscape = (e) => {\r\n                if (e.key === 'Escape') {\r\n                    menu.remove();\r\n                    document.removeEventListener('click', closeMenu);\r\n                    document.removeEventListener('keydown', handleEscape);\r\n                    // Return focus to button\r\n                    button.focus();\r\n                }\r\n            };\r\n\r\n            document.addEventListener('click', closeMenu);\r\n            document.addEventListener('keydown', handleEscape);\r\n        }, 100);\r\n    }\r\n\r\n    createElement() {\r\n        this.element = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-controls`,\r\n            attributes: {\r\n                'role': 'region',\r\n                'aria-label': i18n.t('player.label') + ' controls'\r\n            }\r\n        });\r\n    }\r\n\r\n    createControls() {\r\n        // Progress bar container\r\n        if (this.player.options.progressBar) {\r\n            this.createProgressBar();\r\n        }\r\n\r\n        // Button container\r\n        const buttonContainer = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-controls-buttons`\r\n        });\r\n\r\n        // Left buttons\r\n        const leftButtons = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-controls-left`\r\n        });\r\n\r\n        // Previous track button (if playlist)\r\n        if (this.player.playlistManager) {\r\n            leftButtons.appendChild(this.createPreviousButton());\r\n        }\r\n\r\n        // Play/Pause button\r\n        if (this.player.options.playPauseButton) {\r\n            leftButtons.appendChild(this.createPlayPauseButton());\r\n        }\r\n\r\n        // Next track button (if playlist)\r\n        if (this.player.playlistManager) {\r\n            leftButtons.appendChild(this.createNextButton());\r\n        }\r\n\r\n        // Rewind button (not shown in playlist mode)\r\n        if (!this.player.playlistManager) {\r\n            leftButtons.appendChild(this.createRewindButton());\r\n        }\r\n\r\n        // Forward button (not shown in playlist mode)\r\n        if (!this.player.playlistManager) {\r\n            leftButtons.appendChild(this.createForwardButton());\r\n        }\r\n\r\n        // Volume control\r\n        if (this.player.options.volumeControl) {\r\n            leftButtons.appendChild(this.createVolumeControl());\r\n        }\r\n\r\n        // Time display\r\n        if (this.player.options.currentTime || this.player.options.duration) {\r\n            leftButtons.appendChild(this.createTimeDisplay());\r\n        }\r\n\r\n        // Right buttons\r\n        const rightButtons = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-controls-right`\r\n        });\r\n\r\n        // Check for available features\r\n        const hasChapters = this.hasChapterTracks();\r\n        const hasCaptions = this.hasCaptionTracks();\r\n        const hasQualityLevels = this.hasQualityLevels();\r\n        const hasAudioDescription = this.hasAudioDescription();\r\n\r\n        // Chapters button - only show if chapters are available\r\n        if (this.player.options.chaptersButton && hasChapters) {\r\n            rightButtons.appendChild(this.createChaptersButton());\r\n        }\r\n\r\n        // Quality button - only show if quality levels are available\r\n        if (this.player.options.qualityButton && hasQualityLevels) {\r\n            rightButtons.appendChild(this.createQualityButton());\r\n        }\r\n\r\n        // Caption styling button (font, size, color) - only show if captions are available\r\n        if (this.player.options.captionStyleButton && hasCaptions) {\r\n            rightButtons.appendChild(this.createCaptionStyleButton());\r\n        }\r\n\r\n        // Speed button - always available\r\n        if (this.player.options.speedButton) {\r\n            rightButtons.appendChild(this.createSpeedButton());\r\n        }\r\n\r\n        // Captions language selector button - only show if captions are available\r\n        if (this.player.options.captionsButton && hasCaptions) {\r\n            rightButtons.appendChild(this.createCaptionsButton());\r\n        }\r\n\r\n        // Transcript button - only show if captions/subtitles are available\r\n        if (this.player.options.transcriptButton && hasCaptions) {\r\n            rightButtons.appendChild(this.createTranscriptButton());\r\n        }\r\n\r\n        // Audio Description button - only show if audio description source is available\r\n        if (this.player.options.audioDescriptionButton && hasAudioDescription) {\r\n            rightButtons.appendChild(this.createAudioDescriptionButton());\r\n        }\r\n\r\n        // Sign Language button - only show if sign language source is available\r\n        const hasSignLanguage = this.hasSignLanguage();\r\n        if (this.player.options.signLanguageButton && hasSignLanguage) {\r\n            rightButtons.appendChild(this.createSignLanguageButton());\r\n        }\r\n\r\n        // PiP button\r\n        if (this.player.options.pipButton && 'pictureInPictureEnabled' in document) {\r\n            rightButtons.appendChild(this.createPipButton());\r\n        }\r\n\r\n        // Fullscreen button\r\n        if (this.player.options.fullscreenButton) {\r\n            rightButtons.appendChild(this.createFullscreenButton());\r\n        }\r\n\r\n        buttonContainer.appendChild(leftButtons);\r\n        buttonContainer.appendChild(rightButtons);\r\n        this.element.appendChild(buttonContainer);\r\n    }\r\n\r\n    // Helper methods to check for available features\r\n    hasChapterTracks() {\r\n        const textTracks = this.player.element.textTracks;\r\n        for (let i = 0; i < textTracks.length; i++) {\r\n            if (textTracks[i].kind === 'chapters') {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    hasCaptionTracks() {\r\n        const textTracks = this.player.element.textTracks;\r\n        for (let i = 0; i < textTracks.length; i++) {\r\n            if (textTracks[i].kind === 'captions' || textTracks[i].kind === 'subtitles') {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    hasQualityLevels() {\r\n        // Check if using HLS with multiple quality levels\r\n        if (this.player.renderer && this.player.renderer.hls) {\r\n            const levels = this.player.renderer.hls.levels;\r\n            return levels && levels.length > 1;\r\n        }\r\n        // For non-HLS, quality switching is not available\r\n        return false;\r\n    }\r\n\r\n    hasAudioDescription() {\r\n        return this.player.audioDescriptionSrc && this.player.audioDescriptionSrc.length > 0;\r\n    }\r\n\r\n    hasSignLanguage() {\r\n        return this.player.signLanguageSrc && this.player.signLanguageSrc.length > 0;\r\n    }\r\n\r\n    createProgressBar() {\r\n        const progressContainer = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-progress-container`,\r\n            attributes: {\r\n                'role': 'slider',\r\n                'aria-label': i18n.t('player.progress'),\r\n                'aria-valuemin': '0',\r\n                'aria-valuemax': '100',\r\n                'aria-valuenow': '0',\r\n                'tabindex': '0'\r\n            }\r\n        });\r\n\r\n        // Buffered progress\r\n        this.controls.buffered = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-progress-buffered`\r\n        });\r\n\r\n        // Played progress\r\n        this.controls.played = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-progress-played`\r\n        });\r\n\r\n        // Progress handle\r\n        this.controls.progressHandle = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-progress-handle`\r\n        });\r\n\r\n        // Tooltip\r\n        this.controls.progressTooltip = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-progress-tooltip`\r\n        });\r\n\r\n        progressContainer.appendChild(this.controls.buffered);\r\n        progressContainer.appendChild(this.controls.played);\r\n        this.controls.played.appendChild(this.controls.progressHandle);\r\n        progressContainer.appendChild(this.controls.progressTooltip);\r\n\r\n        this.controls.progress = progressContainer;\r\n        this.element.appendChild(progressContainer);\r\n\r\n        // Progress bar events\r\n        this.setupProgressBarEvents();\r\n    }\r\n\r\n    setupProgressBarEvents() {\r\n        const progress = this.controls.progress;\r\n\r\n        const updateProgress = (clientX) => {\r\n            const rect = progress.getBoundingClientRect();\r\n            const percent = Math.max(0, Math.min(1, (clientX - rect.left) / rect.width));\r\n            const time = percent * this.player.state.duration;\r\n            return {percent, time};\r\n        };\r\n\r\n        // Mouse events\r\n        progress.addEventListener('mousedown', (e) => {\r\n            this.isDraggingProgress = true;\r\n            const {time} = updateProgress(e.clientX);\r\n            this.player.seek(time);\r\n        });\r\n\r\n        document.addEventListener('mousemove', (e) => {\r\n            if (this.isDraggingProgress) {\r\n                const {time} = updateProgress(e.clientX);\r\n                this.player.seek(time);\r\n            }\r\n        });\r\n\r\n        document.addEventListener('mouseup', () => {\r\n            this.isDraggingProgress = false;\r\n        });\r\n\r\n        // Hover tooltip\r\n        progress.addEventListener('mousemove', (e) => {\r\n            if (!this.isDraggingProgress) {\r\n                const {time} = updateProgress(e.clientX);\r\n                this.controls.progressTooltip.textContent = TimeUtils.formatTime(time);\r\n                this.controls.progressTooltip.style.left = `${e.clientX - progress.getBoundingClientRect().left}px`;\r\n                this.controls.progressTooltip.style.display = 'block';\r\n            }\r\n        });\r\n\r\n        progress.addEventListener('mouseleave', () => {\r\n            this.controls.progressTooltip.style.display = 'none';\r\n        });\r\n\r\n        // Keyboard navigation\r\n        progress.addEventListener('keydown', (e) => {\r\n            if (e.key === 'ArrowLeft') {\r\n                e.preventDefault();\r\n                this.player.seekBackward(5);\r\n            } else if (e.key === 'ArrowRight') {\r\n                e.preventDefault();\r\n                this.player.seekForward(5);\r\n            }\r\n        });\r\n\r\n        // Touch events\r\n        progress.addEventListener('touchstart', (e) => {\r\n            this.isDraggingProgress = true;\r\n            const touch = e.touches[0];\r\n            const {time} = updateProgress(touch.clientX);\r\n            this.player.seek(time);\r\n        });\r\n\r\n        progress.addEventListener('touchmove', (e) => {\r\n            if (this.isDraggingProgress) {\r\n                e.preventDefault();\r\n                const touch = e.touches[0];\r\n                const {time} = updateProgress(touch.clientX);\r\n                this.player.seek(time);\r\n            }\r\n        });\r\n\r\n        progress.addEventListener('touchend', () => {\r\n            this.isDraggingProgress = false;\r\n        });\r\n    }\r\n\r\n    createPlayPauseButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-play-pause`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': i18n.t('player.play')\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('play'));\r\n\r\n        button.addEventListener('click', () => {\r\n            this.player.toggle();\r\n        });\r\n\r\n        this.controls.playPause = button;\r\n        return button;\r\n    }\r\n\r\n    createPreviousButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-previous`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': 'Previous track'\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('skipPrevious'));\r\n\r\n        button.addEventListener('click', () => {\r\n            if (this.player.playlistManager) {\r\n                this.player.playlistManager.previous();\r\n            }\r\n        });\r\n\r\n        // Update button state\r\n        const updateState = () => {\r\n            if (this.player.playlistManager) {\r\n                button.disabled = !this.player.playlistManager.hasPrevious() && !this.player.playlistManager.options.loop;\r\n            }\r\n        };\r\n        this.player.on('playlisttrackchange', updateState);\r\n        updateState();\r\n\r\n        this.controls.previous = button;\r\n        return button;\r\n    }\r\n\r\n    createNextButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-next`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': 'Next track'\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('skipNext'));\r\n\r\n        button.addEventListener('click', () => {\r\n            if (this.player.playlistManager) {\r\n                this.player.playlistManager.next();\r\n            }\r\n        });\r\n\r\n        // Update button state\r\n        const updateState = () => {\r\n            if (this.player.playlistManager) {\r\n                button.disabled = !this.player.playlistManager.hasNext() && !this.player.playlistManager.options.loop;\r\n            }\r\n        };\r\n        this.player.on('playlisttrackchange', updateState);\r\n        updateState();\r\n\r\n        this.controls.next = button;\r\n        return button;\r\n    }\r\n\r\n    createRewindButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-rewind`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': 'Rewind 15 seconds'\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('rewind'));\r\n\r\n        button.addEventListener('click', () => {\r\n            this.player.seekBackward(15);\r\n        });\r\n\r\n        return button;\r\n    }\r\n\r\n    createForwardButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-forward`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': 'Forward 15 seconds'\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('forward'));\r\n\r\n        button.addEventListener('click', () => {\r\n            this.player.seekForward(15);\r\n        });\r\n\r\n        return button;\r\n    }\r\n\r\n    createVolumeControl() {\r\n        // Mute/Volume button\r\n        const muteButton = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-mute`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': i18n.t('player.volume'),\r\n                'aria-haspopup': 'true'\r\n            }\r\n        });\r\n\r\n        muteButton.appendChild(createIconElement('volumeHigh'));\r\n\r\n        // Toggle mute on right click, show volume slider on left click\r\n        muteButton.addEventListener('contextmenu', (e) => {\r\n            e.preventDefault();\r\n            this.player.toggleMute();\r\n        });\r\n\r\n        muteButton.addEventListener('click', () => {\r\n            this.showVolumeSlider(muteButton);\r\n        });\r\n\r\n        this.controls.mute = muteButton;\r\n\r\n        return muteButton;\r\n    }\r\n\r\n    showVolumeSlider(button) {\r\n        // Remove existing slider if any\r\n        const existingSlider = document.querySelector(`.${this.player.options.classPrefix}-volume-menu`);\r\n        if (existingSlider) {\r\n            existingSlider.remove();\r\n            return;\r\n        }\r\n\r\n        // Volume menu container\r\n        const volumeMenu = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-volume-menu ${this.player.options.classPrefix}-menu`\r\n        });\r\n\r\n        const volumeSlider = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-volume-slider`,\r\n            attributes: {\r\n                'role': 'slider',\r\n                'aria-label': i18n.t('player.volume'),\r\n                'aria-valuemin': '0',\r\n                'aria-valuemax': '100',\r\n                'aria-valuenow': String(Math.round(this.player.state.volume * 100)),\r\n                'tabindex': '0'\r\n            }\r\n        });\r\n\r\n        const volumeTrack = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-volume-track`\r\n        });\r\n\r\n        const volumeFill = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-volume-fill`\r\n        });\r\n\r\n        const volumeHandle = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-volume-handle`\r\n        });\r\n\r\n        volumeTrack.appendChild(volumeFill);\r\n        volumeFill.appendChild(volumeHandle);\r\n        volumeSlider.appendChild(volumeTrack);\r\n        volumeMenu.appendChild(volumeSlider);\r\n\r\n        // Volume slider events\r\n        const updateVolume = (clientY) => {\r\n            const rect = volumeTrack.getBoundingClientRect();\r\n            const percent = Math.max(0, Math.min(1, 1 - ((clientY - rect.top) / rect.height)));\r\n            this.player.setVolume(percent);\r\n        };\r\n\r\n        volumeSlider.addEventListener('mousedown', (e) => {\r\n            e.stopPropagation();\r\n            this.isDraggingVolume = true;\r\n            updateVolume(e.clientY);\r\n        });\r\n\r\n        document.addEventListener('mousemove', (e) => {\r\n            if (this.isDraggingVolume) {\r\n                updateVolume(e.clientY);\r\n            }\r\n        });\r\n\r\n        document.addEventListener('mouseup', () => {\r\n            this.isDraggingVolume = false;\r\n        });\r\n\r\n        // Keyboard volume control\r\n        volumeSlider.addEventListener('keydown', (e) => {\r\n            if (e.key === 'ArrowUp') {\r\n                e.preventDefault();\r\n                this.player.setVolume(Math.min(1, this.player.state.volume + 0.1));\r\n            } else if (e.key === 'ArrowDown') {\r\n                e.preventDefault();\r\n                this.player.setVolume(Math.max(0, this.player.state.volume - 0.1));\r\n            }\r\n        });\r\n\r\n        // Prevent menu from closing when interacting with slider\r\n        volumeMenu.addEventListener('click', (e) => {\r\n            e.stopPropagation();\r\n        });\r\n\r\n        // Append menu to button\r\n        button.appendChild(volumeMenu);\r\n\r\n        this.controls.volumeSlider = volumeSlider;\r\n        this.controls.volumeFill = volumeFill;\r\n\r\n        // Close menu on outside click\r\n        this.attachMenuCloseHandler(volumeMenu, button, true);\r\n    }\r\n\r\n    createTimeDisplay() {\r\n        const container = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-time`\r\n        });\r\n\r\n        this.controls.currentTimeDisplay = DOMUtils.createElement('span', {\r\n            className: `${this.player.options.classPrefix}-current-time`,\r\n            textContent: '00:00'\r\n        });\r\n\r\n        const separator = DOMUtils.createElement('span', {\r\n            textContent: ' / ',\r\n            attributes: {\r\n                'aria-hidden': 'true'\r\n            }\r\n        });\r\n\r\n        this.controls.durationDisplay = DOMUtils.createElement('span', {\r\n            className: `${this.player.options.classPrefix}-duration`,\r\n            textContent: '00:00'\r\n        });\r\n\r\n        container.appendChild(this.controls.currentTimeDisplay);\r\n        container.appendChild(separator);\r\n        container.appendChild(this.controls.durationDisplay);\r\n\r\n        return container;\r\n    }\r\n\r\n    createChaptersButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-chapters`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': 'Chapters',\r\n                'aria-haspopup': 'menu'\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('playlist'));\r\n\r\n        button.addEventListener('click', () => {\r\n            this.showChaptersMenu(button);\r\n        });\r\n\r\n        this.controls.chapters = button;\r\n        return button;\r\n    }\r\n\r\n    showChaptersMenu(button) {\r\n        // Remove existing menu if any\r\n        const existingMenu = document.querySelector(`.${this.player.options.classPrefix}-chapters-menu`);\r\n        if (existingMenu) {\r\n            existingMenu.remove();\r\n            return;\r\n        }\r\n\r\n        const menu = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-chapters-menu ${this.player.options.classPrefix}-menu`,\r\n            attributes: {\r\n                'role': 'menu',\r\n                'aria-label': 'Chapters'\r\n            }\r\n        });\r\n\r\n        // Get chapter tracks\r\n        const chapterTracks = Array.from(this.player.element.textTracks).filter(\r\n            track => track.kind === 'chapters'\r\n        );\r\n\r\n        if (chapterTracks.length === 0) {\r\n            // No chapters available\r\n            const noChaptersItem = DOMUtils.createElement('div', {\r\n                className: `${this.player.options.classPrefix}-menu-item`,\r\n                textContent: 'No chapters available',\r\n                style: {opacity: '0.5', cursor: 'default'}\r\n            });\r\n            menu.appendChild(noChaptersItem);\r\n        } else {\r\n            const chapterTrack = chapterTracks[0];\r\n\r\n            // Ensure track is in 'hidden' mode to load cues\r\n            if (chapterTrack.mode === 'disabled') {\r\n                chapterTrack.mode = 'hidden';\r\n            }\r\n\r\n            if (!chapterTrack.cues || chapterTrack.cues.length === 0) {\r\n                // Cues not loaded yet - wait for them to load\r\n                const loadingItem = DOMUtils.createElement('div', {\r\n                    className: `${this.player.options.classPrefix}-menu-item`,\r\n                    textContent: 'Loading chapters...',\r\n                    style: {opacity: '0.5', cursor: 'default'}\r\n                });\r\n                menu.appendChild(loadingItem);\r\n\r\n                // Listen for track load event\r\n                const onTrackLoad = () => {\r\n                    // Remove loading message and rebuild menu\r\n                    menu.remove();\r\n                    this.showChaptersMenu(button);\r\n                };\r\n\r\n                chapterTrack.addEventListener('load', onTrackLoad, {once: true});\r\n\r\n                // Also try again after a short delay as fallback\r\n                setTimeout(() => {\r\n                    if (chapterTrack.cues && chapterTrack.cues.length > 0 && document.contains(menu)) {\r\n                        menu.remove();\r\n                        this.showChaptersMenu(button);\r\n                    }\r\n                }, 500);\r\n            } else {\r\n                // Display chapters\r\n                const cues = chapterTrack.cues;\r\n                for (let i = 0; i < cues.length; i++) {\r\n                    const cue = cues[i];\r\n                    const item = DOMUtils.createElement('button', {\r\n                        className: `${this.player.options.classPrefix}-menu-item`,\r\n                        attributes: {\r\n                            'type': 'button',\r\n                            'role': 'menuitem'\r\n                        }\r\n                    });\r\n\r\n                    const timeLabel = DOMUtils.createElement('span', {\r\n                        className: `${this.player.options.classPrefix}-chapter-time`,\r\n                        textContent: TimeUtils.formatTime(cue.startTime)\r\n                    });\r\n\r\n                    const titleLabel = DOMUtils.createElement('span', {\r\n                        className: `${this.player.options.classPrefix}-chapter-title`,\r\n                        textContent: cue.text\r\n                    });\r\n\r\n                    item.appendChild(timeLabel);\r\n                    item.appendChild(document.createTextNode(' '));\r\n                    item.appendChild(titleLabel);\r\n\r\n                    item.addEventListener('click', () => {\r\n                        this.player.seek(cue.startTime);\r\n                        menu.remove();\r\n                    });\r\n\r\n                    menu.appendChild(item);\r\n                }\r\n            }\r\n        }\r\n\r\n        // Append menu directly to button for proper positioning\r\n        button.appendChild(menu);\r\n\r\n        // Close menu on outside click\r\n        this.attachMenuCloseHandler(menu, button);\r\n    }\r\n\r\n    createQualityButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-quality`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': 'Quality',\r\n                'aria-haspopup': 'menu'\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('hd'));\r\n\r\n        button.addEventListener('click', () => {\r\n            this.showQualityMenu(button);\r\n        });\r\n\r\n        this.controls.quality = button;\r\n        return button;\r\n    }\r\n\r\n    showQualityMenu(button) {\r\n        // Remove existing menu if any\r\n        const existingMenu = document.querySelector(`.${this.player.options.classPrefix}-quality-menu`);\r\n        if (existingMenu) {\r\n            existingMenu.remove();\r\n            return;\r\n        }\r\n\r\n        const menu = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-quality-menu ${this.player.options.classPrefix}-menu`,\r\n            attributes: {\r\n                'role': 'menu',\r\n                'aria-label': 'Quality'\r\n            }\r\n        });\r\n\r\n        // Check if renderer supports quality selection\r\n        if (this.player.renderer && this.player.renderer.getQualities) {\r\n            const qualities = this.player.renderer.getQualities();\r\n\r\n            if (qualities.length === 0) {\r\n                // No qualities available\r\n                const noQualityItem = DOMUtils.createElement('div', {\r\n                    className: `${this.player.options.classPrefix}-menu-item`,\r\n                    textContent: 'Auto (no quality selection available)',\r\n                    style: {opacity: '0.5', cursor: 'default'}\r\n                });\r\n                menu.appendChild(noQualityItem);\r\n            } else {\r\n                // Auto quality option\r\n                const autoItem = DOMUtils.createElement('button', {\r\n                    className: `${this.player.options.classPrefix}-menu-item`,\r\n                    textContent: 'Auto',\r\n                    attributes: {\r\n                        'type': 'button',\r\n                        'role': 'menuitem'\r\n                    }\r\n                });\r\n\r\n                autoItem.addEventListener('click', () => {\r\n                    if (this.player.renderer.switchQuality) {\r\n                        this.player.renderer.switchQuality(-1); // -1 for auto\r\n                    }\r\n                    menu.remove();\r\n                });\r\n\r\n                menu.appendChild(autoItem);\r\n\r\n                // Quality options\r\n                qualities.forEach(quality => {\r\n                    const item = DOMUtils.createElement('button', {\r\n                        className: `${this.player.options.classPrefix}-menu-item`,\r\n                        textContent: quality.name || `${quality.height}p`,\r\n                        attributes: {\r\n                            'type': 'button',\r\n                            'role': 'menuitem'\r\n                        }\r\n                    });\r\n\r\n                    item.addEventListener('click', () => {\r\n                        if (this.player.renderer.switchQuality) {\r\n                            this.player.renderer.switchQuality(quality.index);\r\n                        }\r\n                        menu.remove();\r\n                    });\r\n\r\n                    menu.appendChild(item);\r\n                });\r\n            }\r\n        } else {\r\n            // No quality support\r\n            const noSupportItem = DOMUtils.createElement('div', {\r\n                className: `${this.player.options.classPrefix}-menu-item`,\r\n                textContent: 'Quality selection not available',\r\n                style: {opacity: '0.5', cursor: 'default'}\r\n            });\r\n            menu.appendChild(noSupportItem);\r\n        }\r\n\r\n        // Append menu directly to button for proper positioning\r\n        button.appendChild(menu);\r\n\r\n        // Close menu on outside click\r\n        this.attachMenuCloseHandler(menu, button);\r\n    }\r\n\r\n    createCaptionStyleButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-caption-style`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': 'Caption styling',\r\n                'aria-haspopup': 'menu',\r\n                'title': 'Caption styling'\r\n            }\r\n        });\r\n\r\n        // Create \"Aa\" text icon for styling\r\n        const textIcon = DOMUtils.createElement('span', {\r\n            textContent: 'Aa',\r\n            style: {\r\n                fontSize: '14px',\r\n                fontWeight: 'bold'\r\n            }\r\n        });\r\n        button.appendChild(textIcon);\r\n\r\n        button.addEventListener('click', () => {\r\n            this.showCaptionStyleMenu(button);\r\n        });\r\n\r\n        this.controls.captionStyle = button;\r\n        return button;\r\n    }\r\n\r\n    showCaptionStyleMenu(button) {\r\n        // Remove existing menu if any\r\n        const existingMenu = document.querySelector(`.${this.player.options.classPrefix}-caption-style-menu`);\r\n        if (existingMenu) {\r\n            existingMenu.remove();\r\n            return;\r\n        }\r\n\r\n        const menu = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-caption-style-menu ${this.player.options.classPrefix}-menu ${this.player.options.classPrefix}-settings-menu`,\r\n            attributes: {\r\n                'role': 'menu',\r\n                'aria-label': 'Caption styling'\r\n            }\r\n        });\r\n\r\n        // Prevent menu from closing when clicking inside\r\n        menu.addEventListener('click', (e) => {\r\n            e.stopPropagation();\r\n        });\r\n\r\n        // Check if there are any caption tracks\r\n        if (!this.player.captionManager || this.player.captionManager.tracks.length === 0) {\r\n            // Show \"No captions available\" message\r\n            const noTracksItem = DOMUtils.createElement('div', {\r\n                className: `${this.player.options.classPrefix}-menu-item`,\r\n                textContent: 'No captions available',\r\n                style: {opacity: '0.5', cursor: 'default', padding: '12px 16px'}\r\n            });\r\n            menu.appendChild(noTracksItem);\r\n\r\n            // Append menu to button\r\n            button.appendChild(menu);\r\n\r\n            // Close menu on outside click\r\n            this.attachMenuCloseHandler(menu, button, true);\r\n            return;\r\n        }\r\n\r\n        // Font Size\r\n        const fontSizeGroup = this.createStyleControl(\r\n            'Font Size',\r\n            'captionsFontSize',\r\n            [\r\n                {label: 'Small', value: '80%'},\r\n                {label: 'Medium', value: '100%'},\r\n                {label: 'Large', value: '120%'},\r\n                {label: 'X-Large', value: '150%'}\r\n            ]\r\n        );\r\n        menu.appendChild(fontSizeGroup);\r\n\r\n        // Font Family\r\n        const fontFamilyGroup = this.createStyleControl(\r\n            'Font',\r\n            'captionsFontFamily',\r\n            [\r\n                {label: 'Sans-serif', value: 'sans-serif'},\r\n                {label: 'Serif', value: 'serif'},\r\n                {label: 'Monospace', value: 'monospace'}\r\n            ]\r\n        );\r\n        menu.appendChild(fontFamilyGroup);\r\n\r\n        // Text Color\r\n        const colorGroup = this.createColorControl('Text Color', 'captionsColor');\r\n        menu.appendChild(colorGroup);\r\n\r\n        // Background Color\r\n        const bgColorGroup = this.createColorControl('Background', 'captionsBackgroundColor');\r\n        menu.appendChild(bgColorGroup);\r\n\r\n        // Opacity\r\n        const opacityGroup = this.createOpacityControl('Opacity', 'captionsOpacity');\r\n        menu.appendChild(opacityGroup);\r\n\r\n        // Add close button\r\n        const closeButton = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-menu-item`,\r\n            textContent: 'Close',\r\n            style: {\r\n                marginTop: '8px',\r\n                borderTop: '1px solid rgba(255, 255, 255, 0.2)',\r\n                paddingTop: '12px'\r\n            },\r\n            attributes: {\r\n                'type': 'button'\r\n            }\r\n        });\r\n        closeButton.addEventListener('click', (e) => {\r\n            e.stopPropagation();\r\n            menu.remove();\r\n        });\r\n        menu.appendChild(closeButton);\r\n\r\n        // Set min-width for caption style menu\r\n        menu.style.minWidth = '220px';\r\n\r\n        // Append menu directly to button for proper positioning\r\n        button.appendChild(menu);\r\n\r\n        // Close menu on outside click (but not when interacting with controls)\r\n        this.attachMenuCloseHandler(menu, button, true);\r\n    }\r\n\r\n    createStyleControl(label, property, options) {\r\n        const group = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-style-group`\r\n        });\r\n\r\n        const labelEl = DOMUtils.createElement('label', {\r\n            textContent: label,\r\n            style: {\r\n                display: 'block',\r\n                fontSize: '12px',\r\n                marginBottom: '4px',\r\n                color: 'rgba(255,255,255,0.7)'\r\n            }\r\n        });\r\n        group.appendChild(labelEl);\r\n\r\n        const select = DOMUtils.createElement('select', {\r\n            className: `${this.player.options.classPrefix}-style-select`,\r\n            style: {\r\n                width: '100%',\r\n                padding: '6px',\r\n                background: 'var(--vidply-white)',\r\n                border: '1px solid var(--vidply-white-10)',\r\n                borderRadius: '4px',\r\n                color: 'var(--vidply-black)',\r\n                fontSize: '13px'\r\n            }\r\n        });\r\n\r\n        const currentValue = this.player.options[property];\r\n        options.forEach(opt => {\r\n            const option = DOMUtils.createElement('option', {\r\n                textContent: opt.label,\r\n                attributes: {value: opt.value}\r\n            });\r\n            if (opt.value === currentValue) {\r\n                option.selected = true;\r\n            }\r\n            select.appendChild(option);\r\n        });\r\n\r\n        // Prevent clicks from closing the menu\r\n        select.addEventListener('mousedown', (e) => {\r\n            e.stopPropagation();\r\n        });\r\n\r\n        select.addEventListener('click', (e) => {\r\n            e.stopPropagation();\r\n        });\r\n\r\n        select.addEventListener('change', (e) => {\r\n            e.stopPropagation();\r\n            this.player.options[property] = e.target.value;\r\n            if (this.player.captionManager) {\r\n                this.player.captionManager.setCaptionStyle(\r\n                    property.replace('captions', '').charAt(0).toLowerCase() + property.replace('captions', '').slice(1),\r\n                    e.target.value\r\n                );\r\n            }\r\n        });\r\n\r\n        group.appendChild(select);\r\n        return group;\r\n    }\r\n\r\n    createColorControl(label, property) {\r\n        const group = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-style-group`\r\n        });\r\n\r\n        const labelEl = DOMUtils.createElement('label', {\r\n            textContent: label,\r\n            style: {\r\n                display: 'block',\r\n                fontSize: '12px',\r\n                marginBottom: '4px',\r\n                color: 'rgba(255,255,255,0.7)'\r\n            }\r\n        });\r\n        group.appendChild(labelEl);\r\n\r\n        const input = DOMUtils.createElement('input', {\r\n            attributes: {\r\n                type: 'color',\r\n                value: this.player.options[property]\r\n            },\r\n            style: {\r\n                width: '100%',\r\n                height: '32px',\r\n                padding: '2px',\r\n                background: 'rgba(255,255,255,0.1)',\r\n                border: '1px solid rgba(255,255,255,0.2)',\r\n                borderRadius: '4px',\r\n                cursor: 'pointer'\r\n            }\r\n        });\r\n\r\n        // Prevent clicks from closing the menu\r\n        input.addEventListener('mousedown', (e) => {\r\n            e.stopPropagation();\r\n        });\r\n\r\n        input.addEventListener('click', (e) => {\r\n            e.stopPropagation();\r\n        });\r\n\r\n        input.addEventListener('change', (e) => {\r\n            e.stopPropagation();\r\n            this.player.options[property] = e.target.value;\r\n            if (this.player.captionManager) {\r\n                this.player.captionManager.setCaptionStyle(\r\n                    property.replace('captions', '').charAt(0).toLowerCase() + property.replace('captions', '').slice(1),\r\n                    e.target.value\r\n                );\r\n            }\r\n        });\r\n\r\n        group.appendChild(input);\r\n        return group;\r\n    }\r\n\r\n    createOpacityControl(label, property) {\r\n        const group = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-style-group`\r\n        });\r\n\r\n        const labelContainer = DOMUtils.createElement('div', {\r\n            style: {\r\n                display: 'flex',\r\n                justifyContent: 'space-between',\r\n                marginBottom: '4px'\r\n            }\r\n        });\r\n\r\n        const labelEl = DOMUtils.createElement('label', {\r\n            textContent: label,\r\n            style: {\r\n                fontSize: '12px',\r\n                color: 'rgba(255,255,255,0.7)'\r\n            }\r\n        });\r\n\r\n        const valueEl = DOMUtils.createElement('span', {\r\n            textContent: Math.round(this.player.options[property] * 100) + '%',\r\n            style: {\r\n                fontSize: '12px',\r\n                color: 'rgba(255,255,255,0.7)'\r\n            }\r\n        });\r\n\r\n        labelContainer.appendChild(labelEl);\r\n        labelContainer.appendChild(valueEl);\r\n        group.appendChild(labelContainer);\r\n\r\n        const input = DOMUtils.createElement('input', {\r\n            attributes: {\r\n                type: 'range',\r\n                min: '0',\r\n                max: '1',\r\n                step: '0.1',\r\n                value: String(this.player.options[property])\r\n            },\r\n            style: {\r\n                width: '100%',\r\n                cursor: 'pointer'\r\n            }\r\n        });\r\n\r\n        // Prevent clicks from closing the menu\r\n        input.addEventListener('mousedown', (e) => {\r\n            e.stopPropagation();\r\n        });\r\n\r\n        input.addEventListener('click', (e) => {\r\n            e.stopPropagation();\r\n        });\r\n\r\n        input.addEventListener('input', (e) => {\r\n            e.stopPropagation();\r\n            const value = parseFloat(e.target.value);\r\n            valueEl.textContent = Math.round(value * 100) + '%';\r\n            this.player.options[property] = value;\r\n            if (this.player.captionManager) {\r\n                this.player.captionManager.setCaptionStyle(\r\n                    property.replace('captions', '').charAt(0).toLowerCase() + property.replace('captions', '').slice(1),\r\n                    value\r\n                );\r\n            }\r\n        });\r\n\r\n        group.appendChild(input);\r\n        return group;\r\n    }\r\n\r\n    createSpeedButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-speed`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': i18n.t('player.speed'),\r\n                'aria-haspopup': 'menu'\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('speed'));\r\n\r\n        const speedText = DOMUtils.createElement('span', {\r\n            className: `${this.player.options.classPrefix}-speed-text`,\r\n            textContent: '1x'\r\n        });\r\n        button.appendChild(speedText);\r\n\r\n        button.addEventListener('click', () => {\r\n            this.showSpeedMenu(button);\r\n        });\r\n\r\n        this.controls.speed = button;\r\n        this.controls.speedText = speedText;\r\n        return button;\r\n    }\r\n\r\n    showSpeedMenu(button) {\r\n        // Remove existing menu if any\r\n        const existingMenu = document.querySelector(`.${this.player.options.classPrefix}-speed-menu`);\r\n        if (existingMenu) {\r\n            existingMenu.remove();\r\n            return;\r\n        }\r\n\r\n        const menu = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-speed-menu ${this.player.options.classPrefix}-menu`,\r\n            attributes: {\r\n                'role': 'menu'\r\n            }\r\n        });\r\n\r\n        const speeds = [0.25, 0.5, 0.75, 1, 1.25, 1.5, 1.75, 2];\r\n\r\n        speeds.forEach(speed => {\r\n            const item = DOMUtils.createElement('button', {\r\n                className: `${this.player.options.classPrefix}-menu-item`,\r\n                textContent: i18n.t(`speeds.${speed}`) || `${speed}x`,\r\n                attributes: {\r\n                    'type': 'button',\r\n                    'role': 'menuitem'\r\n                }\r\n            });\r\n\r\n            if (speed === this.player.state.playbackSpeed) {\r\n                item.classList.add(`${this.player.options.classPrefix}-menu-item-active`);\r\n                item.appendChild(createIconElement('check'));\r\n            }\r\n\r\n            item.addEventListener('click', () => {\r\n                this.player.setPlaybackSpeed(speed);\r\n                menu.remove();\r\n            });\r\n\r\n            menu.appendChild(item);\r\n        });\r\n\r\n        // Append menu directly to button for proper positioning\r\n        button.appendChild(menu);\r\n\r\n        // Close menu on outside click\r\n        this.attachMenuCloseHandler(menu, button);\r\n    }\r\n\r\n    createCaptionsButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-captions-button`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': i18n.t('player.captions'),\r\n                'aria-pressed': 'false',\r\n                'aria-haspopup': 'menu'\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('captionsOff'));\r\n\r\n        button.addEventListener('click', () => {\r\n            this.showCaptionsMenu(button);\r\n        });\r\n\r\n        this.controls.captions = button;\r\n        return button;\r\n    }\r\n\r\n    showCaptionsMenu(button) {\r\n        // Remove existing menu if any\r\n        const existingMenu = document.querySelector(`.${this.player.options.classPrefix}-captions-menu`);\r\n        if (existingMenu) {\r\n            existingMenu.remove();\r\n            return;\r\n        }\r\n\r\n        const menu = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-captions-menu ${this.player.options.classPrefix}-menu`,\r\n            attributes: {\r\n                'role': 'menu',\r\n                'aria-label': i18n.t('captions.select')\r\n            }\r\n        });\r\n\r\n        // Check if there are any caption tracks\r\n        if (!this.player.captionManager || this.player.captionManager.tracks.length === 0) {\r\n            // Show \"No captions available\" message\r\n            const noTracksItem = DOMUtils.createElement('div', {\r\n                className: `${this.player.options.classPrefix}-menu-item`,\r\n                textContent: 'No captions available',\r\n                style: {opacity: '0.5', cursor: 'default'}\r\n            });\r\n            menu.appendChild(noTracksItem);\r\n\r\n            // Append menu to button\r\n            button.appendChild(menu);\r\n\r\n            // Close menu on outside click\r\n            this.attachMenuCloseHandler(menu, button);\r\n            return;\r\n        }\r\n\r\n        // Off option\r\n        const offItem = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-menu-item`,\r\n            textContent: i18n.t('captions.off'),\r\n            attributes: {\r\n                'type': 'button',\r\n                'role': 'menuitem'\r\n            }\r\n        });\r\n\r\n        if (!this.player.state.captionsEnabled) {\r\n            offItem.classList.add(`${this.player.options.classPrefix}-menu-item-active`);\r\n            offItem.appendChild(createIconElement('check'));\r\n        }\r\n\r\n        offItem.addEventListener('click', () => {\r\n            this.player.disableCaptions();\r\n            this.updateCaptionsButton();\r\n            menu.remove();\r\n        });\r\n\r\n        menu.appendChild(offItem);\r\n\r\n        // Available tracks\r\n        const tracks = this.player.captionManager.getAvailableTracks();\r\n        tracks.forEach(track => {\r\n            const item = DOMUtils.createElement('button', {\r\n                className: `${this.player.options.classPrefix}-menu-item`,\r\n                textContent: track.label,\r\n                attributes: {\r\n                    'type': 'button',\r\n                    'role': 'menuitem',\r\n                    'lang': track.language\r\n                }\r\n            });\r\n\r\n            // Check if this is the current track\r\n            if (this.player.state.captionsEnabled &&\r\n                this.player.captionManager.currentTrack === this.player.captionManager.tracks[track.index]) {\r\n                item.classList.add(`${this.player.options.classPrefix}-menu-item-active`);\r\n                item.appendChild(createIconElement('check'));\r\n            }\r\n\r\n            item.addEventListener('click', () => {\r\n                this.player.captionManager.switchTrack(track.index);\r\n                this.updateCaptionsButton();\r\n                menu.remove();\r\n            });\r\n\r\n            menu.appendChild(item);\r\n        });\r\n\r\n        // Append menu directly to button for proper positioning\r\n        button.appendChild(menu);\r\n\r\n        // Close menu on outside click\r\n        this.attachMenuCloseHandler(menu, button);\r\n    }\r\n\r\n    updateCaptionsButton() {\r\n        if (!this.controls.captions) return;\r\n\r\n        const icon = this.controls.captions.querySelector('.vidply-icon');\r\n        const isEnabled = this.player.state.captionsEnabled;\r\n\r\n        icon.innerHTML = isEnabled ?\r\n            createIconElement('captions').innerHTML :\r\n            createIconElement('captionsOff').innerHTML;\r\n\r\n        this.controls.captions.setAttribute('aria-pressed', isEnabled ? 'true' : 'false');\r\n    }\r\n\r\n    createTranscriptButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-transcript`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': 'Toggle transcript',\r\n                'aria-pressed': 'false'\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('transcript'));\r\n\r\n        button.addEventListener('click', () => {\r\n            if (this.player.transcriptManager) {\r\n                this.player.transcriptManager.toggleTranscript();\r\n                this.updateTranscriptButton();\r\n            }\r\n        });\r\n\r\n        this.controls.transcript = button;\r\n        return button;\r\n    }\r\n\r\n    updateTranscriptButton() {\r\n        if (!this.controls.transcript) return;\r\n\r\n        const isVisible = this.player.transcriptManager && this.player.transcriptManager.isVisible;\r\n        this.controls.transcript.setAttribute('aria-pressed', isVisible ? 'true' : 'false');\r\n    }\r\n\r\n    createAudioDescriptionButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-audio-description`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': 'Audio description',\r\n                'aria-pressed': 'false',\r\n                'title': 'Toggle audio description'\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('audioDescription'));\r\n\r\n        button.addEventListener('click', async () => {\r\n            await this.player.toggleAudioDescription();\r\n            this.updateAudioDescriptionButton();\r\n        });\r\n\r\n        this.controls.audioDescription = button;\r\n        return button;\r\n    }\r\n\r\n    updateAudioDescriptionButton() {\r\n        if (!this.controls.audioDescription) return;\r\n\r\n        const icon = this.controls.audioDescription.querySelector('.vidply-icon');\r\n        const isEnabled = this.player.state.audioDescriptionEnabled;\r\n\r\n        icon.innerHTML = isEnabled ?\r\n            createIconElement('audioDescriptionOn').innerHTML :\r\n            createIconElement('audioDescription').innerHTML;\r\n\r\n        this.controls.audioDescription.setAttribute('aria-pressed', isEnabled ? 'true' : 'false');\r\n        this.controls.audioDescription.setAttribute('aria-label',\r\n            isEnabled ? 'Disable audio description' : 'Enable audio description'\r\n        );\r\n    }\r\n\r\n    createSignLanguageButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-sign-language`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': 'Sign language video',\r\n                'aria-pressed': 'false',\r\n                'title': 'Toggle sign language video'\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('signLanguage'));\r\n\r\n        button.addEventListener('click', () => {\r\n            this.player.toggleSignLanguage();\r\n            this.updateSignLanguageButton();\r\n        });\r\n\r\n        this.controls.signLanguage = button;\r\n        return button;\r\n    }\r\n\r\n    updateSignLanguageButton() {\r\n        if (!this.controls.signLanguage) return;\r\n\r\n        const icon = this.controls.signLanguage.querySelector('.vidply-icon');\r\n        const isEnabled = this.player.state.signLanguageEnabled;\r\n\r\n        icon.innerHTML = isEnabled ?\r\n            createIconElement('signLanguageOn').innerHTML :\r\n            createIconElement('signLanguage').innerHTML;\r\n\r\n        this.controls.signLanguage.setAttribute('aria-pressed', isEnabled ? 'true' : 'false');\r\n        this.controls.signLanguage.setAttribute('aria-label',\r\n            isEnabled ? 'Hide sign language video' : 'Show sign language video'\r\n        );\r\n    }\r\n\r\n    createSettingsButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-settings`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': i18n.t('player.settings')\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('settings'));\r\n\r\n        button.addEventListener('click', () => {\r\n            this.player.showSettings();\r\n        });\r\n\r\n        return button;\r\n    }\r\n\r\n    createPipButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-pip`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': i18n.t('player.pip')\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('pip'));\r\n\r\n        button.addEventListener('click', () => {\r\n            this.player.togglePiP();\r\n        });\r\n\r\n        return button;\r\n    }\r\n\r\n    createFullscreenButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-fullscreen`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': i18n.t('player.fullscreen')\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('fullscreen'));\r\n\r\n        button.addEventListener('click', () => {\r\n            this.player.toggleFullscreen();\r\n        });\r\n\r\n        this.controls.fullscreen = button;\r\n        return button;\r\n    }\r\n\r\n    attachEvents() {\r\n        // Update controls based on player state\r\n        this.player.on('play', () => this.updatePlayPauseButton());\r\n        this.player.on('pause', () => this.updatePlayPauseButton());\r\n        this.player.on('timeupdate', () => this.updateProgress());\r\n        this.player.on('loadedmetadata', () => this.updateDuration());\r\n        this.player.on('volumechange', () => this.updateVolumeDisplay());\r\n        this.player.on('progress', () => this.updateBuffered());\r\n        this.player.on('playbackspeedchange', () => this.updateSpeedDisplay());\r\n        this.player.on('fullscreenchange', () => this.updateFullscreenButton());\r\n        this.player.on('captionsenabled', () => this.updateCaptionsButton());\r\n        this.player.on('captionsdisabled', () => this.updateCaptionsButton());\r\n        this.player.on('audiodescriptionenabled', () => this.updateAudioDescriptionButton());\r\n        this.player.on('audiodescriptiondisabled', () => this.updateAudioDescriptionButton());\r\n        this.player.on('signlanguageenabled', () => this.updateSignLanguageButton());\r\n        this.player.on('signlanguagedisabled', () => this.updateSignLanguageButton());\r\n    }\r\n\r\n    updatePlayPauseButton() {\r\n        if (!this.controls.playPause) return;\r\n\r\n        const icon = this.controls.playPause.querySelector('.vidply-icon');\r\n        const isPlaying = this.player.state.playing;\r\n\r\n        icon.innerHTML = isPlaying ?\r\n            createIconElement('pause').innerHTML :\r\n            createIconElement('play').innerHTML;\r\n\r\n        this.controls.playPause.setAttribute('aria-label',\r\n            isPlaying ? i18n.t('player.pause') : i18n.t('player.play')\r\n        );\r\n    }\r\n\r\n    updateProgress() {\r\n        if (!this.controls.played) return;\r\n\r\n        const percent = (this.player.state.currentTime / this.player.state.duration) * 100;\r\n        this.controls.played.style.width = `${percent}%`;\r\n        this.controls.progress.setAttribute('aria-valuenow', String(Math.round(percent)));\r\n\r\n        if (this.controls.currentTimeDisplay) {\r\n            this.controls.currentTimeDisplay.textContent = TimeUtils.formatTime(this.player.state.currentTime);\r\n        }\r\n    }\r\n\r\n    updateDuration() {\r\n        if (this.controls.durationDisplay) {\r\n            this.controls.durationDisplay.textContent = TimeUtils.formatTime(this.player.state.duration);\r\n        }\r\n    }\r\n\r\n    updateVolumeDisplay() {\r\n        if (!this.controls.volumeFill) return;\r\n\r\n        const percent = this.player.state.volume * 100;\r\n        this.controls.volumeFill.style.height = `${percent}%`;\r\n\r\n        // Update mute button icon\r\n        if (this.controls.mute) {\r\n            const icon = this.controls.mute.querySelector('.vidply-icon');\r\n            let iconName;\r\n\r\n            if (this.player.state.muted || this.player.state.volume === 0) {\r\n                iconName = 'volumeMuted';\r\n            } else if (this.player.state.volume < 0.3) {\r\n                iconName = 'volumeLow';\r\n            } else if (this.player.state.volume < 0.7) {\r\n                iconName = 'volumeMedium';\r\n            } else {\r\n                iconName = 'volumeHigh';\r\n            }\r\n\r\n            icon.innerHTML = createIconElement(iconName).innerHTML;\r\n\r\n            this.controls.mute.setAttribute('aria-label',\r\n                this.player.state.muted ? i18n.t('player.unmute') : i18n.t('player.mute')\r\n            );\r\n        }\r\n\r\n        if (this.controls.volumeSlider) {\r\n            this.controls.volumeSlider.setAttribute('aria-valuenow', String(Math.round(percent)));\r\n        }\r\n    }\r\n\r\n    updateBuffered() {\r\n        if (!this.controls.buffered || !this.player.element.buffered || this.player.element.buffered.length === 0) return;\r\n\r\n        const buffered = this.player.element.buffered.end(this.player.element.buffered.length - 1);\r\n        const percent = (buffered / this.player.state.duration) * 100;\r\n        this.controls.buffered.style.width = `${percent}%`;\r\n    }\r\n\r\n    updateSpeedDisplay() {\r\n        if (this.controls.speedText) {\r\n            this.controls.speedText.textContent = `${this.player.state.playbackSpeed}x`;\r\n        }\r\n    }\r\n\r\n    updateFullscreenButton() {\r\n        if (!this.controls.fullscreen) return;\r\n\r\n        const icon = this.controls.fullscreen.querySelector('.vidply-icon');\r\n        const isFullscreen = this.player.state.fullscreen;\r\n\r\n        icon.innerHTML = isFullscreen ?\r\n            createIconElement('fullscreenExit').innerHTML :\r\n            createIconElement('fullscreen').innerHTML;\r\n\r\n        this.controls.fullscreen.setAttribute('aria-label',\r\n            isFullscreen ? i18n.t('player.exitFullscreen') : i18n.t('player.fullscreen')\r\n        );\r\n    }\r\n\r\n    setupAutoHide() {\r\n        if (this.player.element.tagName !== 'VIDEO') return;\r\n\r\n        const showControls = () => {\r\n            this.element.classList.add(`${this.player.options.classPrefix}-controls-visible`);\r\n            this.player.state.controlsVisible = true;\r\n\r\n            clearTimeout(this.hideTimeout);\r\n\r\n            if (this.player.state.playing) {\r\n                this.hideTimeout = setTimeout(() => {\r\n                    this.element.classList.remove(`${this.player.options.classPrefix}-controls-visible`);\r\n                    this.player.state.controlsVisible = false;\r\n                }, this.player.options.hideControlsDelay);\r\n            }\r\n        };\r\n\r\n        this.player.container.addEventListener('mousemove', showControls);\r\n        this.player.container.addEventListener('touchstart', showControls);\r\n        this.player.container.addEventListener('click', showControls);\r\n\r\n        // Show controls on focus\r\n        this.element.addEventListener('focusin', showControls);\r\n\r\n        // Always show when paused\r\n        this.player.on('pause', () => {\r\n            showControls();\r\n            clearTimeout(this.hideTimeout);\r\n        });\r\n\r\n        this.player.on('play', () => {\r\n            showControls();\r\n        });\r\n\r\n        // Initial state\r\n        showControls();\r\n    }\r\n\r\n    show() {\r\n        this.element.style.display = '';\r\n    }\r\n\r\n    hide() {\r\n        this.element.style.display = 'none';\r\n    }\r\n\r\n    destroy() {\r\n        if (this.hideTimeout) {\r\n            clearTimeout(this.hideTimeout);\r\n        }\r\n\r\n        if (this.element && this.element.parentNode) {\r\n            this.element.parentNode.removeChild(this.element);\r\n        }\r\n    }\r\n}\r\n\r\n", "/**\r\n * Caption/Subtitle Manager\r\n */\r\n\r\nimport { DOMUtils } from '../utils/DOMUtils.js';\r\nimport { i18n } from '../i18n/i18n.js';\r\n\r\nexport class CaptionManager {\r\n  constructor(player) {\r\n    this.player = player;\r\n    this.element = null;\r\n    this.tracks = [];\r\n    this.currentTrack = null;\r\n    this.currentCue = null;\r\n    \r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.createElement();\r\n    this.loadTracks();\r\n    this.attachEvents();\r\n    \r\n    if (this.player.options.captionsDefault && this.tracks.length > 0) {\r\n      this.enable();\r\n    }\r\n  }\r\n\r\n  createElement() {\r\n    this.element = DOMUtils.createElement('div', {\r\n      className: `${this.player.options.classPrefix}-captions`,\r\n      attributes: {\r\n        'aria-live': 'polite',\r\n        'aria-atomic': 'true',\r\n        'role': 'region',\r\n        'aria-label': i18n.t('player.captions')\r\n      }\r\n    });\r\n\r\n    // Apply caption styles\r\n    this.updateStyles();\r\n    \r\n    // Append to videoWrapper if it exists, otherwise to container\r\n    const target = this.player.videoWrapper || this.player.container;\r\n    target.appendChild(this.element);\r\n  }\r\n\r\n  loadTracks() {\r\n    const textTracks = this.player.element.textTracks;\r\n    \r\n    for (let i = 0; i < textTracks.length; i++) {\r\n      const track = textTracks[i];\r\n      \r\n      if (track.kind === 'subtitles' || track.kind === 'captions') {\r\n        this.tracks.push({\r\n          track: track,\r\n          language: track.language,\r\n          label: track.label,\r\n          kind: track.kind,\r\n          index: i\r\n        });\r\n        \r\n        // Disable all tracks initially\r\n        track.mode = 'hidden';\r\n      }\r\n    }\r\n  }\r\n\r\n  attachEvents() {\r\n    this.player.on('timeupdate', () => {\r\n      this.updateCaptions();\r\n    });\r\n\r\n    this.player.on('captionschange', () => {\r\n      this.updateStyles();\r\n    });\r\n  }\r\n\r\n  enable(trackIndex = 0) {\r\n    if (this.tracks.length === 0) {\r\n      return;\r\n    }\r\n\r\n    // Disable current track\r\n    if (this.currentTrack) {\r\n      this.currentTrack.track.mode = 'hidden';\r\n    }\r\n\r\n    // Enable selected track\r\n    const selectedTrack = this.tracks[trackIndex];\r\n    \r\n    if (selectedTrack) {\r\n      // Set to 'hidden' not 'showing' to prevent browser from displaying native captions\r\n      // We'll handle the display ourselves\r\n      selectedTrack.track.mode = 'hidden';\r\n      this.currentTrack = selectedTrack;\r\n      this.player.state.captionsEnabled = true;\r\n      \r\n      // Remove any existing cuechange listener\r\n      if (this.cueChangeHandler) {\r\n        selectedTrack.track.removeEventListener('cuechange', this.cueChangeHandler);\r\n      }\r\n      \r\n      // Add event listener for cue changes\r\n      this.cueChangeHandler = () => {\r\n        this.updateCaptions();\r\n      };\r\n      selectedTrack.track.addEventListener('cuechange', this.cueChangeHandler);\r\n      \r\n      this.element.style.display = 'block';\r\n      \r\n      this.player.emit('captionsenabled', selectedTrack);\r\n    }\r\n  }\r\n\r\n  disable() {\r\n    if (this.currentTrack) {\r\n      this.currentTrack.track.mode = 'hidden';\r\n      this.currentTrack = null;\r\n    }\r\n\r\n    this.element.style.display = 'none';\r\n    this.element.innerHTML = '';\r\n    this.currentCue = null;\r\n    this.player.state.captionsEnabled = false;\r\n    this.player.emit('captionsdisabled');\r\n  }\r\n\r\n  updateCaptions() {\r\n    if (!this.currentTrack) {\r\n      return;\r\n    }\r\n    \r\n    if (!this.currentTrack.track.activeCues) {\r\n      return;\r\n    }\r\n\r\n    const activeCues = this.currentTrack.track.activeCues;\r\n    \r\n    if (activeCues.length > 0) {\r\n      const cue = activeCues[0];\r\n      \r\n      // Only update if the cue has changed\r\n      if (this.currentCue !== cue) {\r\n        this.currentCue = cue;\r\n        \r\n        // Parse and display cue text\r\n        let text = cue.text;\r\n        \r\n        // Handle VTT formatting\r\n        text = this.parseVTTFormatting(text);\r\n        \r\n        this.element.innerHTML = DOMUtils.sanitizeHTML(text);\r\n        \r\n        // Make sure it's visible when there's content\r\n        this.element.style.display = 'block';\r\n        \r\n        this.player.emit('captionchange', cue);\r\n      }\r\n    } else if (this.currentCue) {\r\n      // Clear caption\r\n      this.element.innerHTML = '';\r\n      this.element.style.display = 'none';\r\n      this.currentCue = null;\r\n    }\r\n  }\r\n\r\n  parseVTTFormatting(text) {\r\n    // Basic VTT tag support\r\n    text = text.replace(/<c[^>]*>(.*?)<\\/c>/g, '<span class=\"caption-class\">$1</span>');\r\n    text = text.replace(/<b>(.*?)<\\/b>/g, '<strong>$1</strong>');\r\n    text = text.replace(/<i>(.*?)<\\/i>/g, '<em>$1</em>');\r\n    text = text.replace(/<u>(.*?)<\\/u>/g, '<u>$1</u>');\r\n    \r\n    // Voice tags\r\n    text = text.replace(/<v\\s+([^>]+)>(.*?)<\\/v>/g, '<span class=\"caption-voice\" data-voice=\"$1\">$2</span>');\r\n    \r\n    return text;\r\n  }\r\n\r\n  updateStyles() {\r\n    if (!this.element) return;\r\n\r\n    const options = this.player.options;\r\n    \r\n    this.element.style.fontSize = options.captionsFontSize;\r\n    this.element.style.fontFamily = options.captionsFontFamily;\r\n    this.element.style.color = options.captionsColor;\r\n    this.element.style.backgroundColor = this.hexToRgba(\r\n      options.captionsBackgroundColor, \r\n      options.captionsOpacity\r\n    );\r\n  }\r\n\r\n  hexToRgba(hex, alpha) {\r\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n    if (result) {\r\n      return `rgba(${parseInt(result[1], 16)}, ${parseInt(result[2], 16)}, ${parseInt(result[3], 16)}, ${alpha})`;\r\n    }\r\n    return hex;\r\n  }\r\n\r\n  setCaptionStyle(property, value) {\r\n    switch (property) {\r\n      case 'fontSize':\r\n        this.player.options.captionsFontSize = value;\r\n        break;\r\n      case 'fontFamily':\r\n        this.player.options.captionsFontFamily = value;\r\n        break;\r\n      case 'color':\r\n        this.player.options.captionsColor = value;\r\n        break;\r\n      case 'backgroundColor':\r\n        this.player.options.captionsBackgroundColor = value;\r\n        break;\r\n      case 'opacity':\r\n        this.player.options.captionsOpacity = value;\r\n        break;\r\n    }\r\n    \r\n    this.updateStyles();\r\n    this.player.emit('captionschange');\r\n  }\r\n\r\n  getAvailableTracks() {\r\n    return this.tracks.map((t, index) => ({\r\n      index,\r\n      language: t.language,\r\n      label: t.label || t.language,\r\n      kind: t.kind\r\n    }));\r\n  }\r\n\r\n  switchTrack(trackIndex) {\r\n    if (trackIndex >= 0 && trackIndex < this.tracks.length) {\r\n      this.disable();\r\n      this.enable(trackIndex);\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    this.disable();\r\n    \r\n    if (this.element && this.element.parentNode) {\r\n      this.element.parentNode.removeChild(this.element);\r\n    }\r\n  }\r\n}\r\n\r\n", "/**\r\n * Keyboard Accessibility Manager\r\n */\r\n\r\nexport class KeyboardManager {\r\n  constructor(player) {\r\n    this.player = player;\r\n    this.shortcuts = player.options.keyboardShortcuts;\r\n    \r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.attachEvents();\r\n  }\r\n\r\n  attachEvents() {\r\n    // Listen for keyboard events on the player container\r\n    this.player.container.addEventListener('keydown', (e) => {\r\n      this.handleKeydown(e);\r\n    });\r\n\r\n    // Make player container focusable\r\n    if (!this.player.container.hasAttribute('tabindex')) {\r\n      this.player.container.setAttribute('tabindex', '0');\r\n    }\r\n  }\r\n\r\n  handleKeydown(e) {\r\n    // Don't handle if target is an input element\r\n    if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {\r\n      return;\r\n    }\r\n\r\n    const key = e.key;\r\n    let handled = false;\r\n\r\n    // Check each shortcut category\r\n    for (const [action, keys] of Object.entries(this.shortcuts)) {\r\n      if (keys.includes(key)) {\r\n        handled = this.executeAction(action, e);\r\n        if (handled) {\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n          this.announceAction(action);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  executeAction(action, event) {\r\n    switch (action) {\r\n      case 'play-pause':\r\n        this.player.toggle();\r\n        return true;\r\n\r\n      case 'volume-up':\r\n        this.player.setVolume(Math.min(1, this.player.state.volume + 0.1));\r\n        return true;\r\n\r\n      case 'volume-down':\r\n        this.player.setVolume(Math.max(0, this.player.state.volume - 0.1));\r\n        return true;\r\n\r\n      case 'seek-forward':\r\n        this.player.seekForward();\r\n        return true;\r\n\r\n      case 'seek-backward':\r\n        this.player.seekBackward();\r\n        return true;\r\n\r\n      case 'seek-forward-large':\r\n        this.player.seekForward(this.player.options.seekIntervalLarge);\r\n        return true;\r\n\r\n      case 'seek-backward-large':\r\n        this.player.seekBackward(this.player.options.seekIntervalLarge);\r\n        return true;\r\n\r\n      case 'mute':\r\n        this.player.toggleMute();\r\n        return true;\r\n\r\n      case 'fullscreen':\r\n        this.player.toggleFullscreen();\r\n        return true;\r\n\r\n      case 'captions':\r\n        // If only one caption track, toggle on/off\r\n        // If multiple tracks, open caption menu\r\n        if (this.player.captionManager && this.player.captionManager.tracks.length > 1) {\r\n          const captionsButton = document.querySelector('.vidply-captions');\r\n          if (captionsButton && this.player.controlBar) {\r\n            this.player.controlBar.showCaptionsMenu(captionsButton);\r\n          }\r\n        } else {\r\n          this.player.toggleCaptions();\r\n        }\r\n        return true;\r\n\r\n      case 'speed-up':\r\n        this.player.setPlaybackSpeed(\r\n          Math.min(2, this.player.state.playbackSpeed + 0.25)\r\n        );\r\n        return true;\r\n\r\n      case 'speed-down':\r\n        this.player.setPlaybackSpeed(\r\n          Math.max(0.25, this.player.state.playbackSpeed - 0.25)\r\n        );\r\n        return true;\r\n\r\n      case 'settings':\r\n        this.player.showSettings();\r\n        return true;\r\n\r\n      default:\r\n        return false;\r\n    }\r\n  }\r\n\r\n  announceAction(action) {\r\n    if (!this.player.options.screenReaderAnnouncements) return;\r\n\r\n    let message = '';\r\n\r\n    switch (action) {\r\n      case 'play-pause':\r\n        message = this.player.state.playing ? 'Playing' : 'Paused';\r\n        break;\r\n      case 'volume-up':\r\n        message = `Volume ${Math.round(this.player.state.volume * 100)}%`;\r\n        break;\r\n      case 'volume-down':\r\n        message = `Volume ${Math.round(this.player.state.volume * 100)}%`;\r\n        break;\r\n      case 'mute':\r\n        message = this.player.state.muted ? 'Muted' : 'Unmuted';\r\n        break;\r\n      case 'fullscreen':\r\n        message = this.player.state.fullscreen ? 'Fullscreen' : 'Exit fullscreen';\r\n        break;\r\n      case 'captions':\r\n        message = this.player.state.captionsEnabled ? 'Captions on' : 'Captions off';\r\n        break;\r\n      case 'speed-up':\r\n      case 'speed-down':\r\n        message = `Speed ${this.player.state.playbackSpeed}x`;\r\n        break;\r\n    }\r\n\r\n    if (message) {\r\n      this.announce(message);\r\n    }\r\n  }\r\n\r\n  announce(message, priority = 'polite') {\r\n    // Create or get announcement element\r\n    let announcer = document.getElementById('vidply-announcer');\r\n    \r\n    if (!announcer) {\r\n      announcer = document.createElement('div');\r\n      announcer.id = 'vidply-announcer';\r\n      announcer.className = 'vidply-sr-only';\r\n      announcer.setAttribute('aria-live', priority);\r\n      announcer.setAttribute('aria-atomic', 'true');\r\n      announcer.style.cssText = `\r\n        position: absolute;\r\n        left: -10000px;\r\n        width: 1px;\r\n        height: 1px;\r\n        overflow: hidden;\r\n      `;\r\n      document.body.appendChild(announcer);\r\n    }\r\n\r\n    // Clear and set new message\r\n    announcer.textContent = '';\r\n    setTimeout(() => {\r\n      announcer.textContent = message;\r\n    }, 100);\r\n  }\r\n\r\n  updateShortcut(action, keys) {\r\n    if (Array.isArray(keys)) {\r\n      this.shortcuts[action] = keys;\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    // Event listeners are automatically removed when the container is destroyed\r\n  }\r\n}\r\n\r\n", "/**\r\n * Settings Dialog Component\r\n */\r\n\r\nimport { DOMUtils } from '../utils/DOMUtils.js';\r\nimport { createIconElement } from '../icons/Icons.js';\r\nimport { i18n } from '../i18n/i18n.js';\r\n\r\nexport class SettingsDialog {\r\n  constructor(player) {\r\n    this.player = player;\r\n    this.element = null;\r\n    this.isOpen = false;\r\n    \r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.createElement();\r\n  }\r\n\r\n  createElement() {\r\n    // Create overlay\r\n    this.overlay = DOMUtils.createElement('div', {\r\n      className: `${this.player.options.classPrefix}-settings-overlay`,\r\n      attributes: {\r\n        'role': 'dialog',\r\n        'aria-modal': 'true',\r\n        'aria-label': i18n.t('settings.title')\r\n      }\r\n    });\r\n\r\n    this.overlay.style.display = 'none';\r\n\r\n    // Create dialog\r\n    this.element = DOMUtils.createElement('div', {\r\n      className: `${this.player.options.classPrefix}-settings-dialog`\r\n    });\r\n\r\n    // Header\r\n    const header = DOMUtils.createElement('div', {\r\n      className: `${this.player.options.classPrefix}-settings-header`\r\n    });\r\n\r\n    const title = DOMUtils.createElement('h2', {\r\n      textContent: i18n.t('settings.title'),\r\n      attributes: {\r\n        'id': `${this.player.options.classPrefix}-settings-title`\r\n      }\r\n    });\r\n\r\n    const closeButton = DOMUtils.createElement('button', {\r\n      className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-settings-close`,\r\n      attributes: {\r\n        'type': 'button',\r\n        'aria-label': i18n.t('settings.close')\r\n      }\r\n    });\r\n    closeButton.appendChild(createIconElement('close'));\r\n    closeButton.addEventListener('click', () => this.hide());\r\n\r\n    header.appendChild(title);\r\n    header.appendChild(closeButton);\r\n\r\n    // Content\r\n    const content = DOMUtils.createElement('div', {\r\n      className: `${this.player.options.classPrefix}-settings-content`\r\n    });\r\n\r\n    content.appendChild(this.createSpeedSettings());\r\n    \r\n    if (this.player.captionManager && this.player.captionManager.tracks.length > 0) {\r\n      content.appendChild(this.createCaptionSettings());\r\n    }\r\n\r\n    // Footer\r\n    const footer = DOMUtils.createElement('div', {\r\n      className: `${this.player.options.classPrefix}-settings-footer`\r\n    });\r\n\r\n    const resetButton = DOMUtils.createElement('button', {\r\n      className: `${this.player.options.classPrefix}-button`,\r\n      textContent: i18n.t('settings.reset'),\r\n      attributes: {\r\n        'type': 'button'\r\n      }\r\n    });\r\n    resetButton.addEventListener('click', () => this.resetSettings());\r\n\r\n    footer.appendChild(resetButton);\r\n\r\n    // Assemble dialog\r\n    this.element.appendChild(header);\r\n    this.element.appendChild(content);\r\n    this.element.appendChild(footer);\r\n\r\n    this.overlay.appendChild(this.element);\r\n    this.player.container.appendChild(this.overlay);\r\n\r\n    // Attach events\r\n    this.overlay.addEventListener('click', (e) => {\r\n      if (e.target === this.overlay) {\r\n        this.hide();\r\n      }\r\n    });\r\n\r\n    // Escape key to close\r\n    document.addEventListener('keydown', (e) => {\r\n      if (e.key === 'Escape' && this.isOpen) {\r\n        this.hide();\r\n      }\r\n    });\r\n  }\r\n\r\n  createSpeedSettings() {\r\n    const section = DOMUtils.createElement('div', {\r\n      className: `${this.player.options.classPrefix}-settings-section`\r\n    });\r\n\r\n    const label = DOMUtils.createElement('label', {\r\n      textContent: i18n.t('settings.speed'),\r\n      attributes: {\r\n        'for': `${this.player.options.classPrefix}-speed-select`\r\n      }\r\n    });\r\n\r\n    const select = DOMUtils.createElement('select', {\r\n      className: `${this.player.options.classPrefix}-settings-select`,\r\n      attributes: {\r\n        'id': `${this.player.options.classPrefix}-speed-select`\r\n      }\r\n    });\r\n\r\n    const speeds = [0.25, 0.5, 0.75, 1, 1.25, 1.5, 1.75, 2];\r\n    \r\n    speeds.forEach(speed => {\r\n      const option = DOMUtils.createElement('option', {\r\n        textContent: i18n.t(`speeds.${speed}`) || `${speed}x`,\r\n        attributes: {\r\n          'value': String(speed)\r\n        }\r\n      });\r\n      \r\n      if (speed === this.player.state.playbackSpeed) {\r\n        option.selected = true;\r\n      }\r\n      \r\n      select.appendChild(option);\r\n    });\r\n\r\n    select.addEventListener('change', (e) => {\r\n      this.player.setPlaybackSpeed(parseFloat(e.target.value));\r\n    });\r\n\r\n    section.appendChild(label);\r\n    section.appendChild(select);\r\n\r\n    return section;\r\n  }\r\n\r\n  createCaptionSettings() {\r\n    const section = DOMUtils.createElement('div', {\r\n      className: `${this.player.options.classPrefix}-settings-section`\r\n    });\r\n\r\n    const heading = DOMUtils.createElement('h3', {\r\n      textContent: i18n.t('settings.captions')\r\n    });\r\n\r\n    section.appendChild(heading);\r\n\r\n    // Caption track selection\r\n    const trackLabel = DOMUtils.createElement('label', {\r\n      textContent: i18n.t('captions.select'),\r\n      attributes: {\r\n        'for': `${this.player.options.classPrefix}-caption-track-select`\r\n      }\r\n    });\r\n\r\n    const trackSelect = DOMUtils.createElement('select', {\r\n      className: `${this.player.options.classPrefix}-settings-select`,\r\n      attributes: {\r\n        'id': `${this.player.options.classPrefix}-caption-track-select`\r\n      }\r\n    });\r\n\r\n    // Off option\r\n    const offOption = DOMUtils.createElement('option', {\r\n      textContent: i18n.t('captions.off'),\r\n      attributes: { 'value': '-1' }\r\n    });\r\n    trackSelect.appendChild(offOption);\r\n\r\n    // Available tracks\r\n    const tracks = this.player.captionManager.getAvailableTracks();\r\n    tracks.forEach(track => {\r\n      const option = DOMUtils.createElement('option', {\r\n        textContent: track.label,\r\n        attributes: { 'value': String(track.index) }\r\n      });\r\n      trackSelect.appendChild(option);\r\n    });\r\n\r\n    trackSelect.addEventListener('change', (e) => {\r\n      const index = parseInt(e.target.value);\r\n      if (index === -1) {\r\n        this.player.disableCaptions();\r\n      } else {\r\n        this.player.captionManager.switchTrack(index);\r\n      }\r\n    });\r\n\r\n    section.appendChild(trackLabel);\r\n    section.appendChild(trackSelect);\r\n\r\n    // Font size\r\n    section.appendChild(this.createCaptionStyleControl('fontSize', i18n.t('captions.fontSize'), [\r\n      { label: 'Small', value: '80%' },\r\n      { label: 'Medium', value: '100%' },\r\n      { label: 'Large', value: '120%' },\r\n      { label: 'X-Large', value: '150%' }\r\n    ]));\r\n\r\n    // Font family\r\n    section.appendChild(this.createCaptionStyleControl('fontFamily', i18n.t('captions.fontFamily'), [\r\n      { label: 'Sans-serif', value: 'sans-serif' },\r\n      { label: 'Serif', value: 'serif' },\r\n      { label: 'Monospace', value: 'monospace' }\r\n    ]));\r\n\r\n    // Color controls\r\n    section.appendChild(this.createColorControl('color', i18n.t('captions.color')));\r\n    section.appendChild(this.createColorControl('backgroundColor', i18n.t('captions.backgroundColor')));\r\n\r\n    // Opacity\r\n    section.appendChild(this.createRangeControl('opacity', i18n.t('captions.opacity'), 0, 1, 0.1));\r\n\r\n    return section;\r\n  }\r\n\r\n  createCaptionStyleControl(property, label, options) {\r\n    const wrapper = DOMUtils.createElement('div', {\r\n      className: `${this.player.options.classPrefix}-settings-control`\r\n    });\r\n\r\n    const labelEl = DOMUtils.createElement('label', {\r\n      textContent: label,\r\n      attributes: {\r\n        'for': `${this.player.options.classPrefix}-caption-${property}`\r\n      }\r\n    });\r\n\r\n    const select = DOMUtils.createElement('select', {\r\n      className: `${this.player.options.classPrefix}-settings-select`,\r\n      attributes: {\r\n        'id': `${this.player.options.classPrefix}-caption-${property}`\r\n      }\r\n    });\r\n\r\n    options.forEach(opt => {\r\n      const option = DOMUtils.createElement('option', {\r\n        textContent: opt.label,\r\n        attributes: { 'value': opt.value }\r\n      });\r\n      \r\n      if (opt.value === this.player.options[`captions${property.charAt(0).toUpperCase() + property.slice(1)}`]) {\r\n        option.selected = true;\r\n      }\r\n      \r\n      select.appendChild(option);\r\n    });\r\n\r\n    select.addEventListener('change', (e) => {\r\n      this.player.captionManager.setCaptionStyle(property, e.target.value);\r\n    });\r\n\r\n    wrapper.appendChild(labelEl);\r\n    wrapper.appendChild(select);\r\n\r\n    return wrapper;\r\n  }\r\n\r\n  createColorControl(property, label) {\r\n    const wrapper = DOMUtils.createElement('div', {\r\n      className: `${this.player.options.classPrefix}-settings-control`\r\n    });\r\n\r\n    const labelEl = DOMUtils.createElement('label', {\r\n      textContent: label,\r\n      attributes: {\r\n        'for': `${this.player.options.classPrefix}-caption-${property}`\r\n      }\r\n    });\r\n\r\n    const input = DOMUtils.createElement('input', {\r\n      className: `${this.player.options.classPrefix}-settings-color`,\r\n      attributes: {\r\n        'type': 'color',\r\n        'id': `${this.player.options.classPrefix}-caption-${property}`,\r\n        'value': this.player.options[`captions${property.charAt(0).toUpperCase() + property.slice(1)}`]\r\n      }\r\n    });\r\n\r\n    input.addEventListener('change', (e) => {\r\n      this.player.captionManager.setCaptionStyle(property, e.target.value);\r\n    });\r\n\r\n    wrapper.appendChild(labelEl);\r\n    wrapper.appendChild(input);\r\n\r\n    return wrapper;\r\n  }\r\n\r\n  createRangeControl(property, label, min, max, step) {\r\n    const wrapper = DOMUtils.createElement('div', {\r\n      className: `${this.player.options.classPrefix}-settings-control`\r\n    });\r\n\r\n    const labelEl = DOMUtils.createElement('label', {\r\n      textContent: label,\r\n      attributes: {\r\n        'for': `${this.player.options.classPrefix}-caption-${property}`\r\n      }\r\n    });\r\n\r\n    const input = DOMUtils.createElement('input', {\r\n      className: `${this.player.options.classPrefix}-settings-range`,\r\n      attributes: {\r\n        'type': 'range',\r\n        'id': `${this.player.options.classPrefix}-caption-${property}`,\r\n        'min': String(min),\r\n        'max': String(max),\r\n        'step': String(step),\r\n        'value': String(this.player.options[`captions${property.charAt(0).toUpperCase() + property.slice(1)}`])\r\n      }\r\n    });\r\n\r\n    const valueDisplay = DOMUtils.createElement('span', {\r\n      className: `${this.player.options.classPrefix}-settings-value`,\r\n      textContent: String(this.player.options[`captions${property.charAt(0).toUpperCase() + property.slice(1)}`])\r\n    });\r\n\r\n    input.addEventListener('input', (e) => {\r\n      const value = parseFloat(e.target.value);\r\n      valueDisplay.textContent = value.toFixed(1);\r\n      this.player.captionManager.setCaptionStyle(property, value);\r\n    });\r\n\r\n    wrapper.appendChild(labelEl);\r\n    wrapper.appendChild(input);\r\n    wrapper.appendChild(valueDisplay);\r\n\r\n    return wrapper;\r\n  }\r\n\r\n  resetSettings() {\r\n    // Reset to default values\r\n    this.player.setPlaybackSpeed(1);\r\n    \r\n    if (this.player.captionManager) {\r\n      this.player.captionManager.setCaptionStyle('fontSize', '100%');\r\n      this.player.captionManager.setCaptionStyle('fontFamily', 'sans-serif');\r\n      this.player.captionManager.setCaptionStyle('color', '#FFFFFF');\r\n      this.player.captionManager.setCaptionStyle('backgroundColor', '#000000');\r\n      this.player.captionManager.setCaptionStyle('opacity', 0.8);\r\n    }\r\n\r\n    // Refresh dialog\r\n    this.hide();\r\n    setTimeout(() => this.show(), 100);\r\n  }\r\n\r\n  show() {\r\n    this.overlay.style.display = 'flex';\r\n    this.isOpen = true;\r\n    \r\n    // Focus the close button\r\n    const closeButton = this.element.querySelector(`.${this.player.options.classPrefix}-settings-close`);\r\n    if (closeButton) {\r\n      closeButton.focus();\r\n    }\r\n    \r\n    this.player.emit('settingsopen');\r\n  }\r\n\r\n  hide() {\r\n    this.overlay.style.display = 'none';\r\n    this.isOpen = false;\r\n    \r\n    // Return focus to settings button\r\n    this.player.container.focus();\r\n    \r\n    this.player.emit('settingsclose');\r\n  }\r\n\r\n  destroy() {\r\n    if (this.overlay && this.overlay.parentNode) {\r\n      this.overlay.parentNode.removeChild(this.overlay);\r\n    }\r\n  }\r\n}\r\n\r\n", "/**\n * Transcript Manager Component\n * Manages transcript display and interaction\n */\n\nimport { DOMUtils } from '../utils/DOMUtils.js';\nimport { TimeUtils } from '../utils/TimeUtils.js';\nimport { createIconElement } from '../icons/Icons.js';\n\nexport class TranscriptManager {\n  constructor(player) {\n    this.player = player;\n    this.transcriptWindow = null;\n    this.transcriptEntries = [];\n    this.currentActiveEntry = null;\n    this.isVisible = false;\n    \n    // Dragging state\n    this.isDragging = false;\n    this.dragOffsetX = 0;\n    this.dragOffsetY = 0;\n    \n    // Store event handlers for cleanup\n    this.handlers = {\n      timeupdate: () => this.updateActiveEntry(),\n      resize: null,\n      mousemove: null,\n      mouseup: null,\n      touchmove: null,\n      touchend: null,\n      mousedown: null,\n      touchstart: null,\n      keydown: null\n    };\n    \n    this.init();\n  }\n\n  init() {\n    // Listen for time updates to highlight active transcript entry\n    this.player.on('timeupdate', this.handlers.timeupdate);\n  }\n\n  /**\n   * Toggle transcript window visibility\n   */\n  toggleTranscript() {\n    if (this.isVisible) {\n      this.hideTranscript();\n    } else {\n      this.showTranscript();\n    }\n  }\n\n  /**\n   * Show transcript window\n   */\n  showTranscript() {\n    if (this.transcriptWindow) {\n      this.transcriptWindow.style.display = 'flex';\n      this.isVisible = true;\n      return;\n    }\n\n    // Create transcript window\n    this.createTranscriptWindow();\n    this.loadTranscriptData();\n    \n    // Show the window\n    if (this.transcriptWindow) {\n      this.transcriptWindow.style.display = 'flex';\n      // Re-position after showing (in case window was resized while hidden)\n      setTimeout(() => this.positionTranscript(), 0);\n    }\n    this.isVisible = true;\n  }\n\n  /**\n   * Hide transcript window\n   */\n  hideTranscript() {\n    if (this.transcriptWindow) {\n      this.transcriptWindow.style.display = 'none';\n      this.isVisible = false;\n    }\n  }\n\n  /**\n   * Create the transcript window UI\n   */\n  createTranscriptWindow() {\n    this.transcriptWindow = DOMUtils.createElement('div', {\n      className: `${this.player.options.classPrefix}-transcript-window`,\n      attributes: {\n        'role': 'dialog',\n        'aria-label': 'Video Transcript',\n        'tabindex': '-1'\n      }\n    });\n\n    // Header (draggable)\n    this.transcriptHeader = DOMUtils.createElement('div', {\n      className: `${this.player.options.classPrefix}-transcript-header`,\n      attributes: {\n        'aria-label': 'Drag to reposition transcript. Use arrow keys to move, Home to reset position, Escape to close.',\n        'tabindex': '0'\n      }\n    });\n\n    const title = DOMUtils.createElement('h3', {\n      textContent: 'Transcript'\n    });\n\n    const closeButton = DOMUtils.createElement('button', {\n      className: `${this.player.options.classPrefix}-transcript-close`,\n      attributes: {\n        'type': 'button',\n        'aria-label': 'Close transcript'\n      }\n    });\n    closeButton.appendChild(createIconElement('close'));\n    closeButton.addEventListener('click', () => this.hideTranscript());\n\n    this.transcriptHeader.appendChild(title);\n    this.transcriptHeader.appendChild(closeButton);\n\n    // Content container\n    this.transcriptContent = DOMUtils.createElement('div', {\n      className: `${this.player.options.classPrefix}-transcript-content`\n    });\n\n    this.transcriptWindow.appendChild(this.transcriptHeader);\n    this.transcriptWindow.appendChild(this.transcriptContent);\n\n    // Append to player container\n    this.player.container.appendChild(this.transcriptWindow);\n    \n    // Position it next to the video wrapper\n    this.positionTranscript();\n    \n    // Setup drag functionality\n    this.setupDragAndDrop();\n    \n    // Re-position on window resize (debounced)\n    let resizeTimeout;\n    this.handlers.resize = () => {\n      clearTimeout(resizeTimeout);\n      resizeTimeout = setTimeout(() => this.positionTranscript(), 100);\n    };\n    window.addEventListener('resize', this.handlers.resize);\n  }\n  \n  /**\n   * Position transcript window next to video\n   */\n  positionTranscript() {\n    if (!this.transcriptWindow || !this.player.videoWrapper || !this.isVisible) return;\n    \n    const videoRect = this.player.videoWrapper.getBoundingClientRect();\n    \n    // Calculate position relative to container\n    const leftOffset = videoRect.width + 8; // 8px gap\n    const height = videoRect.height;\n    \n    this.transcriptWindow.style.left = `${leftOffset}px`;\n    this.transcriptWindow.style.height = `${height}px`;\n  }\n\n  /**\n   * Load transcript data from caption/subtitle tracks\n   */\n  loadTranscriptData() {\n    this.transcriptEntries = [];\n    this.transcriptContent.innerHTML = '';\n\n    // Get caption/subtitle tracks\n    const textTracks = Array.from(this.player.element.textTracks);\n    const transcriptTrack = textTracks.find(\n      track => track.kind === 'captions' || track.kind === 'subtitles'\n    );\n\n    if (!transcriptTrack) {\n      this.showNoTranscriptMessage();\n      return;\n    }\n\n    // Enable track to load cues\n    if (transcriptTrack.mode === 'disabled') {\n      transcriptTrack.mode = 'hidden';\n    }\n\n    if (!transcriptTrack.cues || transcriptTrack.cues.length === 0) {\n      // Wait for cues to load\n      const loadingMessage = DOMUtils.createElement('div', {\n        className: `${this.player.options.classPrefix}-transcript-loading`,\n        textContent: 'Loading transcript...'\n      });\n      this.transcriptContent.appendChild(loadingMessage);\n\n      const onLoad = () => {\n        this.loadTranscriptData();\n      };\n\n      transcriptTrack.addEventListener('load', onLoad, { once: true });\n\n      // Fallback timeout\n      setTimeout(() => {\n        if (transcriptTrack.cues && transcriptTrack.cues.length > 0) {\n          this.loadTranscriptData();\n        }\n      }, 500);\n      \n      return;\n    }\n\n    // Build transcript from cues\n    const cues = Array.from(transcriptTrack.cues);\n    cues.forEach((cue, index) => {\n      const entry = this.createTranscriptEntry(cue, index);\n      this.transcriptEntries.push({\n        element: entry,\n        cue: cue,\n        startTime: cue.startTime,\n        endTime: cue.endTime\n      });\n      this.transcriptContent.appendChild(entry);\n    });\n  }\n\n  /**\n   * Create a single transcript entry element\n   */\n  createTranscriptEntry(cue, index) {\n    const entry = DOMUtils.createElement('div', {\n      className: `${this.player.options.classPrefix}-transcript-entry`,\n      attributes: {\n        'data-start': String(cue.startTime),\n        'data-end': String(cue.endTime),\n        'role': 'button',\n        'tabindex': '0'\n      }\n    });\n\n    const timestamp = DOMUtils.createElement('span', {\n      className: `${this.player.options.classPrefix}-transcript-time`,\n      textContent: TimeUtils.formatTime(cue.startTime)\n    });\n\n    const text = DOMUtils.createElement('span', {\n      className: `${this.player.options.classPrefix}-transcript-text`,\n      textContent: this.stripVTTFormatting(cue.text)\n    });\n\n    entry.appendChild(timestamp);\n    entry.appendChild(text);\n\n    // Click to seek\n    const seekToTime = () => {\n      this.player.seek(cue.startTime);\n      if (this.player.state.paused) {\n        this.player.play();\n      }\n    };\n\n    entry.addEventListener('click', seekToTime);\n    entry.addEventListener('keydown', (e) => {\n      if (e.key === 'Enter' || e.key === ' ') {\n        e.preventDefault();\n        seekToTime();\n      }\n    });\n\n    return entry;\n  }\n\n  /**\n   * Strip VTT formatting tags from text\n   */\n  stripVTTFormatting(text) {\n    // Remove VTT tags like <v Speaker>, <c>, etc.\n    return text\n      .replace(/<[^>]+>/g, '')\n      .replace(/\\n/g, ' ')\n      .trim();\n  }\n\n  /**\n   * Show message when no transcript is available\n   */\n  showNoTranscriptMessage() {\n    const message = DOMUtils.createElement('div', {\n      className: `${this.player.options.classPrefix}-transcript-empty`,\n      textContent: 'No transcript available for this video.'\n    });\n    this.transcriptContent.appendChild(message);\n  }\n\n  /**\n   * Update active transcript entry based on current time\n   */\n  updateActiveEntry() {\n    if (!this.isVisible || this.transcriptEntries.length === 0) return;\n\n    const currentTime = this.player.state.currentTime;\n    \n    // Find the entry that matches current time\n    const activeEntry = this.transcriptEntries.find(\n      entry => currentTime >= entry.startTime && currentTime < entry.endTime\n    );\n\n    if (activeEntry && activeEntry !== this.currentActiveEntry) {\n      // Remove previous active class\n      if (this.currentActiveEntry) {\n        this.currentActiveEntry.element.classList.remove(\n          `${this.player.options.classPrefix}-transcript-entry-active`\n        );\n      }\n\n      // Add active class to current entry\n      activeEntry.element.classList.add(\n        `${this.player.options.classPrefix}-transcript-entry-active`\n      );\n      \n      // Scroll to active entry\n      this.scrollToEntry(activeEntry.element);\n      \n      this.currentActiveEntry = activeEntry;\n    } else if (!activeEntry && this.currentActiveEntry) {\n      // No active entry, remove active class\n      this.currentActiveEntry.element.classList.remove(\n        `${this.player.options.classPrefix}-transcript-entry-active`\n      );\n      this.currentActiveEntry = null;\n    }\n  }\n\n  /**\n   * Scroll transcript window to show active entry\n   */\n  scrollToEntry(entryElement) {\n    if (!this.transcriptContent) return;\n\n    const contentRect = this.transcriptContent.getBoundingClientRect();\n    const entryRect = entryElement.getBoundingClientRect();\n\n    // Check if entry is out of view\n    if (entryRect.top < contentRect.top || entryRect.bottom > contentRect.bottom) {\n      // Scroll to center the entry\n      const scrollTop = entryElement.offsetTop - (this.transcriptContent.clientHeight / 2) + (entryElement.clientHeight / 2);\n      this.transcriptContent.scrollTo({\n        top: scrollTop,\n        behavior: 'smooth'\n      });\n    }\n  }\n\n  /**\n   * Setup drag and drop functionality\n   */\n  setupDragAndDrop() {\n    if (!this.transcriptHeader || !this.transcriptWindow) return;\n\n    // Create and store handler functions\n    this.handlers.mousedown = (e) => {\n      // Don't drag if clicking on close button\n      if (e.target.closest(`.${this.player.options.classPrefix}-transcript-close`)) {\n        return;\n      }\n      \n      this.startDragging(e.clientX, e.clientY);\n      e.preventDefault();\n    };\n\n    this.handlers.mousemove = (e) => {\n      if (this.isDragging) {\n        this.drag(e.clientX, e.clientY);\n      }\n    };\n\n    this.handlers.mouseup = () => {\n      if (this.isDragging) {\n        this.stopDragging();\n      }\n    };\n\n    this.handlers.touchstart = (e) => {\n      if (e.target.closest(`.${this.player.options.classPrefix}-transcript-close`)) {\n        return;\n      }\n      \n      const touch = e.touches[0];\n      this.startDragging(touch.clientX, touch.clientY);\n    };\n\n    this.handlers.touchmove = (e) => {\n      if (this.isDragging) {\n        const touch = e.touches[0];\n        this.drag(touch.clientX, touch.clientY);\n        e.preventDefault();\n      }\n    };\n\n    this.handlers.touchend = () => {\n      if (this.isDragging) {\n        this.stopDragging();\n      }\n    };\n\n    this.handlers.keydown = (e) => {\n      // Check if this is a navigation key\n      if (!['ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown', 'Home', 'Escape'].includes(e.key)) {\n        return;\n      }\n      \n      // Prevent default behavior and stop event from bubbling to transcript entries\n      e.preventDefault();\n      e.stopPropagation();\n      \n      // Handle special keys first\n      if (e.key === 'Home') {\n        this.resetPosition();\n        return;\n      }\n      \n      if (e.key === 'Escape') {\n        this.hideTranscript();\n        return;\n      }\n      \n      const step = e.shiftKey ? 50 : 10; // Larger steps with Shift key\n      \n      // Get current position\n      let currentLeft = parseFloat(this.transcriptWindow.style.left) || 0;\n      let currentTop = parseFloat(this.transcriptWindow.style.top) || 0;\n      \n      // If window is still centered with transform, convert to absolute position first\n      const computedStyle = window.getComputedStyle(this.transcriptWindow);\n      if (computedStyle.transform !== 'none') {\n        const rect = this.transcriptWindow.getBoundingClientRect();\n        currentLeft = rect.left;\n        currentTop = rect.top;\n        this.transcriptWindow.style.transform = 'none';\n        this.transcriptWindow.style.left = `${currentLeft}px`;\n        this.transcriptWindow.style.top = `${currentTop}px`;\n      }\n      \n      // Calculate new position based on arrow key\n      let newX = currentLeft;\n      let newY = currentTop;\n\n      switch(e.key) {\n        case 'ArrowLeft':\n          newX -= step;\n          break;\n        case 'ArrowRight':\n          newX += step;\n          break;\n        case 'ArrowUp':\n          newY -= step;\n          break;\n        case 'ArrowDown':\n          newY += step;\n          break;\n      }\n\n      // Set new position directly\n      this.transcriptWindow.style.left = `${newX}px`;\n      this.transcriptWindow.style.top = `${newY}px`;\n    };\n\n    // Add event listeners using stored handlers\n    this.transcriptHeader.addEventListener('mousedown', this.handlers.mousedown);\n    document.addEventListener('mousemove', this.handlers.mousemove);\n    document.addEventListener('mouseup', this.handlers.mouseup);\n    \n    this.transcriptHeader.addEventListener('touchstart', this.handlers.touchstart);\n    document.addEventListener('touchmove', this.handlers.touchmove);\n    document.addEventListener('touchend', this.handlers.touchend);\n    \n    this.transcriptHeader.addEventListener('keydown', this.handlers.keydown);\n  }\n\n  /**\n   * Start dragging\n   */\n  startDragging(clientX, clientY) {\n    // Get current rendered position (this is where it actually appears on screen)\n    const rect = this.transcriptWindow.getBoundingClientRect();\n    \n    // Get the parent container position (player container)\n    const containerRect = this.player.container.getBoundingClientRect();\n    \n    // Calculate position RELATIVE to container (not viewport)\n    const relativeLeft = rect.left - containerRect.left;\n    const relativeTop = rect.top - containerRect.top;\n    \n    // If window is centered with transform, convert to absolute position\n    const computedStyle = window.getComputedStyle(this.transcriptWindow);\n    if (computedStyle.transform !== 'none') {\n      // Remove transform and set position relative to container\n      this.transcriptWindow.style.transform = 'none';\n      this.transcriptWindow.style.left = `${relativeLeft}px`;\n      this.transcriptWindow.style.top = `${relativeTop}px`;\n    }\n    \n    // Calculate offset based on viewport coordinates (where user clicked)\n    this.dragOffsetX = clientX - rect.left;\n    this.dragOffsetY = clientY - rect.top;\n    \n    this.isDragging = true;\n    this.transcriptWindow.classList.add(`${this.player.options.classPrefix}-transcript-dragging`);\n    document.body.style.cursor = 'grabbing';\n    document.body.style.userSelect = 'none';\n  }\n\n  /**\n   * Perform drag\n   */\n  drag(clientX, clientY) {\n    if (!this.isDragging) return;\n\n    // Calculate new viewport position based on mouse position minus the offset\n    const newViewportX = clientX - this.dragOffsetX;\n    const newViewportY = clientY - this.dragOffsetY;\n    \n    // Convert to position relative to container\n    const containerRect = this.player.container.getBoundingClientRect();\n    const newX = newViewportX - containerRect.left;\n    const newY = newViewportY - containerRect.top;\n    \n    // During drag, set position relative to container\n    this.transcriptWindow.style.left = `${newX}px`;\n    this.transcriptWindow.style.top = `${newY}px`;\n  }\n\n  /**\n   * Stop dragging\n   */\n  stopDragging() {\n    this.isDragging = false;\n    this.transcriptWindow.classList.remove(`${this.player.options.classPrefix}-transcript-dragging`);\n    document.body.style.cursor = '';\n    document.body.style.userSelect = '';\n  }\n\n  /**\n   * Set window position with boundary constraints\n   */\n  setPosition(x, y) {\n    const rect = this.transcriptWindow.getBoundingClientRect();\n    \n    // Use document dimensions for fixed positioning\n    const viewportWidth = document.documentElement.clientWidth;\n    const viewportHeight = document.documentElement.clientHeight;\n    \n    // Very relaxed boundaries - allow window to go mostly off-screen\n    // Just keep a small part visible so user can always drag it back\n    const minVisible = 100; // Keep at least 100px visible\n    const minX = -(rect.width - minVisible);  // Can go way off-screen to the left\n    const minY = -(rect.height - minVisible); // Can go way off-screen to the top\n    const maxX = viewportWidth - minVisible;  // Can go way off-screen to the right\n    const maxY = viewportHeight - minVisible; // Can go way off-screen to the bottom\n    \n    // Clamp position to boundaries (very loose)\n    x = Math.max(minX, Math.min(x, maxX));\n    y = Math.max(minY, Math.min(y, maxY));\n    \n    this.transcriptWindow.style.left = `${x}px`;\n    this.transcriptWindow.style.top = `${y}px`;\n    this.transcriptWindow.style.transform = 'none';\n  }\n\n  /**\n   * Reset position to center\n   */\n  resetPosition() {\n    this.transcriptWindow.style.left = '50%';\n    this.transcriptWindow.style.top = '50%';\n    this.transcriptWindow.style.transform = 'translate(-50%, -50%)';\n  }\n\n  /**\n   * Cleanup\n   */\n  destroy() {\n    // Remove timeupdate listener from player\n    if (this.handlers.timeupdate) {\n      this.player.off('timeupdate', this.handlers.timeupdate);\n    }\n\n    // Remove drag event listeners\n    if (this.transcriptHeader) {\n      if (this.handlers.mousedown) {\n        this.transcriptHeader.removeEventListener('mousedown', this.handlers.mousedown);\n      }\n      if (this.handlers.touchstart) {\n        this.transcriptHeader.removeEventListener('touchstart', this.handlers.touchstart);\n      }\n      if (this.handlers.keydown) {\n        this.transcriptHeader.removeEventListener('keydown', this.handlers.keydown);\n      }\n    }\n\n    // Remove document-level listeners\n    if (this.handlers.mousemove) {\n      document.removeEventListener('mousemove', this.handlers.mousemove);\n    }\n    if (this.handlers.mouseup) {\n      document.removeEventListener('mouseup', this.handlers.mouseup);\n    }\n    if (this.handlers.touchmove) {\n      document.removeEventListener('touchmove', this.handlers.touchmove);\n    }\n    if (this.handlers.touchend) {\n      document.removeEventListener('touchend', this.handlers.touchend);\n    }\n    \n    // Remove window-level listeners\n    if (this.handlers.resize) {\n      window.removeEventListener('resize', this.handlers.resize);\n    }\n\n    // Clear handlers\n    this.handlers = null;\n\n    // Remove DOM element\n    if (this.transcriptWindow && this.transcriptWindow.parentNode) {\n      this.transcriptWindow.parentNode.removeChild(this.transcriptWindow);\n    }\n    \n    this.transcriptWindow = null;\n    this.transcriptHeader = null;\n    this.transcriptContent = null;\n    this.transcriptEntries = [];\n  }\n}\n", "/**\r\n * VidPly - Universal Video Player\r\n * Main Player Class\r\n */\r\n\r\nimport { EventEmitter } from '../utils/EventEmitter.js';\r\nimport { DOMUtils } from '../utils/DOMUtils.js';\r\nimport { TimeUtils } from '../utils/TimeUtils.js';\r\nimport { ControlBar } from '../controls/ControlBar.js';\r\nimport { CaptionManager } from '../controls/CaptionManager.js';\r\nimport { KeyboardManager } from '../controls/KeyboardManager.js';\r\nimport { SettingsDialog } from '../controls/SettingsDialog.js';\r\nimport { TranscriptManager } from '../controls/TranscriptManager.js';\r\nimport { HTML5Renderer } from '../renderers/HTML5Renderer.js';\r\nimport { YouTubeRenderer } from '../renderers/YouTubeRenderer.js';\r\nimport { VimeoRenderer } from '../renderers/VimeoRenderer.js';\r\nimport { HLSRenderer } from '../renderers/HLSRenderer.js';\r\nimport { i18n } from '../i18n/i18n.js';\r\n\r\nexport class Player extends EventEmitter {\r\n  constructor(element, options = {}) {\r\n    super();\r\n    \r\n    this.element = typeof element === 'string' ? document.querySelector(element) : element;\r\n    if (!this.element) {\r\n      throw new Error('VidPly: Element not found');\r\n    }\r\n\r\n    // Auto-create media element if a non-media element is provided\r\n    if (this.element.tagName !== 'VIDEO' && this.element.tagName !== 'AUDIO') {\r\n      const mediaType = options.mediaType || 'video';\r\n      const mediaElement = document.createElement(mediaType);\r\n      \r\n      // Copy attributes from the div to the media element\r\n      Array.from(this.element.attributes).forEach(attr => {\r\n        if (attr.name !== 'id' && attr.name !== 'class' && !attr.name.startsWith('data-')) {\r\n          mediaElement.setAttribute(attr.name, attr.value);\r\n        }\r\n      });\r\n      \r\n      // Copy any track elements from the div\r\n      const tracks = this.element.querySelectorAll('track');\r\n      tracks.forEach(track => {\r\n        mediaElement.appendChild(track.cloneNode(true));\r\n      });\r\n      \r\n      // Clear the div and insert the media element\r\n      this.element.innerHTML = '';\r\n      this.element.appendChild(mediaElement);\r\n      \r\n      // Update element reference to the actual media element\r\n      this.element = mediaElement;\r\n    }\r\n\r\n    // Default options\r\n    this.options = {\r\n      // Display\r\n      width: null,\r\n      height: null,\r\n      poster: null,\r\n      responsive: true,\r\n      fillContainer: false,\r\n      \r\n      // Playback\r\n      autoplay: false,\r\n      loop: false,\r\n      muted: false,\r\n      volume: 0.8,\r\n      playbackSpeed: 1.0,\r\n      preload: 'metadata',\r\n      startTime: 0,\r\n      \r\n      // Controls\r\n      controls: true,\r\n      hideControlsDelay: 3000,\r\n      playPauseButton: true,\r\n      progressBar: true,\r\n      currentTime: true,\r\n      duration: true,\r\n      volumeControl: true,\r\n      muteButton: true,\r\n      chaptersButton: true,\r\n      qualityButton: true,\r\n      captionStyleButton: true,\r\n      speedButton: true,\r\n      captionsButton: true,\r\n      transcriptButton: true,\r\n      fullscreenButton: true,\r\n      pipButton: true,\r\n      \r\n      // Seeking\r\n      seekInterval: 10,\r\n      seekIntervalLarge: 30,\r\n      \r\n      // Captions\r\n      captions: true,\r\n      captionsDefault: false,\r\n      captionsFontSize: '100%',\r\n      captionsFontFamily: 'sans-serif',\r\n      captionsColor: '#FFFFFF',\r\n      captionsBackgroundColor: '#000000',\r\n      captionsOpacity: 0.8,\r\n      \r\n      // Audio Description\r\n      audioDescription: true,\r\n      audioDescriptionSrc: null, // URL to audio-described version\r\n      audioDescriptionButton: true,\r\n      \r\n      // Sign Language\r\n      signLanguage: true,\r\n      signLanguageSrc: null, // URL to sign language video\r\n      signLanguageButton: true,\r\n      signLanguagePosition: 'bottom-right', // Position: 'bottom-right', 'bottom-left', 'top-right', 'top-left'\r\n      \r\n      // Transcripts\r\n      transcript: false,\r\n      transcriptPosition: 'external',\r\n      transcriptContainer: null,\r\n      \r\n      // Keyboard\r\n      keyboard: true,\r\n      keyboardShortcuts: {\r\n        'play-pause': [' ', 'p', 'k'],\r\n        'volume-up': ['ArrowUp'],\r\n        'volume-down': ['ArrowDown'],\r\n        'seek-forward': ['ArrowRight', 'f'],\r\n        'seek-backward': ['ArrowLeft', 'r'],\r\n        'seek-forward-large': ['l'],\r\n        'seek-backward-large': ['j'],\r\n        'mute': ['m'],\r\n        'fullscreen': ['f'],\r\n        'captions': ['c'],\r\n        'speed-up': ['>'],\r\n        'speed-down': ['<'],\r\n        'settings': ['s']\r\n      },\r\n      \r\n      // Accessibility\r\n      ariaLabels: {},\r\n      screenReaderAnnouncements: true,\r\n      highContrast: false,\r\n      focusHighlight: true,\r\n      \r\n      // Languages\r\n      language: 'en',\r\n      languages: ['en'],\r\n      \r\n      // Advanced\r\n      debug: false,\r\n      classPrefix: 'vidply',\r\n      iconType: 'svg',\r\n      pauseOthersOnPlay: true,\r\n      \r\n      // Callbacks\r\n      onReady: null,\r\n      onPlay: null,\r\n      onPause: null,\r\n      onEnded: null,\r\n      onTimeUpdate: null,\r\n      onVolumeChange: null,\r\n      onError: null,\r\n      \r\n      ...options\r\n    };\r\n\r\n    // State\r\n    this.state = {\r\n      ready: false,\r\n      playing: false,\r\n      paused: true,\r\n      ended: false,\r\n      buffering: false,\r\n      seeking: false,\r\n      muted: this.options.muted,\r\n      volume: this.options.volume,\r\n      currentTime: 0,\r\n      duration: 0,\r\n      playbackSpeed: this.options.playbackSpeed,\r\n      fullscreen: false,\r\n      pip: false,\r\n      captionsEnabled: this.options.captionsDefault,\r\n      currentCaption: null,\r\n      controlsVisible: true,\r\n      audioDescriptionEnabled: false,\r\n      signLanguageEnabled: false\r\n    };\r\n    \r\n    // Store original source for toggling\r\n    this.originalSrc = null;\r\n    this.audioDescriptionSrc = this.options.audioDescriptionSrc;\r\n    this.signLanguageSrc = this.options.signLanguageSrc;\r\n    this.signLanguageVideo = null;\r\n\r\n    // Components\r\n    this.container = null;\r\n    this.renderer = null;\r\n    this.controlBar = null;\r\n    this.captionManager = null;\r\n    this.keyboardManager = null;\r\n    this.settingsDialog = null;\r\n\r\n    // Initialize\r\n    this.init();\r\n  }\r\n\r\n  async init() {\r\n    try {\r\n      this.log('Initializing VidPly player');\r\n      \r\n      // Set language\r\n      i18n.setLanguage(this.options.language);\r\n      \r\n      // Create container\r\n      this.createContainer();\r\n      \r\n      // Detect and initialize renderer (only if source exists)\r\n      const src = this.element.src || this.element.querySelector('source')?.src;\r\n      if (src) {\r\n        await this.initializeRenderer();\r\n      } else {\r\n        this.log('No initial source - waiting for playlist or manual load');\r\n      }\r\n      \r\n      // Create controls\r\n      if (this.options.controls) {\r\n        this.controlBar = new ControlBar(this);\r\n        this.videoWrapper.appendChild(this.controlBar.element);\r\n      }\r\n      \r\n      // Initialize captions\r\n      if (this.options.captions) {\r\n        this.captionManager = new CaptionManager(this);\r\n      }\r\n      \r\n      // Initialize transcript\r\n      if (this.options.transcript || this.options.transcriptButton) {\r\n        this.transcriptManager = new TranscriptManager(this);\r\n      }\r\n      \r\n      // Initialize keyboard controls\r\n      if (this.options.keyboard) {\r\n        this.keyboardManager = new KeyboardManager(this);\r\n      }\r\n      \r\n      // Initialize settings dialog\r\n      if (this.options.settingsButton) {\r\n        this.settingsDialog = new SettingsDialog(this);\r\n      }\r\n      \r\n      // Set initial state\r\n      if (this.options.startTime > 0) {\r\n        this.seek(this.options.startTime);\r\n      }\r\n      \r\n      if (this.options.muted) {\r\n        this.mute();\r\n      }\r\n      \r\n      if (this.options.volume !== 0.8) {\r\n        this.setVolume(this.options.volume);\r\n      }\r\n      \r\n      // Mark as ready\r\n      this.state.ready = true;\r\n      this.emit('ready');\r\n      \r\n      if (this.options.onReady) {\r\n        this.options.onReady.call(this);\r\n      }\r\n      \r\n      // Autoplay if enabled\r\n      if (this.options.autoplay) {\r\n        this.play();\r\n      }\r\n      \r\n      this.log('Player initialized successfully');\r\n    } catch (error) {\r\n      this.handleError(error);\r\n    }\r\n  }\r\n\r\n  createContainer() {\r\n    // Create main container\r\n    this.container = DOMUtils.createElement('div', {\r\n      className: `${this.options.classPrefix}-player`,\r\n      attributes: {\r\n        'role': 'region',\r\n        'aria-label': i18n.t('player.label'),\r\n        'tabindex': '-1'\r\n      }\r\n    });\r\n\r\n    // Add media type class\r\n    const mediaType = this.element.tagName.toLowerCase();\r\n    this.container.classList.add(`${this.options.classPrefix}-${mediaType}`);\r\n\r\n    // Add responsive class\r\n    if (this.options.responsive) {\r\n      this.container.classList.add(`${this.options.classPrefix}-responsive`);\r\n    }\r\n\r\n    // Create video wrapper (for proper positioning of controls)\r\n    this.videoWrapper = DOMUtils.createElement('div', {\r\n      className: `${this.options.classPrefix}-video-wrapper`\r\n    });\r\n\r\n    // Wrap original element\r\n    this.element.parentNode.insertBefore(this.container, this.element);\r\n    this.container.appendChild(this.videoWrapper);\r\n    this.videoWrapper.appendChild(this.element);\r\n    \r\n    // Hide original element\r\n    this.element.style.width = '100%';\r\n    this.element.style.height = '100%';\r\n    \r\n    // Set dimensions\r\n    if (this.options.width) {\r\n      this.container.style.width = typeof this.options.width === 'number' \r\n        ? `${this.options.width}px` \r\n        : this.options.width;\r\n    }\r\n    \r\n    if (this.options.height) {\r\n      this.container.style.height = typeof this.options.height === 'number'\r\n        ? `${this.options.height}px`\r\n        : this.options.height;\r\n    }\r\n    \r\n    // Set poster\r\n    if (this.options.poster && this.element.tagName === 'VIDEO') {\r\n      this.element.poster = this.options.poster;\r\n    }\r\n  }\r\n\r\n  async initializeRenderer() {\r\n    const src = this.element.src || this.element.querySelector('source')?.src;\r\n    \r\n    if (!src) {\r\n      throw new Error('No media source found');\r\n    }\r\n\r\n    // Store original source for audio description toggling\r\n    if (!this.originalSrc) {\r\n      this.originalSrc = src;\r\n    }\r\n\r\n    // Detect media type\r\n    let renderer;\r\n    \r\n    if (src.includes('youtube.com') || src.includes('youtu.be')) {\r\n      renderer = YouTubeRenderer;\r\n    } else if (src.includes('vimeo.com')) {\r\n      renderer = VimeoRenderer;\r\n    } else if (src.includes('.m3u8')) {\r\n      renderer = HLSRenderer;\r\n    } else {\r\n      renderer = HTML5Renderer;\r\n    }\r\n\r\n    this.log(`Using ${renderer.name} renderer`);\r\n    this.renderer = new renderer(this);\r\n    await this.renderer.init();\r\n  }\r\n\r\n  /**\r\n   * Load new media source (for playlists)\r\n   * @param {Object} config - Media configuration\r\n   * @param {string} config.src - Media source URL\r\n   * @param {string} config.type - Media MIME type\r\n   * @param {string} [config.poster] - Poster image URL\r\n   * @param {Array} [config.tracks] - Text tracks (captions, chapters, etc.)\r\n   */\r\n  async load(config) {\r\n    try {\r\n      this.log('Loading new media:', config.src);\r\n      \r\n      // Pause current playback\r\n      if (this.renderer) {\r\n        this.pause();\r\n      }\r\n      \r\n      // Clear existing text tracks\r\n      const existingTracks = this.element.querySelectorAll('track');\r\n      existingTracks.forEach(track => track.remove());\r\n      \r\n      // Update media element\r\n      this.element.src = config.src;\r\n      \r\n      if (config.type) {\r\n        this.element.type = config.type;\r\n      }\r\n      \r\n      if (config.poster && this.element.tagName === 'VIDEO') {\r\n        this.element.poster = config.poster;\r\n      }\r\n      \r\n      // Add new text tracks\r\n      if (config.tracks && config.tracks.length > 0) {\r\n        config.tracks.forEach(trackConfig => {\r\n          const track = document.createElement('track');\r\n          track.src = trackConfig.src;\r\n          track.kind = trackConfig.kind || 'captions';\r\n          track.srclang = trackConfig.srclang || 'en';\r\n          track.label = trackConfig.label || trackConfig.srclang;\r\n          \r\n          if (trackConfig.default) {\r\n            track.default = true;\r\n          }\r\n          \r\n          this.element.appendChild(track);\r\n        });\r\n      }\r\n      \r\n      // Check if we need to change renderer type\r\n      const shouldChangeRenderer = this.shouldChangeRenderer(config.src);\r\n      \r\n      // Destroy old renderer if changing types\r\n      if (shouldChangeRenderer && this.renderer) {\r\n        this.renderer.destroy();\r\n        this.renderer = null;\r\n      }\r\n      \r\n      // Initialize or reinitialize renderer\r\n      if (!this.renderer || shouldChangeRenderer) {\r\n        await this.initializeRenderer();\r\n      } else {\r\n        // Just reload the current renderer with the updated element\r\n        this.renderer.media = this.element; // Update media reference\r\n        this.element.load();\r\n      }\r\n      \r\n      // Reinitialize caption manager to pick up new tracks\r\n      if (this.captionManager) {\r\n        this.captionManager.destroy();\r\n        this.captionManager = new CaptionManager(this);\r\n      }\r\n      \r\n      this.emit('sourcechange', config);\r\n      this.log('Media loaded successfully');\r\n      \r\n    } catch (error) {\r\n      this.handleError(error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if we need to change renderer type\r\n   * @param {string} src - New source URL\r\n   * @returns {boolean}\r\n   */\r\n  shouldChangeRenderer(src) {\r\n    if (!this.renderer) return true;\r\n    \r\n    const isYouTube = src.includes('youtube.com') || src.includes('youtu.be');\r\n    const isVimeo = src.includes('vimeo.com');\r\n    const isHLS = src.includes('.m3u8');\r\n    \r\n    const currentRendererName = this.renderer.constructor.name;\r\n    \r\n    if (isYouTube && currentRendererName !== 'YouTubeRenderer') return true;\r\n    if (isVimeo && currentRendererName !== 'VimeoRenderer') return true;\r\n    if (isHLS && currentRendererName !== 'HLSRenderer') return true;\r\n    if (!isYouTube && !isVimeo && !isHLS && currentRendererName !== 'HTML5Renderer') return true;\r\n    \r\n    return false;\r\n  }\r\n\r\n  // Playback controls\r\n  play() {\r\n    if (this.renderer) {\r\n      this.renderer.play();\r\n    }\r\n  }\r\n\r\n  pause() {\r\n    if (this.renderer) {\r\n      this.renderer.pause();\r\n    }\r\n  }\r\n\r\n  stop() {\r\n    this.pause();\r\n    this.seek(0);\r\n  }\r\n\r\n  toggle() {\r\n    if (this.state.playing) {\r\n      this.pause();\r\n    } else {\r\n      this.play();\r\n    }\r\n  }\r\n\r\n  seek(time) {\r\n    if (this.renderer) {\r\n      this.renderer.seek(time);\r\n    }\r\n  }\r\n\r\n  seekForward(interval = this.options.seekInterval) {\r\n    this.seek(Math.min(this.state.currentTime + interval, this.state.duration));\r\n  }\r\n\r\n  seekBackward(interval = this.options.seekInterval) {\r\n    this.seek(Math.max(this.state.currentTime - interval, 0));\r\n  }\r\n\r\n  // Volume controls\r\n  setVolume(volume) {\r\n    const newVolume = Math.max(0, Math.min(1, volume));\r\n    if (this.renderer) {\r\n      this.renderer.setVolume(newVolume);\r\n    }\r\n    this.state.volume = newVolume;\r\n    \r\n    if (newVolume > 0 && this.state.muted) {\r\n      this.state.muted = false;\r\n    }\r\n  }\r\n\r\n  getVolume() {\r\n    return this.state.volume;\r\n  }\r\n\r\n  mute() {\r\n    if (this.renderer) {\r\n      this.renderer.setMuted(true);\r\n    }\r\n    this.state.muted = true;\r\n  }\r\n\r\n  unmute() {\r\n    if (this.renderer) {\r\n      this.renderer.setMuted(false);\r\n    }\r\n    this.state.muted = false;\r\n  }\r\n\r\n  toggleMute() {\r\n    if (this.state.muted) {\r\n      this.unmute();\r\n    } else {\r\n      this.mute();\r\n    }\r\n  }\r\n\r\n  // Playback speed\r\n  setPlaybackSpeed(speed) {\r\n    const newSpeed = Math.max(0.25, Math.min(2, speed));\r\n    if (this.renderer) {\r\n      this.renderer.setPlaybackSpeed(newSpeed);\r\n    }\r\n    this.state.playbackSpeed = newSpeed;\r\n    this.emit('playbackspeedchange', newSpeed);\r\n  }\r\n\r\n  getPlaybackSpeed() {\r\n    return this.state.playbackSpeed;\r\n  }\r\n\r\n  // Fullscreen\r\n  enterFullscreen() {\r\n    const elem = this.container;\r\n    \r\n    if (elem.requestFullscreen) {\r\n      elem.requestFullscreen();\r\n    } else if (elem.webkitRequestFullscreen) {\r\n      elem.webkitRequestFullscreen();\r\n    } else if (elem.mozRequestFullScreen) {\r\n      elem.mozRequestFullScreen();\r\n    } else if (elem.msRequestFullscreen) {\r\n      elem.msRequestFullscreen();\r\n    }\r\n    \r\n    this.state.fullscreen = true;\r\n    this.container.classList.add(`${this.options.classPrefix}-fullscreen`);\r\n    this.emit('fullscreenchange', true);\r\n  }\r\n\r\n  exitFullscreen() {\r\n    if (document.exitFullscreen) {\r\n      document.exitFullscreen();\r\n    } else if (document.webkitExitFullscreen) {\r\n      document.webkitExitFullscreen();\r\n    } else if (document.mozCancelFullScreen) {\r\n      document.mozCancelFullScreen();\r\n    } else if (document.msExitFullscreen) {\r\n      document.msExitFullscreen();\r\n    }\r\n    \r\n    this.state.fullscreen = false;\r\n    this.container.classList.remove(`${this.options.classPrefix}-fullscreen`);\r\n    this.emit('fullscreenchange', false);\r\n  }\r\n\r\n  toggleFullscreen() {\r\n    if (this.state.fullscreen) {\r\n      this.exitFullscreen();\r\n    } else {\r\n      this.enterFullscreen();\r\n    }\r\n  }\r\n\r\n  // Picture-in-Picture\r\n  enterPiP() {\r\n    if (this.element.requestPictureInPicture) {\r\n      this.element.requestPictureInPicture();\r\n      this.state.pip = true;\r\n      this.emit('pipchange', true);\r\n    }\r\n  }\r\n\r\n  exitPiP() {\r\n    if (document.pictureInPictureElement) {\r\n      document.exitPictureInPicture();\r\n      this.state.pip = false;\r\n      this.emit('pipchange', false);\r\n    }\r\n  }\r\n\r\n  togglePiP() {\r\n    if (this.state.pip) {\r\n      this.exitPiP();\r\n    } else {\r\n      this.enterPiP();\r\n    }\r\n  }\r\n\r\n  // Captions\r\n  enableCaptions() {\r\n    if (this.captionManager) {\r\n      this.captionManager.enable();\r\n      this.state.captionsEnabled = true;\r\n    }\r\n  }\r\n\r\n  disableCaptions() {\r\n    if (this.captionManager) {\r\n      this.captionManager.disable();\r\n      this.state.captionsEnabled = false;\r\n    }\r\n  }\r\n\r\n  toggleCaptions() {\r\n    if (this.state.captionsEnabled) {\r\n      this.disableCaptions();\r\n    } else {\r\n      this.enableCaptions();\r\n    }\r\n  }\r\n\r\n  // Audio Description\r\n  async enableAudioDescription() {\r\n    if (!this.audioDescriptionSrc) {\r\n      console.warn('VidPly: No audio description source provided');\r\n      return;\r\n    }\r\n\r\n    // Store current playback state\r\n    const currentTime = this.state.currentTime;\r\n    const wasPlaying = this.state.playing;\r\n\r\n    // Switch to audio-described version\r\n    this.element.src = this.audioDescriptionSrc;\r\n    \r\n    // Wait for new source to load\r\n    await new Promise((resolve) => {\r\n      const onLoadedMetadata = () => {\r\n        this.element.removeEventListener('loadedmetadata', onLoadedMetadata);\r\n        resolve();\r\n      };\r\n      this.element.addEventListener('loadedmetadata', onLoadedMetadata);\r\n    });\r\n\r\n    // Restore playback position\r\n    this.seek(currentTime);\r\n    \r\n    if (wasPlaying) {\r\n      this.play();\r\n    }\r\n\r\n    this.state.audioDescriptionEnabled = true;\r\n    this.emit('audiodescriptionenabled');\r\n  }\r\n\r\n  async disableAudioDescription() {\r\n    if (!this.originalSrc) {\r\n      return;\r\n    }\r\n\r\n    // Store current playback state\r\n    const currentTime = this.state.currentTime;\r\n    const wasPlaying = this.state.playing;\r\n\r\n    // Switch back to original version\r\n    this.element.src = this.originalSrc;\r\n    \r\n    // Wait for new source to load\r\n    await new Promise((resolve) => {\r\n      const onLoadedMetadata = () => {\r\n        this.element.removeEventListener('loadedmetadata', onLoadedMetadata);\r\n        resolve();\r\n      };\r\n      this.element.addEventListener('loadedmetadata', onLoadedMetadata);\r\n    });\r\n\r\n    // Restore playback position\r\n    this.seek(currentTime);\r\n    \r\n    if (wasPlaying) {\r\n      this.play();\r\n    }\r\n\r\n    this.state.audioDescriptionEnabled = false;\r\n    this.emit('audiodescriptiondisabled');\r\n  }\r\n\r\n  async toggleAudioDescription() {\r\n    if (this.state.audioDescriptionEnabled) {\r\n      await this.disableAudioDescription();\r\n    } else {\r\n      await this.enableAudioDescription();\r\n    }\r\n  }\r\n\r\n  // Sign Language\r\n  enableSignLanguage() {\r\n    if (!this.signLanguageSrc) {\r\n      console.warn('No sign language video source provided');\r\n      return;\r\n    }\r\n\r\n    if (this.signLanguageVideo) {\r\n      // Already exists, just show it\r\n      this.signLanguageVideo.style.display = 'block';\r\n      this.state.signLanguageEnabled = true;\r\n      this.emit('signlanguageenabled');\r\n      return;\r\n    }\r\n\r\n    // Create sign language video element\r\n    this.signLanguageVideo = document.createElement('video');\r\n    this.signLanguageVideo.className = 'vidply-sign-language-video';\r\n    this.signLanguageVideo.src = this.signLanguageSrc;\r\n    this.signLanguageVideo.setAttribute('aria-label', this.i18n.t('signLanguageVideo'));\r\n    \r\n    // Set position based on options\r\n    const position = this.options.signLanguagePosition || 'bottom-right';\r\n    this.signLanguageVideo.classList.add(`vidply-sign-position-${position}`);\r\n    \r\n    // Sync with main video\r\n    this.signLanguageVideo.muted = true; // Sign language video should be muted\r\n    this.signLanguageVideo.currentTime = this.state.currentTime;\r\n    if (!this.state.paused) {\r\n      this.signLanguageVideo.play();\r\n    }\r\n\r\n    // Add to container\r\n    this.container.appendChild(this.signLanguageVideo);\r\n\r\n    // Create bound handlers to store references for cleanup\r\n    this.signLanguageHandlers = {\r\n      play: () => {\r\n        if (this.signLanguageVideo) {\r\n          this.signLanguageVideo.play();\r\n        }\r\n      },\r\n      pause: () => {\r\n        if (this.signLanguageVideo) {\r\n          this.signLanguageVideo.pause();\r\n        }\r\n      },\r\n      timeupdate: () => {\r\n        if (this.signLanguageVideo && Math.abs(this.signLanguageVideo.currentTime - this.state.currentTime) > 0.5) {\r\n          this.signLanguageVideo.currentTime = this.state.currentTime;\r\n        }\r\n      },\r\n      ratechange: () => {\r\n        if (this.signLanguageVideo) {\r\n          this.signLanguageVideo.playbackRate = this.state.playbackSpeed;\r\n        }\r\n      }\r\n    };\r\n\r\n    // Sync playback\r\n    this.on('play', this.signLanguageHandlers.play);\r\n    this.on('pause', this.signLanguageHandlers.pause);\r\n    this.on('timeupdate', this.signLanguageHandlers.timeupdate);\r\n    this.on('ratechange', this.signLanguageHandlers.ratechange);\r\n\r\n    this.state.signLanguageEnabled = true;\r\n    this.emit('signlanguageenabled');\r\n  }\r\n\r\n  disableSignLanguage() {\r\n    if (this.signLanguageVideo) {\r\n      this.signLanguageVideo.style.display = 'none';\r\n    }\r\n    this.state.signLanguageEnabled = false;\r\n    this.emit('signlanguagedisabled');\r\n  }\r\n\r\n  toggleSignLanguage() {\r\n    if (this.state.signLanguageEnabled) {\r\n      this.disableSignLanguage();\r\n    } else {\r\n      this.enableSignLanguage();\r\n    }\r\n  }\r\n\r\n  cleanupSignLanguage() {\r\n    // Remove event listeners\r\n    if (this.signLanguageHandlers) {\r\n      this.off('play', this.signLanguageHandlers.play);\r\n      this.off('pause', this.signLanguageHandlers.pause);\r\n      this.off('timeupdate', this.signLanguageHandlers.timeupdate);\r\n      this.off('ratechange', this.signLanguageHandlers.ratechange);\r\n      this.signLanguageHandlers = null;\r\n    }\r\n\r\n    // Remove video element\r\n    if (this.signLanguageVideo && this.signLanguageVideo.parentNode) {\r\n      this.signLanguageVideo.pause();\r\n      this.signLanguageVideo.src = '';\r\n      this.signLanguageVideo.parentNode.removeChild(this.signLanguageVideo);\r\n      this.signLanguageVideo = null;\r\n    }\r\n  }\r\n\r\n  // Settings\r\n  showSettings() {\r\n    if (this.settingsDialog) {\r\n      this.settingsDialog.show();\r\n    }\r\n  }\r\n\r\n  hideSettings() {\r\n    if (this.settingsDialog) {\r\n      this.settingsDialog.hide();\r\n    }\r\n  }\r\n\r\n  // Utility methods\r\n  getCurrentTime() {\r\n    return this.state.currentTime;\r\n  }\r\n\r\n  getDuration() {\r\n    return this.state.duration;\r\n  }\r\n\r\n  isPlaying() {\r\n    return this.state.playing;\r\n  }\r\n\r\n  isPaused() {\r\n    return this.state.paused;\r\n  }\r\n\r\n  isEnded() {\r\n    return this.state.ended;\r\n  }\r\n\r\n  isMuted() {\r\n    return this.state.muted;\r\n  }\r\n\r\n  isFullscreen() {\r\n    return this.state.fullscreen;\r\n  }\r\n\r\n  // Error handling\r\n  handleError(error) {\r\n    this.log('Error:', error, 'error');\r\n    this.emit('error', error);\r\n    \r\n    if (this.options.onError) {\r\n      this.options.onError.call(this, error);\r\n    }\r\n  }\r\n\r\n  // Logging\r\n  log(message, type = 'log') {\r\n    if (this.options.debug) {\r\n      console[type](`[VidPly]`, message);\r\n    }\r\n  }\r\n\r\n  // Cleanup\r\n  destroy() {\r\n    this.log('Destroying player');\r\n    \r\n    if (this.renderer) {\r\n      this.renderer.destroy();\r\n    }\r\n    \r\n    if (this.controlBar) {\r\n      this.controlBar.destroy();\r\n    }\r\n    \r\n    if (this.captionManager) {\r\n      this.captionManager.destroy();\r\n    }\r\n    \r\n    if (this.keyboardManager) {\r\n      this.keyboardManager.destroy();\r\n    }\r\n    \r\n    if (this.settingsDialog) {\r\n      this.settingsDialog.destroy();\r\n    }\r\n    \r\n    if (this.transcriptManager) {\r\n      this.transcriptManager.destroy();\r\n    }\r\n    \r\n    // Cleanup sign language video and listeners\r\n    this.cleanupSignLanguage();\r\n    \r\n    // Remove container\r\n    if (this.container && this.container.parentNode) {\r\n      this.container.parentNode.insertBefore(this.element, this.container);\r\n      this.container.parentNode.removeChild(this.container);\r\n    }\r\n    \r\n    this.removeAllListeners();\r\n  }\r\n}\r\n\r\n// Static instances tracker for pause others functionality\r\nPlayer.instances = [];\r\n\r\n", "/**\r\n * YouTube Renderer\r\n */\r\n\r\nexport class YouTubeRenderer {\r\n  constructor(player) {\r\n    this.player = player;\r\n    this.youtube = null;\r\n    this.videoId = null;\r\n    this.isReady = false;\r\n    this.iframe = null;\r\n  }\r\n\r\n  async init() {\r\n    // Extract video ID from URL\r\n    this.videoId = this.extractVideoId(this.player.element.src);\r\n    \r\n    if (!this.videoId) {\r\n      throw new Error('Invalid YouTube URL');\r\n    }\r\n\r\n    // Load YouTube IFrame API\r\n    await this.loadYouTubeAPI();\r\n\r\n    // Create iframe\r\n    this.createIframe();\r\n\r\n    // Initialize player\r\n    await this.initializePlayer();\r\n  }\r\n\r\n  extractVideoId(url) {\r\n    const patterns = [\r\n      /(?:youtube\\.com\\/watch\\?v=|youtu\\.be\\/)([^&\\s]+)/,\r\n      /youtube\\.com\\/embed\\/([^&\\s]+)/\r\n    ];\r\n\r\n    for (const pattern of patterns) {\r\n      const match = url.match(pattern);\r\n      if (match && match[1]) {\r\n        return match[1];\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  async loadYouTubeAPI() {\r\n    // Check if API is already loaded\r\n    if (window.YT && window.YT.Player) {\r\n      return Promise.resolve();\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n      // Check if script is already being loaded\r\n      if (window.onYouTubeIframeAPIReady) {\r\n        const originalCallback = window.onYouTubeIframeAPIReady;\r\n        window.onYouTubeIframeAPIReady = () => {\r\n          originalCallback();\r\n          resolve();\r\n        };\r\n        return;\r\n      }\r\n\r\n      // Load the API script\r\n      const tag = document.createElement('script');\r\n      tag.src = 'https://www.youtube.com/iframe_api';\r\n      \r\n      window.onYouTubeIframeAPIReady = () => {\r\n        resolve();\r\n      };\r\n\r\n      tag.onerror = () => reject(new Error('Failed to load YouTube API'));\r\n      \r\n      const firstScriptTag = document.getElementsByTagName('script')[0];\r\n      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\r\n    });\r\n  }\r\n\r\n  createIframe() {\r\n    // Hide original element\r\n    this.player.element.style.display = 'none';\r\n\r\n    // Create container for iframe\r\n    this.iframe = document.createElement('div');\r\n    this.iframe.id = `youtube-player-${Math.random().toString(36).substr(2, 9)}`;\r\n    this.iframe.style.width = '100%';\r\n    this.iframe.style.height = '100%';\r\n    \r\n    this.player.element.parentNode.insertBefore(this.iframe, this.player.element);\r\n  }\r\n\r\n  async initializePlayer() {\r\n    return new Promise((resolve) => {\r\n      this.youtube = new window.YT.Player(this.iframe.id, {\r\n        videoId: this.videoId,\r\n        width: '100%',\r\n        height: '100%',\r\n        playerVars: {\r\n          controls: 0,\r\n          disablekb: 1,\r\n          fs: 0,\r\n          modestbranding: 1,\r\n          rel: 0,\r\n          showinfo: 0,\r\n          iv_load_policy: 3,\r\n          autoplay: this.player.options.autoplay ? 1 : 0,\r\n          mute: this.player.options.muted ? 1 : 0,\r\n          start: this.player.options.startTime || 0\r\n        },\r\n        events: {\r\n          onReady: (event) => {\r\n            this.isReady = true;\r\n            this.attachEvents();\r\n            resolve();\r\n          },\r\n          onStateChange: (event) => this.handleStateChange(event),\r\n          onError: (event) => this.handleError(event)\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  attachEvents() {\r\n    // Set up polling for time updates (YouTube doesn't provide timeupdate events)\r\n    this.timeUpdateInterval = setInterval(() => {\r\n      if (this.isReady && this.youtube) {\r\n        const currentTime = this.youtube.getCurrentTime();\r\n        const duration = this.youtube.getDuration();\r\n        \r\n        this.player.state.currentTime = currentTime;\r\n        this.player.state.duration = duration;\r\n        \r\n        this.player.emit('timeupdate', currentTime);\r\n      }\r\n    }, 250);\r\n\r\n    // Initial metadata\r\n    if (this.youtube.getDuration) {\r\n      this.player.state.duration = this.youtube.getDuration();\r\n      this.player.emit('loadedmetadata');\r\n    }\r\n  }\r\n\r\n  handleStateChange(event) {\r\n    const states = window.YT.PlayerState;\r\n\r\n    switch (event.data) {\r\n      case states.PLAYING:\r\n        this.player.state.playing = true;\r\n        this.player.state.paused = false;\r\n        this.player.state.ended = false;\r\n        this.player.state.buffering = false;\r\n        this.player.emit('play');\r\n        this.player.emit('playing');\r\n        \r\n        if (this.player.options.onPlay) {\r\n          this.player.options.onPlay.call(this.player);\r\n        }\r\n        break;\r\n\r\n      case states.PAUSED:\r\n        this.player.state.playing = false;\r\n        this.player.state.paused = true;\r\n        this.player.emit('pause');\r\n        \r\n        if (this.player.options.onPause) {\r\n          this.player.options.onPause.call(this.player);\r\n        }\r\n        break;\r\n\r\n      case states.ENDED:\r\n        this.player.state.playing = false;\r\n        this.player.state.paused = true;\r\n        this.player.state.ended = true;\r\n        this.player.emit('ended');\r\n        \r\n        if (this.player.options.onEnded) {\r\n          this.player.options.onEnded.call(this.player);\r\n        }\r\n        \r\n        if (this.player.options.loop) {\r\n          this.youtube.seekTo(0);\r\n          this.youtube.playVideo();\r\n        }\r\n        break;\r\n\r\n      case states.BUFFERING:\r\n        this.player.state.buffering = true;\r\n        this.player.emit('waiting');\r\n        break;\r\n\r\n      case states.CUED:\r\n        this.player.emit('loadedmetadata');\r\n        break;\r\n    }\r\n  }\r\n\r\n  handleError(event) {\r\n    const errors = {\r\n      2: 'Invalid video ID',\r\n      5: 'HTML5 player error',\r\n      100: 'Video not found',\r\n      101: 'Video not allowed to be played in embedded players',\r\n      150: 'Video not allowed to be played in embedded players'\r\n    };\r\n\r\n    const error = new Error(errors[event.data] || 'YouTube player error');\r\n    this.player.handleError(error);\r\n  }\r\n\r\n  play() {\r\n    if (this.isReady && this.youtube) {\r\n      this.youtube.playVideo();\r\n    }\r\n  }\r\n\r\n  pause() {\r\n    if (this.isReady && this.youtube) {\r\n      this.youtube.pauseVideo();\r\n    }\r\n  }\r\n\r\n  seek(time) {\r\n    if (this.isReady && this.youtube) {\r\n      this.youtube.seekTo(time, true);\r\n    }\r\n  }\r\n\r\n  setVolume(volume) {\r\n    if (this.isReady && this.youtube) {\r\n      this.youtube.setVolume(volume * 100);\r\n      this.player.state.volume = volume;\r\n    }\r\n  }\r\n\r\n  setMuted(muted) {\r\n    if (this.isReady && this.youtube) {\r\n      if (muted) {\r\n        this.youtube.mute();\r\n      } else {\r\n        this.youtube.unMute();\r\n      }\r\n      this.player.state.muted = muted;\r\n    }\r\n  }\r\n\r\n  setPlaybackSpeed(speed) {\r\n    if (this.isReady && this.youtube) {\r\n      this.youtube.setPlaybackRate(speed);\r\n      this.player.state.playbackSpeed = speed;\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    if (this.timeUpdateInterval) {\r\n      clearInterval(this.timeUpdateInterval);\r\n    }\r\n\r\n    if (this.youtube && this.youtube.destroy) {\r\n      this.youtube.destroy();\r\n    }\r\n\r\n    if (this.iframe && this.iframe.parentNode) {\r\n      this.iframe.parentNode.removeChild(this.iframe);\r\n    }\r\n\r\n    // Show original element\r\n    if (this.player.element) {\r\n      this.player.element.style.display = '';\r\n    }\r\n  }\r\n}\r\n\r\n", "/**\r\n * Vimeo Renderer\r\n */\r\n\r\nexport class VimeoRenderer {\r\n  constructor(player) {\r\n    this.player = player;\r\n    this.vimeo = null;\r\n    this.videoId = null;\r\n    this.isReady = false;\r\n    this.iframe = null;\r\n  }\r\n\r\n  async init() {\r\n    // Extract video ID from URL\r\n    this.videoId = this.extractVideoId(this.player.element.src);\r\n    \r\n    if (!this.videoId) {\r\n      throw new Error('Invalid Vimeo URL');\r\n    }\r\n\r\n    // Load Vimeo Player API\r\n    await this.loadVimeoAPI();\r\n\r\n    // Create iframe\r\n    this.createIframe();\r\n\r\n    // Initialize player\r\n    await this.initializePlayer();\r\n  }\r\n\r\n  extractVideoId(url) {\r\n    const patterns = [\r\n      /vimeo\\.com\\/(\\d+)/,\r\n      /vimeo\\.com\\/video\\/(\\d+)/,\r\n      /player\\.vimeo\\.com\\/video\\/(\\d+)/\r\n    ];\r\n\r\n    for (const pattern of patterns) {\r\n      const match = url.match(pattern);\r\n      if (match && match[1]) {\r\n        return match[1];\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  async loadVimeoAPI() {\r\n    // Check if API is already loaded\r\n    if (window.Vimeo && window.Vimeo.Player) {\r\n      return Promise.resolve();\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n      const script = document.createElement('script');\r\n      script.src = 'https://player.vimeo.com/api/player.js';\r\n      script.onload = () => resolve();\r\n      script.onerror = () => reject(new Error('Failed to load Vimeo API'));\r\n      document.head.appendChild(script);\r\n    });\r\n  }\r\n\r\n  createIframe() {\r\n    // Hide original element\r\n    this.player.element.style.display = 'none';\r\n\r\n    // Create container for iframe\r\n    this.iframe = document.createElement('div');\r\n    this.iframe.id = `vimeo-player-${Math.random().toString(36).substr(2, 9)}`;\r\n    this.iframe.style.width = '100%';\r\n    this.iframe.style.height = '100%';\r\n    \r\n    this.player.element.parentNode.insertBefore(this.iframe, this.player.element);\r\n  }\r\n\r\n  async initializePlayer() {\r\n    const options = {\r\n      id: this.videoId,\r\n      width: '100%',\r\n      height: '100%',\r\n      controls: false,\r\n      autoplay: this.player.options.autoplay,\r\n      muted: this.player.options.muted,\r\n      loop: this.player.options.loop,\r\n      keyboard: false\r\n    };\r\n\r\n    if (this.player.options.startTime > 0) {\r\n      options.startTime = this.player.options.startTime;\r\n    }\r\n\r\n    this.vimeo = new window.Vimeo.Player(this.iframe.id, options);\r\n\r\n    // Wait for player to be ready\r\n    await this.vimeo.ready();\r\n    this.isReady = true;\r\n\r\n    this.attachEvents();\r\n\r\n    // Get initial duration\r\n    try {\r\n      const duration = await this.vimeo.getDuration();\r\n      this.player.state.duration = duration;\r\n      this.player.emit('loadedmetadata');\r\n    } catch (error) {\r\n      this.player.log('Error getting duration:', error, 'warn');\r\n    }\r\n  }\r\n\r\n  attachEvents() {\r\n    this.vimeo.on('play', () => {\r\n      this.player.state.playing = true;\r\n      this.player.state.paused = false;\r\n      this.player.state.ended = false;\r\n      this.player.emit('play');\r\n      \r\n      if (this.player.options.onPlay) {\r\n        this.player.options.onPlay.call(this.player);\r\n      }\r\n    });\r\n\r\n    this.vimeo.on('pause', () => {\r\n      this.player.state.playing = false;\r\n      this.player.state.paused = true;\r\n      this.player.emit('pause');\r\n      \r\n      if (this.player.options.onPause) {\r\n        this.player.options.onPause.call(this.player);\r\n      }\r\n    });\r\n\r\n    this.vimeo.on('ended', () => {\r\n      this.player.state.playing = false;\r\n      this.player.state.paused = true;\r\n      this.player.state.ended = true;\r\n      this.player.emit('ended');\r\n      \r\n      if (this.player.options.onEnded) {\r\n        this.player.options.onEnded.call(this.player);\r\n      }\r\n    });\r\n\r\n    this.vimeo.on('timeupdate', (data) => {\r\n      this.player.state.currentTime = data.seconds;\r\n      this.player.state.duration = data.duration;\r\n      this.player.emit('timeupdate', data.seconds);\r\n      \r\n      if (this.player.options.onTimeUpdate) {\r\n        this.player.options.onTimeUpdate.call(this.player, data.seconds);\r\n      }\r\n    });\r\n\r\n    this.vimeo.on('volumechange', (data) => {\r\n      this.player.state.volume = data.volume;\r\n      this.player.emit('volumechange', data.volume);\r\n    });\r\n\r\n    this.vimeo.on('bufferstart', () => {\r\n      this.player.state.buffering = true;\r\n      this.player.emit('waiting');\r\n    });\r\n\r\n    this.vimeo.on('bufferend', () => {\r\n      this.player.state.buffering = false;\r\n      this.player.emit('canplay');\r\n    });\r\n\r\n    this.vimeo.on('seeking', () => {\r\n      this.player.state.seeking = true;\r\n      this.player.emit('seeking');\r\n    });\r\n\r\n    this.vimeo.on('seeked', () => {\r\n      this.player.state.seeking = false;\r\n      this.player.emit('seeked');\r\n    });\r\n\r\n    this.vimeo.on('playbackratechange', (data) => {\r\n      this.player.state.playbackSpeed = data.playbackRate;\r\n      this.player.emit('ratechange', data.playbackRate);\r\n    });\r\n\r\n    this.vimeo.on('error', (error) => {\r\n      this.player.handleError(new Error(`Vimeo error: ${error.message}`));\r\n    });\r\n  }\r\n\r\n  play() {\r\n    if (this.isReady && this.vimeo) {\r\n      this.vimeo.play().catch(error => {\r\n        this.player.log('Play error:', error, 'warn');\r\n      });\r\n    }\r\n  }\r\n\r\n  pause() {\r\n    if (this.isReady && this.vimeo) {\r\n      this.vimeo.pause().catch(error => {\r\n        this.player.log('Pause error:', error, 'warn');\r\n      });\r\n    }\r\n  }\r\n\r\n  seek(time) {\r\n    if (this.isReady && this.vimeo) {\r\n      this.vimeo.setCurrentTime(time).catch(error => {\r\n        this.player.log('Seek error:', error, 'warn');\r\n      });\r\n    }\r\n  }\r\n\r\n  setVolume(volume) {\r\n    if (this.isReady && this.vimeo) {\r\n      this.vimeo.setVolume(volume).catch(error => {\r\n        this.player.log('Volume error:', error, 'warn');\r\n      });\r\n      this.player.state.volume = volume;\r\n    }\r\n  }\r\n\r\n  setMuted(muted) {\r\n    if (this.isReady && this.vimeo) {\r\n      if (muted) {\r\n        this.vimeo.setVolume(0);\r\n      } else {\r\n        this.vimeo.setVolume(this.player.state.volume);\r\n      }\r\n      this.player.state.muted = muted;\r\n    }\r\n  }\r\n\r\n  setPlaybackSpeed(speed) {\r\n    if (this.isReady && this.vimeo) {\r\n      this.vimeo.setPlaybackRate(speed).catch(error => {\r\n        this.player.log('Playback rate error:', error, 'warn');\r\n      });\r\n      this.player.state.playbackSpeed = speed;\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    if (this.vimeo && this.vimeo.destroy) {\r\n      this.vimeo.destroy();\r\n    }\r\n\r\n    if (this.iframe && this.iframe.parentNode) {\r\n      this.iframe.parentNode.removeChild(this.iframe);\r\n    }\r\n\r\n    // Show original element\r\n    if (this.player.element) {\r\n      this.player.element.style.display = '';\r\n    }\r\n  }\r\n}\r\n\r\n", "/**\r\n * HLS Streaming Renderer\r\n * Uses hls.js for browsers that don't natively support HLS\r\n */\r\n\r\nexport class HLSRenderer {\r\n  constructor(player) {\r\n    this.player = player;\r\n    this.media = player.element;\r\n    this.hls = null;\r\n  }\r\n\r\n  async init() {\r\n    // Check if browser natively supports HLS (Safari)\r\n    if (this.canPlayNatively()) {\r\n      this.player.log('Using native HLS support');\r\n      await this.initNative();\r\n    } else {\r\n      this.player.log('Using hls.js for HLS support');\r\n      await this.initHlsJs();\r\n    }\r\n  }\r\n\r\n  canPlayNatively() {\r\n    const video = document.createElement('video');\r\n    return video.canPlayType('application/vnd.apple.mpegurl') !== '';\r\n  }\r\n\r\n  async initNative() {\r\n    // Use HTML5 renderer for native HLS support\r\n    const HTML5Renderer = (await import('./HTML5Renderer.js')).HTML5Renderer;\r\n    const renderer = new HTML5Renderer(this.player);\r\n    await renderer.init();\r\n    \r\n    // Copy methods\r\n    Object.getOwnPropertyNames(Object.getPrototypeOf(renderer)).forEach(method => {\r\n      if (method !== 'constructor' && typeof renderer[method] === 'function') {\r\n        this[method] = renderer[method].bind(renderer);\r\n      }\r\n    });\r\n  }\r\n\r\n  async initHlsJs() {\r\n    // Load hls.js if not already loaded\r\n    if (!window.Hls) {\r\n      await this.loadHlsJs();\r\n    }\r\n\r\n    if (!window.Hls.isSupported()) {\r\n      throw new Error('HLS is not supported in this browser');\r\n    }\r\n\r\n    // Create hls.js instance\r\n    this.hls = new window.Hls({\r\n      debug: this.player.options.debug,\r\n      enableWorker: true,\r\n      lowLatencyMode: false,\r\n      backBufferLength: 90\r\n    });\r\n\r\n    // Attach media element\r\n    this.hls.attachMedia(this.media);\r\n\r\n    // Load source\r\n    const src = this.player.element.src || this.player.element.querySelector('source')?.src;\r\n    this.hls.loadSource(src);\r\n\r\n    // Attach events\r\n    this.attachHlsEvents();\r\n    this.attachMediaEvents();\r\n  }\r\n\r\n  async loadHlsJs() {\r\n    return new Promise((resolve, reject) => {\r\n      const script = document.createElement('script');\r\n      script.src = 'https://cdn.jsdelivr.net/npm/hls.js@latest';\r\n      script.onload = () => resolve();\r\n      script.onerror = () => reject(new Error('Failed to load hls.js'));\r\n      document.head.appendChild(script);\r\n    });\r\n  }\r\n\r\n  attachHlsEvents() {\r\n    this.hls.on(window.Hls.Events.MANIFEST_PARSED, (event, data) => {\r\n      this.player.log('HLS manifest loaded, found ' + data.levels.length + ' quality levels');\r\n      this.player.emit('hlsmanifestparsed', data);\r\n    });\r\n\r\n    this.hls.on(window.Hls.Events.LEVEL_SWITCHED, (event, data) => {\r\n      this.player.log('HLS level switched to ' + data.level);\r\n      this.player.emit('hlslevelswitched', data);\r\n    });\r\n\r\n    this.hls.on(window.Hls.Events.ERROR, (event, data) => {\r\n      this.handleHlsError(data);\r\n    });\r\n\r\n    this.hls.on(window.Hls.Events.FRAG_BUFFERED, () => {\r\n      this.player.state.buffering = false;\r\n    });\r\n  }\r\n\r\n  attachMediaEvents() {\r\n    // Use same events as HTML5 renderer\r\n    this.media.addEventListener('loadedmetadata', () => {\r\n      this.player.state.duration = this.media.duration;\r\n      this.player.emit('loadedmetadata');\r\n    });\r\n\r\n    this.media.addEventListener('play', () => {\r\n      this.player.state.playing = true;\r\n      this.player.state.paused = false;\r\n      this.player.state.ended = false;\r\n      this.player.emit('play');\r\n      \r\n      if (this.player.options.onPlay) {\r\n        this.player.options.onPlay.call(this.player);\r\n      }\r\n    });\r\n\r\n    this.media.addEventListener('pause', () => {\r\n      this.player.state.playing = false;\r\n      this.player.state.paused = true;\r\n      this.player.emit('pause');\r\n      \r\n      if (this.player.options.onPause) {\r\n        this.player.options.onPause.call(this.player);\r\n      }\r\n    });\r\n\r\n    this.media.addEventListener('ended', () => {\r\n      this.player.state.playing = false;\r\n      this.player.state.paused = true;\r\n      this.player.state.ended = true;\r\n      this.player.emit('ended');\r\n      \r\n      if (this.player.options.onEnded) {\r\n        this.player.options.onEnded.call(this.player);\r\n      }\r\n      \r\n      if (this.player.options.loop) {\r\n        this.player.seek(0);\r\n        this.player.play();\r\n      }\r\n    });\r\n\r\n    this.media.addEventListener('timeupdate', () => {\r\n      this.player.state.currentTime = this.media.currentTime;\r\n      this.player.emit('timeupdate', this.media.currentTime);\r\n      \r\n      if (this.player.options.onTimeUpdate) {\r\n        this.player.options.onTimeUpdate.call(this.player, this.media.currentTime);\r\n      }\r\n    });\r\n\r\n    this.media.addEventListener('volumechange', () => {\r\n      this.player.state.volume = this.media.volume;\r\n      this.player.state.muted = this.media.muted;\r\n      this.player.emit('volumechange', this.media.volume);\r\n    });\r\n\r\n    this.media.addEventListener('waiting', () => {\r\n      this.player.state.buffering = true;\r\n      this.player.emit('waiting');\r\n    });\r\n\r\n    this.media.addEventListener('canplay', () => {\r\n      this.player.state.buffering = false;\r\n      this.player.emit('canplay');\r\n    });\r\n\r\n    this.media.addEventListener('error', () => {\r\n      this.player.handleError(this.media.error);\r\n    });\r\n  }\r\n\r\n  handleHlsError(data) {\r\n    if (data.fatal) {\r\n      switch (data.type) {\r\n        case window.Hls.ErrorTypes.NETWORK_ERROR:\r\n          this.player.log('Fatal network error, trying to recover...', 'error');\r\n          this.hls.startLoad();\r\n          break;\r\n          \r\n        case window.Hls.ErrorTypes.MEDIA_ERROR:\r\n          this.player.log('Fatal media error, trying to recover...', 'error');\r\n          this.hls.recoverMediaError();\r\n          break;\r\n          \r\n        default:\r\n          this.player.log('Fatal error, cannot recover', 'error');\r\n          this.player.handleError(new Error(`HLS Error: ${data.type} - ${data.details}`));\r\n          this.hls.destroy();\r\n          break;\r\n      }\r\n    } else {\r\n      this.player.log('Non-fatal HLS error: ' + data.details, 'warn');\r\n    }\r\n  }\r\n\r\n  play() {\r\n    const promise = this.media.play();\r\n    \r\n    if (promise !== undefined) {\r\n      promise.catch(error => {\r\n        this.player.log('Play failed:', error, 'warn');\r\n      });\r\n    }\r\n  }\r\n\r\n  pause() {\r\n    this.media.pause();\r\n  }\r\n\r\n  seek(time) {\r\n    this.media.currentTime = time;\r\n  }\r\n\r\n  setVolume(volume) {\r\n    this.media.volume = volume;\r\n  }\r\n\r\n  setMuted(muted) {\r\n    this.media.muted = muted;\r\n  }\r\n\r\n  setPlaybackSpeed(speed) {\r\n    this.media.playbackRate = speed;\r\n  }\r\n\r\n  switchQuality(levelIndex) {\r\n    if (this.hls) {\r\n      this.hls.currentLevel = levelIndex;\r\n    }\r\n  }\r\n\r\n  getQualities() {\r\n    if (this.hls && this.hls.levels) {\r\n      return this.hls.levels.map((level, index) => ({\r\n        index,\r\n        height: level.height,\r\n        width: level.width,\r\n        bitrate: level.bitrate,\r\n        name: `${level.height}p`\r\n      }));\r\n    }\r\n    return [];\r\n  }\r\n\r\n  destroy() {\r\n    if (this.hls) {\r\n      this.hls.destroy();\r\n      this.hls = null;\r\n    }\r\n  }\r\n}\r\n\r\n", "/**\r\n * VidPly Playlist Manager\r\n * Manages playlists for audio and video content\r\n */\r\n\r\nimport { DOMUtils } from '../utils/DOMUtils.js';\r\nimport { createIconElement } from '../icons/Icons.js';\r\n\r\nexport class PlaylistManager {\r\n  constructor(player, options = {}) {\r\n    this.player = player;\r\n    this.tracks = [];\r\n    this.currentIndex = -1;\r\n    \r\n    // Options\r\n    this.options = {\r\n      autoAdvance: options.autoAdvance !== false, // Default true\r\n      loop: options.loop || false,\r\n      showPanel: options.showPanel !== false, // Default true\r\n      ...options\r\n    };\r\n    \r\n    // UI elements\r\n    this.container = null;\r\n    this.playlistPanel = null;\r\n    this.trackInfoElement = null;\r\n    \r\n    // Bind methods\r\n    this.handleTrackEnd = this.handleTrackEnd.bind(this);\r\n    this.handleTrackError = this.handleTrackError.bind(this);\r\n    \r\n    // Initialize\r\n    this.init();\r\n  }\r\n  \r\n  init() {\r\n    // Listen for track end\r\n    this.player.on('ended', this.handleTrackEnd);\r\n    this.player.on('error', this.handleTrackError);\r\n    \r\n    // Create UI if needed\r\n    if (this.options.showPanel) {\r\n      this.createUI();\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Load a playlist\r\n   * @param {Array} tracks - Array of track objects\r\n   */\r\n  loadPlaylist(tracks) {\r\n    this.tracks = tracks;\r\n    this.currentIndex = -1;\r\n    \r\n    // Add playlist class to container\r\n    if (this.container) {\r\n      this.container.classList.add('vidply-has-playlist');\r\n    }\r\n    \r\n    // Update UI\r\n    if (this.playlistPanel) {\r\n      this.renderPlaylist();\r\n    }\r\n    \r\n    // Auto-play first track\r\n    if (tracks.length > 0) {\r\n      this.play(0);\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Play a specific track\r\n   * @param {number} index - Track index\r\n   */\r\n  play(index) {\r\n    if (index < 0 || index >= this.tracks.length) {\r\n      console.warn('VidPly Playlist: Invalid track index', index);\r\n      return;\r\n    }\r\n    \r\n    const track = this.tracks[index];\r\n    \r\n    // Update current index\r\n    this.currentIndex = index;\r\n    \r\n    // Load track into player\r\n    this.player.load({\r\n      src: track.src,\r\n      type: track.type,\r\n      poster: track.poster,\r\n      tracks: track.tracks || []\r\n    });\r\n    \r\n    // Update UI\r\n    this.updateTrackInfo(track);\r\n    this.updatePlaylistUI();\r\n    \r\n    // Emit event\r\n    this.player.emit('playlisttrackchange', {\r\n      index: index,\r\n      item: track,\r\n      total: this.tracks.length\r\n    });\r\n    \r\n    // Auto-play\r\n    setTimeout(() => {\r\n      this.player.play();\r\n    }, 100);\r\n  }\r\n  \r\n  /**\r\n   * Play next track\r\n   */\r\n  next() {\r\n    let nextIndex = this.currentIndex + 1;\r\n    \r\n    if (nextIndex >= this.tracks.length) {\r\n      if (this.options.loop) {\r\n        nextIndex = 0;\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n    \r\n    this.play(nextIndex);\r\n  }\r\n  \r\n  /**\r\n   * Play previous track\r\n   */\r\n  previous() {\r\n    let prevIndex = this.currentIndex - 1;\r\n    \r\n    if (prevIndex < 0) {\r\n      if (this.options.loop) {\r\n        prevIndex = this.tracks.length - 1;\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n    \r\n    this.play(prevIndex);\r\n  }\r\n  \r\n  /**\r\n   * Handle track end\r\n   */\r\n  handleTrackEnd() {\r\n    if (this.options.autoAdvance) {\r\n      this.next();\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Handle track error\r\n   */\r\n  handleTrackError(e) {\r\n    console.error('VidPly Playlist: Track error', e);\r\n    \r\n    // Try next track\r\n    if (this.options.autoAdvance) {\r\n      setTimeout(() => {\r\n        this.next();\r\n      }, 1000);\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Create playlist UI\r\n   */\r\n  createUI() {\r\n    // Find player container\r\n    this.container = this.player.container;\r\n    \r\n    if (!this.container) {\r\n      console.warn('VidPly Playlist: No container found');\r\n      return;\r\n    }\r\n    \r\n    // Create track info element (shows current track)\r\n    this.trackInfoElement = DOMUtils.createElement('div', {\r\n      className: 'vidply-track-info'\r\n    });\r\n    this.trackInfoElement.style.display = 'none';\r\n    \r\n    this.container.appendChild(this.trackInfoElement);\r\n    \r\n    // Create playlist panel\r\n    this.playlistPanel = DOMUtils.createElement('div', {\r\n      className: 'vidply-playlist-panel'\r\n    });\r\n    this.playlistPanel.style.display = 'none';\r\n    \r\n    this.container.appendChild(this.playlistPanel);\r\n  }\r\n  \r\n  /**\r\n   * Update track info display\r\n   */\r\n  updateTrackInfo(track) {\r\n    if (!this.trackInfoElement) return;\r\n    \r\n    const trackNumber = this.currentIndex + 1;\r\n    const totalTracks = this.tracks.length;\r\n    \r\n    this.trackInfoElement.innerHTML = `\r\n      <div class=\"vidply-track-number\">Track ${trackNumber} of ${totalTracks}</div>\r\n      <div class=\"vidply-track-title\">${DOMUtils.escapeHTML(track.title || 'Untitled')}</div>\r\n      ${track.artist ? `<div class=\"vidply-track-artist\">${DOMUtils.escapeHTML(track.artist)}</div>` : ''}\r\n    `;\r\n    \r\n    this.trackInfoElement.style.display = 'block';\r\n  }\r\n  \r\n  /**\r\n   * Render playlist\r\n   */\r\n  renderPlaylist() {\r\n    if (!this.playlistPanel) return;\r\n    \r\n    // Clear existing\r\n    this.playlistPanel.innerHTML = '';\r\n    \r\n    // Create header\r\n    const header = DOMUtils.createElement('div', {\r\n      className: 'vidply-playlist-header'\r\n    });\r\n    header.textContent = `Playlist (${this.tracks.length})`;\r\n    this.playlistPanel.appendChild(header);\r\n    \r\n    // Create list\r\n    const list = DOMUtils.createElement('div', {\r\n      className: 'vidply-playlist-list'\r\n    });\r\n    \r\n    this.tracks.forEach((track, index) => {\r\n      const item = this.createPlaylistItem(track, index);\r\n      list.appendChild(item);\r\n    });\r\n    \r\n    this.playlistPanel.appendChild(list);\r\n    this.playlistPanel.style.display = 'block';\r\n  }\r\n  \r\n  /**\r\n   * Create playlist item element\r\n   */\r\n  createPlaylistItem(track, index) {\r\n    const item = DOMUtils.createElement('div', {\r\n      className: 'vidply-playlist-item',\r\n      role: 'button',\r\n      tabIndex: 0,\r\n      'aria-label': `Play ${track.title || 'Track ' + (index + 1)}`\r\n    });\r\n    \r\n    // Add active class if current\r\n    if (index === this.currentIndex) {\r\n      item.classList.add('vidply-playlist-item-active');\r\n    }\r\n    \r\n    // Thumbnail or icon\r\n    const thumbnail = DOMUtils.createElement('div', {\r\n      className: 'vidply-playlist-thumbnail'\r\n    });\r\n    \r\n    if (track.poster) {\r\n      thumbnail.style.backgroundImage = `url(${track.poster})`;\r\n    } else {\r\n      // Show music/speaker icon for audio tracks\r\n      const icon = createIconElement('music');\r\n      icon.classList.add('vidply-playlist-thumbnail-icon');\r\n      thumbnail.appendChild(icon);\r\n    }\r\n    \r\n    item.appendChild(thumbnail);\r\n    \r\n    // Info\r\n    const info = DOMUtils.createElement('div', {\r\n      className: 'vidply-playlist-item-info'\r\n    });\r\n    \r\n    const title = DOMUtils.createElement('div', {\r\n      className: 'vidply-playlist-item-title'\r\n    });\r\n    title.textContent = track.title || `Track ${index + 1}`;\r\n    info.appendChild(title);\r\n    \r\n    if (track.artist) {\r\n      const artist = DOMUtils.createElement('div', {\r\n        className: 'vidply-playlist-item-artist'\r\n      });\r\n      artist.textContent = track.artist;\r\n      info.appendChild(artist);\r\n    }\r\n    \r\n    item.appendChild(info);\r\n    \r\n    // Play icon\r\n    const playIcon = createIconElement('play');\r\n    playIcon.classList.add('vidply-playlist-item-icon');\r\n    item.appendChild(playIcon);\r\n    \r\n    // Click handler\r\n    item.addEventListener('click', () => {\r\n      this.play(index);\r\n    });\r\n    \r\n    // Keyboard handler\r\n    item.addEventListener('keydown', (e) => {\r\n      if (e.key === 'Enter' || e.key === ' ') {\r\n        e.preventDefault();\r\n        this.play(index);\r\n      }\r\n    });\r\n    \r\n    return item;\r\n  }\r\n  \r\n  /**\r\n   * Update playlist UI (highlight current track)\r\n   */\r\n  updatePlaylistUI() {\r\n    if (!this.playlistPanel) return;\r\n    \r\n    const items = this.playlistPanel.querySelectorAll('.vidply-playlist-item');\r\n    \r\n    items.forEach((item, index) => {\r\n      if (index === this.currentIndex) {\r\n        item.classList.add('vidply-playlist-item-active');\r\n        \r\n        // Scroll into view\r\n        item.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\r\n      } else {\r\n        item.classList.remove('vidply-playlist-item-active');\r\n      }\r\n    });\r\n  }\r\n  \r\n  /**\r\n   * Get current track\r\n   */\r\n  getCurrentTrack() {\r\n    return this.tracks[this.currentIndex] || null;\r\n  }\r\n  \r\n  /**\r\n   * Get playlist info\r\n   */\r\n  getPlaylistInfo() {\r\n    return {\r\n      currentIndex: this.currentIndex,\r\n      totalTracks: this.tracks.length,\r\n      currentTrack: this.getCurrentTrack(),\r\n      hasNext: this.currentIndex < this.tracks.length - 1,\r\n      hasPrevious: this.currentIndex > 0\r\n    };\r\n  }\r\n  \r\n  /**\r\n   * Add track to playlist\r\n   */\r\n  addTrack(track) {\r\n    this.tracks.push(track);\r\n    \r\n    if (this.playlistPanel) {\r\n      this.renderPlaylist();\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Remove track from playlist\r\n   */\r\n  removeTrack(index) {\r\n    if (index < 0 || index >= this.tracks.length) return;\r\n    \r\n    this.tracks.splice(index, 1);\r\n    \r\n    // Adjust current index if needed\r\n    if (index < this.currentIndex) {\r\n      this.currentIndex--;\r\n    } else if (index === this.currentIndex) {\r\n      // Current track was removed, play next or stop\r\n      if (this.currentIndex >= this.tracks.length) {\r\n        this.currentIndex = this.tracks.length - 1;\r\n      }\r\n      \r\n      if (this.currentIndex >= 0) {\r\n        this.play(this.currentIndex);\r\n      }\r\n    }\r\n    \r\n    if (this.playlistPanel) {\r\n      this.renderPlaylist();\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Clear playlist\r\n   */\r\n  clear() {\r\n    this.tracks = [];\r\n    this.currentIndex = -1;\r\n    \r\n    if (this.playlistPanel) {\r\n      this.playlistPanel.innerHTML = '';\r\n      this.playlistPanel.style.display = 'none';\r\n    }\r\n    \r\n    if (this.trackInfoElement) {\r\n      this.trackInfoElement.innerHTML = '';\r\n      this.trackInfoElement.style.display = 'none';\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Destroy playlist manager\r\n   */\r\n  destroy() {\r\n    // Remove event listeners\r\n    this.player.off('ended', this.handleTrackEnd);\r\n    this.player.off('error', this.handleTrackError);\r\n    \r\n    // Remove UI\r\n    if (this.trackInfoElement) {\r\n      this.trackInfoElement.remove();\r\n    }\r\n    \r\n    if (this.playlistPanel) {\r\n      this.playlistPanel.remove();\r\n    }\r\n    \r\n    // Clear data\r\n    this.clear();\r\n  }\r\n}\r\n\r\nexport default PlaylistManager;\r\n"],
  "mappings": "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",
  "names": ["translations", "HTML5Renderer"]
}
