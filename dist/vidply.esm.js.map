{
  "version": 3,
  "sources": ["../src/renderers/HTML5Renderer.js", "../src/utils/EventEmitter.js", "../src/utils/DOMUtils.js", "../src/utils/TimeUtils.js", "../src/icons/Icons.js", "../src/i18n/translations.js", "../src/i18n/i18n.js", "../src/controls/ControlBar.js", "../src/controls/CaptionManager.js", "../src/controls/KeyboardManager.js", "../src/controls/SettingsDialog.js", "../src/controls/TranscriptManager.js", "../src/core/Player.js", "../src/renderers/YouTubeRenderer.js", "../src/renderers/VimeoRenderer.js", "../src/renderers/HLSRenderer.js", "../src/features/PlaylistManager.js", "../src/index.js"],
  "sourcesContent": ["/**\n * HTML5 Media Renderer\n */\n\nexport class HTML5Renderer {\n  constructor(player) {\n    this.player = player;\n    this.media = player.element;\n  }\n\n  async init() {\n    this.attachEvents();\n    \n    // Set preload\n    this.media.preload = this.player.options.preload;\n    \n    // Load media\n    this.media.load();\n  }\n\n  attachEvents() {\n    // Playback events\n    this.media.addEventListener('loadedmetadata', () => {\n      this.player.state.duration = this.media.duration;\n      this.player.emit('loadedmetadata');\n    });\n\n    this.media.addEventListener('play', () => {\n      this.player.state.playing = true;\n      this.player.state.paused = false;\n      this.player.state.ended = false;\n      this.player.emit('play');\n      \n      if (this.player.options.onPlay) {\n        this.player.options.onPlay.call(this.player);\n      }\n      \n      // Pause other players if enabled\n      if (this.player.options.pauseOthersOnPlay) {\n        this.pauseOtherPlayers();\n      }\n    });\n\n    this.media.addEventListener('pause', () => {\n      this.player.state.playing = false;\n      this.player.state.paused = true;\n      this.player.emit('pause');\n      \n      if (this.player.options.onPause) {\n        this.player.options.onPause.call(this.player);\n      }\n    });\n\n    this.media.addEventListener('ended', () => {\n      this.player.state.playing = false;\n      this.player.state.paused = true;\n      this.player.state.ended = true;\n      this.player.emit('ended');\n      \n      if (this.player.options.onEnded) {\n        this.player.options.onEnded.call(this.player);\n      }\n      \n      // Handle loop\n      if (this.player.options.loop) {\n        this.player.seek(0);\n        this.player.play();\n      }\n    });\n\n    this.media.addEventListener('timeupdate', () => {\n      this.player.state.currentTime = this.media.currentTime;\n      this.player.emit('timeupdate', this.media.currentTime);\n      \n      if (this.player.options.onTimeUpdate) {\n        this.player.options.onTimeUpdate.call(this.player, this.media.currentTime);\n      }\n    });\n\n    this.media.addEventListener('volumechange', () => {\n      this.player.state.volume = this.media.volume;\n      this.player.state.muted = this.media.muted;\n      this.player.emit('volumechange', this.media.volume);\n      \n      if (this.player.options.onVolumeChange) {\n        this.player.options.onVolumeChange.call(this.player, this.media.volume);\n      }\n    });\n\n    this.media.addEventListener('seeking', () => {\n      this.player.state.seeking = true;\n      this.player.emit('seeking');\n    });\n\n    this.media.addEventListener('seeked', () => {\n      this.player.state.seeking = false;\n      this.player.emit('seeked');\n    });\n\n    this.media.addEventListener('waiting', () => {\n      this.player.state.buffering = true;\n      this.player.emit('waiting');\n    });\n\n    this.media.addEventListener('canplay', () => {\n      this.player.state.buffering = false;\n      this.player.emit('canplay');\n    });\n\n    this.media.addEventListener('progress', () => {\n      if (this.media.buffered.length > 0) {\n        const buffered = this.media.buffered.end(this.media.buffered.length - 1);\n        this.player.emit('progress', buffered);\n      }\n    });\n\n    this.media.addEventListener('error', (e) => {\n      this.player.handleError(this.media.error);\n    });\n\n    this.media.addEventListener('ratechange', () => {\n      this.player.state.playbackSpeed = this.media.playbackRate;\n      this.player.emit('ratechange', this.media.playbackRate);\n    });\n  }\n\n  pauseOtherPlayers() {\n    // Pause other VidPly instances\n    const allPlayers = document.querySelectorAll('.vidply-player');\n    allPlayers.forEach(playerEl => {\n      if (playerEl !== this.player.container) {\n        const video = playerEl.querySelector('video, audio');\n        if (video && !video.paused) {\n          video.pause();\n        }\n      }\n    });\n  }\n\n  play() {\n    const promise = this.media.play();\n    \n    if (promise !== undefined) {\n      promise.catch(error => {\n        this.player.log('Play failed:', error, 'warn');\n        \n        // If autoplay failed, try muted autoplay\n        if (this.player.options.autoplay && !this.player.state.muted) {\n          this.player.log('Retrying play with muted audio', 'info');\n          this.media.muted = true;\n          this.media.play().catch(err => {\n            this.player.handleError(err);\n          });\n        }\n      });\n    }\n  }\n\n  pause() {\n    this.media.pause();\n  }\n\n  seek(time) {\n    this.media.currentTime = time;\n  }\n\n  setVolume(volume) {\n    this.media.volume = volume;\n  }\n\n  setMuted(muted) {\n    this.media.muted = muted;\n  }\n\n  setPlaybackSpeed(speed) {\n    this.media.playbackRate = speed;\n  }\n\n  destroy() {\n    // Remove event listeners\n    this.media.removeEventListener('loadedmetadata', () => {});\n    this.media.removeEventListener('play', () => {});\n    this.media.removeEventListener('pause', () => {});\n    // ... (other listeners would be removed in a real implementation)\n  }\n}\n\n", "/**\r\n * Simple EventEmitter implementation\r\n */\r\n\r\nexport class EventEmitter {\r\n  constructor() {\r\n    this.events = {};\r\n  }\r\n\r\n  on(event, listener) {\r\n    if (!this.events[event]) {\r\n      this.events[event] = [];\r\n    }\r\n    this.events[event].push(listener);\r\n    return this;\r\n  }\r\n\r\n  once(event, listener) {\r\n    const onceListener = (...args) => {\r\n      listener(...args);\r\n      this.off(event, onceListener);\r\n    };\r\n    return this.on(event, onceListener);\r\n  }\r\n\r\n  off(event, listener) {\r\n    if (!this.events[event]) return this;\r\n    \r\n    if (!listener) {\r\n      delete this.events[event];\r\n    } else {\r\n      this.events[event] = this.events[event].filter(l => l !== listener);\r\n    }\r\n    \r\n    return this;\r\n  }\r\n\r\n  emit(event, ...args) {\r\n    if (!this.events[event]) return this;\r\n    \r\n    this.events[event].forEach(listener => {\r\n      listener(...args);\r\n    });\r\n    \r\n    return this;\r\n  }\r\n\r\n  removeAllListeners() {\r\n    this.events = {};\r\n    return this;\r\n  }\r\n}\r\n\r\n", "/**\r\n * DOM manipulation utilities\r\n */\r\n\r\nexport const DOMUtils = {\r\n  createElement(tag, options = {}) {\r\n    const element = document.createElement(tag);\r\n    \r\n    if (options.className) {\r\n      element.className = options.className;\r\n    }\r\n    \r\n    if (options.attributes) {\r\n      Object.entries(options.attributes).forEach(([key, value]) => {\r\n        element.setAttribute(key, value);\r\n      });\r\n    }\r\n    \r\n    if (options.innerHTML) {\r\n      element.innerHTML = options.innerHTML;\r\n    }\r\n    \r\n    if (options.textContent) {\r\n      element.textContent = options.textContent;\r\n    }\r\n    \r\n    if (options.style) {\r\n      Object.assign(element.style, options.style);\r\n    }\r\n    \r\n    if (options.children) {\r\n      options.children.forEach(child => {\r\n        if (child) element.appendChild(child);\r\n      });\r\n    }\r\n    \r\n    return element;\r\n  },\r\n\r\n  addClass(element, className) {\r\n    if (element && className) {\r\n      element.classList.add(className);\r\n    }\r\n  },\r\n\r\n  removeClass(element, className) {\r\n    if (element && className) {\r\n      element.classList.remove(className);\r\n    }\r\n  },\r\n\r\n  toggleClass(element, className) {\r\n    if (element && className) {\r\n      element.classList.toggle(className);\r\n    }\r\n  },\r\n\r\n  hasClass(element, className) {\r\n    return element && element.classList.contains(className);\r\n  },\r\n\r\n  show(element) {\r\n    if (element) {\r\n      element.style.display = '';\r\n    }\r\n  },\r\n\r\n  hide(element) {\r\n    if (element) {\r\n      element.style.display = 'none';\r\n    }\r\n  },\r\n\r\n  fadeIn(element, duration = 300) {\r\n    if (!element) return;\r\n    \r\n    element.style.opacity = '0';\r\n    element.style.display = '';\r\n    \r\n    let start = null;\r\n    const animate = (timestamp) => {\r\n      if (!start) start = timestamp;\r\n      const progress = timestamp - start;\r\n      const opacity = Math.min(progress / duration, 1);\r\n      \r\n      element.style.opacity = opacity;\r\n      \r\n      if (progress < duration) {\r\n        requestAnimationFrame(animate);\r\n      }\r\n    };\r\n    \r\n    requestAnimationFrame(animate);\r\n  },\r\n\r\n  fadeOut(element, duration = 300) {\r\n    if (!element) return;\r\n    \r\n    const startOpacity = parseFloat(getComputedStyle(element).opacity) || 1;\r\n    let start = null;\r\n    \r\n    const animate = (timestamp) => {\r\n      if (!start) start = timestamp;\r\n      const progress = timestamp - start;\r\n      const opacity = Math.max(startOpacity - (progress / duration), 0);\r\n      \r\n      element.style.opacity = opacity;\r\n      \r\n      if (progress < duration) {\r\n        requestAnimationFrame(animate);\r\n      } else {\r\n        element.style.display = 'none';\r\n      }\r\n    };\r\n    \r\n    requestAnimationFrame(animate);\r\n  },\r\n\r\n  offset(element) {\r\n    if (!element) return { top: 0, left: 0 };\r\n    \r\n    const rect = element.getBoundingClientRect();\r\n    return {\r\n      top: rect.top + window.pageYOffset,\r\n      left: rect.left + window.pageXOffset,\r\n      width: rect.width,\r\n      height: rect.height\r\n    };\r\n  },\r\n\r\n  escapeHTML(str) {\r\n    const div = document.createElement('div');\r\n    div.textContent = str;\r\n    return div.innerHTML;\r\n  },\r\n\r\n  sanitizeHTML(html) {\r\n    // Basic HTML sanitization - allow safe tags for VTT captions\r\n    // Since we control the HTML (from VTT parsing), we can safely allow these tags\r\n    const temp = document.createElement('div');\r\n    \r\n    // Strip out any potentially dangerous tags/attributes\r\n    // Allow: strong, em, u, span, b, i with class and data-voice attributes\r\n    const safeHtml = html\r\n      .replace(/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi, '')\r\n      .replace(/<iframe\\b[^<]*(?:(?!<\\/iframe>)<[^<]*)*<\\/iframe>/gi, '')\r\n      .replace(/on\\w+\\s*=/gi, '') // Remove event handlers\r\n      .replace(/javascript:/gi, ''); // Remove javascript: protocol\r\n    \r\n    temp.innerHTML = safeHtml;\r\n    return temp.innerHTML;\r\n  }\r\n};\r\n\r\n", "/**\r\n * Time formatting and conversion utilities\r\n */\r\n\r\nexport const TimeUtils = {\r\n  /**\r\n   * Format seconds to time string (HH:MM:SS or MM:SS)\r\n   */\r\n  formatTime(seconds, alwaysShowHours = false) {\r\n    if (!isFinite(seconds) || seconds < 0) {\r\n      return alwaysShowHours ? '00:00:00' : '00:00';\r\n    }\r\n    \r\n    const hours = Math.floor(seconds / 3600);\r\n    const minutes = Math.floor((seconds % 3600) / 60);\r\n    const secs = Math.floor(seconds % 60);\r\n    \r\n    const pad = (num) => String(num).padStart(2, '0');\r\n    \r\n    if (hours > 0 || alwaysShowHours) {\r\n      return `${pad(hours)}:${pad(minutes)}:${pad(secs)}`;\r\n    }\r\n    \r\n    return `${pad(minutes)}:${pad(secs)}`;\r\n  },\r\n\r\n  /**\r\n   * Parse time string to seconds\r\n   */\r\n  parseTime(timeString) {\r\n    const parts = timeString.split(':').map(p => parseInt(p, 10));\r\n    \r\n    if (parts.length === 3) {\r\n      // HH:MM:SS\r\n      return parts[0] * 3600 + parts[1] * 60 + parts[2];\r\n    } else if (parts.length === 2) {\r\n      // MM:SS\r\n      return parts[0] * 60 + parts[1];\r\n    } else if (parts.length === 1) {\r\n      // SS\r\n      return parts[0];\r\n    }\r\n    \r\n    return 0;\r\n  },\r\n\r\n  /**\r\n   * Format seconds to readable duration\r\n   */\r\n  formatDuration(seconds) {\r\n    if (!isFinite(seconds) || seconds < 0) {\r\n      return '0 seconds';\r\n    }\r\n    \r\n    const hours = Math.floor(seconds / 3600);\r\n    const minutes = Math.floor((seconds % 3600) / 60);\r\n    const secs = Math.floor(seconds % 60);\r\n    \r\n    const parts = [];\r\n    \r\n    if (hours > 0) {\r\n      parts.push(`${hours} hour${hours !== 1 ? 's' : ''}`);\r\n    }\r\n    if (minutes > 0) {\r\n      parts.push(`${minutes} minute${minutes !== 1 ? 's' : ''}`);\r\n    }\r\n    if (secs > 0 || parts.length === 0) {\r\n      parts.push(`${secs} second${secs !== 1 ? 's' : ''}`);\r\n    }\r\n    \r\n    return parts.join(', ');\r\n  },\r\n\r\n  /**\r\n   * Format percentage\r\n   */\r\n  formatPercentage(value, total) {\r\n    if (total === 0) return 0;\r\n    return Math.round((value / total) * 100);\r\n  }\r\n};\r\n\r\n", "/**\r\n * SVG Icon Library for VidPly\r\n */\r\n\r\nexport const Icons = {\r\n    play: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M8 5v14l11-7z\"/>\r\n  </svg>`,\r\n\r\n    pause: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M6 4h4v16H6V4zm8 0h4v16h-4V4z\"/>\r\n  </svg>`,\r\n\r\n    stop: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <rect x=\"6\" y=\"6\" width=\"12\" height=\"12\"/>\r\n  </svg>`,\r\n\r\n    rewind: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z\"/>\r\n  </svg>`,\r\n\r\n    forward: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z\"/>\r\n  </svg>`,\r\n\r\n    skipPrevious: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M6 6h2v12H6V6zm3 6l8.5 6V6L9 12z\"/>\r\n  </svg>`,\r\n\r\n    skipNext: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M16 6h2v12h-2V6zM6 6l8.5 6L6 18V6z\"/>\r\n  </svg>`,\r\n\r\n    restart: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z\"/>\r\n  </svg>`,\r\n\r\n    volumeHigh: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z\"/>\r\n  </svg>`,\r\n\r\n    volumeMedium: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02z\"/>\r\n  </svg>`,\r\n\r\n    volumeLow: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M7 9v6h4l5 5V4l-5 5H7z\"/>\r\n  </svg>`,\r\n\r\n    volumeMuted: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z\"/>\r\n  </svg>`,\r\n\r\n    fullscreen: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"/>\r\n  </svg>`,\r\n\r\n    fullscreenExit: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\"/>\r\n  </svg>`,\r\n\r\n    settings: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94L14.4 2.81c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z\"/>\r\n  </svg>`,\r\n\r\n    captions: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 7H9.5v-.5h-2v3h2V13H11v1c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1zm7 0h-1.5v-.5h-2v3h2V13H18v1c0 .55-.45 1-1 1h-3c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1z\"/>\r\n  </svg>`,\r\n\r\n    captionsOff: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 7H9.5v-.5h-2v3h2V13H11v1c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1zm7 0h-1.5v-.5h-2v3h2V13H18v1c0 .55-.45 1-1 1h-3c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1z\"/>\r\n    <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n  </svg>`,\r\n\r\n    pip: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M19 7h-8v6h8V7zm2-4H3c-1.1 0-2 .9-2 2v14c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98V5c0-1.1-.9-2-2-2zm0 16.01H3V4.98h18v14.03z\"/>\r\n  </svg>`,\r\n\r\n    speed: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M20.38 8.57l-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44z\"/>\r\n    <path d=\"M10.59 15.41a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83z\"/>\r\n  </svg>`,\r\n\r\n    close: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\r\n  </svg>`,\r\n\r\n    check: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"/>\r\n  </svg>`,\r\n\r\n    arrowUp: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M7 14l5-5 5 5z\"/>\r\n  </svg>`,\r\n\r\n    arrowDown: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M7 10l5 5 5-5z\"/>\r\n  </svg>`,\r\n\r\n    arrowLeft: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"/>\r\n  </svg>`,\r\n\r\n    arrowRight: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"/>\r\n  </svg>`,\r\n\r\n    loading: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z\"/>\r\n  </svg>`,\r\n\r\n    error: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"/>\r\n  </svg>`,\r\n\r\n    download: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z\"/>\r\n  </svg>`,\r\n\r\n    link: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z\"/>\r\n  </svg>`,\r\n\r\n    playlist: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M15 6H3v2h12V6zm0 4H3v2h12v-2zM3 16h8v-2H3v2zM17 6v8.18c-.31-.11-.65-.18-1-.18-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3V8h3V6h-5z\"/>\r\n  </svg>`,\r\n\r\n    language: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z\"/>\r\n  </svg>`,\r\n\r\n    hd: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm7-1c0 .55-.45 1-1 1h-.75v1.5h-1.5V15H14c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v4zm-3.5-.5h2v-3h-2v3z\"/>\r\n  </svg>`,\r\n\r\n    transcript: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z\"/>\r\n  </svg>`,\r\n\r\n    audioDescription: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M12 3v9.28c-.47-.17-.97-.28-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3h-7z\"/>\r\n    <path d=\"M10.5 19c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\"/>\r\n  </svg>`,\r\n\r\n    audioDescriptionOn: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M12 3v9.28c-.47-.17-.97-.28-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3h-7z\"/>\r\n    <path d=\"M10.5 19c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\"/>\r\n    <circle cx=\"19\" cy=\"16\" r=\"3\" fill=\"#3b82f6\"/>\r\n    <path d=\"M18.5 17.5l1-1 1.5 1.5\" stroke=\"white\" stroke-width=\"1.5\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n  </svg>`,\r\n\r\n    signLanguage: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M12 2C10.34 2 9 3.34 9 5v4c0 .34.07.66.18.96L7.5 8.29C7.19 8.1 6.85 8 6.5 8 5.12 8 4 9.12 4 10.5v3c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-3c0-.28.22-.5.5-.5s.5.22.5.5V14l2 2v-1c0-.55.45-1 1-1s1 .45 1 1v2c0 .55.45 1 1 1s1-.45 1-1V9c0-.55.45-1 1-1s1 .45 1 1v8c0 2.21-1.79 4-4 4s-4-1.79-4-4v-2.83l-2.93-2.93A3.93 3.93 0 0 1 4 8c0-1.66 1.34-3 3-3 .83 0 1.58.34 2.12.88L11 7.76V5c0-.55.45-1 1-1s1 .45 1 1v4c0 .55.45 1 1 1s1-.45 1-1V5c0-1.66-1.34-3-3-3z\"/>\r\n  </svg>`,\r\n\r\n    signLanguageOn: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M12 2C10.34 2 9 3.34 9 5v4c0 .34.07.66.18.96L7.5 8.29C7.19 8.1 6.85 8 6.5 8 5.12 8 4 9.12 4 10.5v3c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5v-3c0-.28.22-.5.5-.5s.5.22.5.5V14l2 2v-1c0-.55.45-1 1-1s1 .45 1 1v2c0 .55.45 1 1 1s1-.45 1-1V9c0-.55.45-1 1-1s1 .45 1 1v8c0 2.21-1.79 4-4 4s-4-1.79-4-4v-2.83l-2.93-2.93A3.93 3.93 0 0 1 4 8c0-1.66 1.34-3 3-3 .83 0 1.58.34 2.12.88L11 7.76V5c0-.55.45-1 1-1s1 .45 1 1v4c0 .55.45 1 1 1s1-.45 1-1V5c0-1.66-1.34-3-3-3z\"/>\r\n    <circle cx=\"19\" cy=\"16\" r=\"3\" fill=\"#3b82f6\"/>\r\n    <path d=\"M18.5 17.5l1-1 1.5 1.5\" stroke=\"white\" stroke-width=\"1.5\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n  </svg>`,\r\n\r\n    speaker: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02z\"/>\r\n  </svg>`,\r\n\r\n    music: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M12 3v9.28c-.47-.17-.97-.28-1.5-.28C8.01 12 6 14.01 6 16.5S8.01 21 10.5 21c2.31 0 4.2-1.75 4.45-4H15V6h4V3h-7zm-1.5 16c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\"/>\r\n  </svg>`,\r\n\r\n    moreVertical: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"/>\r\n  </svg>`,\r\n\r\n    moreHorizontal: `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"/>\r\n  </svg>`\r\n};\r\n\r\nexport function getIcon(name) {\r\n    return Icons[name] || Icons.play;\r\n}\r\n\r\nexport function createIconElement(name, className = '') {\r\n    const wrapper = document.createElement('span');\r\n    wrapper.className = `vidply-icon ${className}`.trim();\r\n    wrapper.innerHTML = getIcon(name);\r\n    wrapper.setAttribute('aria-hidden', 'true');\r\n    return wrapper;\r\n}\r\n\r\n", "/**\r\n * Translation strings for VidPly\r\n */\r\n\r\nexport const translations = {\r\n  en: {\r\n    player: {\r\n      label: 'Video Player',\r\n      play: 'Play',\r\n      pause: 'Pause',\r\n      stop: 'Stop',\r\n      rewind: 'Rewind',\r\n      forward: 'Forward',\r\n      volume: 'Volume',\r\n      mute: 'Mute',\r\n      unmute: 'Unmute',\r\n      fullscreen: 'Fullscreen',\r\n      exitFullscreen: 'Exit Fullscreen',\r\n      captions: 'Captions',\r\n      settings: 'Settings',\r\n      speed: 'Playback Speed',\r\n      pip: 'Picture in Picture',\r\n      currentTime: 'Current time',\r\n      duration: 'Duration',\r\n      progress: 'Progress',\r\n      seekForward: 'Seek forward {seconds} seconds',\r\n      seekBackward: 'Seek backward {seconds} seconds',\r\n      volumeUp: 'Volume up',\r\n      volumeDown: 'Volume down',\r\n      loading: 'Loading...',\r\n      error: 'Error loading media',\r\n      buffering: 'Buffering...',\r\n      signLanguageVideo: 'Sign Language Video'\r\n    },\r\n    captions: {\r\n      off: 'Off',\r\n      select: 'Select captions',\r\n      fontSize: 'Font Size',\r\n      fontFamily: 'Font Family',\r\n      color: 'Text Color',\r\n      backgroundColor: 'Background Color',\r\n      opacity: 'Opacity'\r\n    },\r\n    settings: {\r\n      title: 'Settings',\r\n      quality: 'Quality',\r\n      speed: 'Speed',\r\n      captions: 'Captions',\r\n      language: 'Language',\r\n      reset: 'Reset to defaults',\r\n      close: 'Close'\r\n    },\r\n    speeds: {\r\n      '0.25': '0.25x',\r\n      '0.5': '0.5x',\r\n      '0.75': '0.75x',\r\n      '1': 'Normal',\r\n      '1.25': '1.25x',\r\n      '1.5': '1.5x',\r\n      '1.75': '1.75x',\r\n      '2': '2x'\r\n    }\r\n  },\r\n  \r\n  de: {\r\n    player: {\r\n      label: 'Videoplayer',\r\n      play: 'Abspielen',\r\n      pause: 'Pause',\r\n      stop: 'Stopp',\r\n      rewind: 'Zur\u00FCckspulen',\r\n      forward: 'Vorspulen',\r\n      volume: 'Lautst\u00E4rke',\r\n      mute: 'Stumm',\r\n      unmute: 'Ton ein',\r\n      fullscreen: 'Vollbild',\r\n      exitFullscreen: 'Vollbild beenden',\r\n      captions: 'Untertitel',\r\n      settings: 'Einstellungen',\r\n      speed: 'Wiedergabegeschwindigkeit',\r\n      pip: 'Bild-in-Bild',\r\n      currentTime: 'Aktuelle Zeit',\r\n      duration: 'Dauer',\r\n      progress: 'Fortschritt',\r\n      loading: 'L\u00E4dt...',\r\n      error: 'Fehler beim Laden',\r\n      buffering: 'Puffern...',\r\n      signLanguageVideo: 'Geb\u00E4rdensprache-Video'\r\n    },\r\n    captions: {\r\n      off: 'Aus',\r\n      select: 'Untertitel ausw\u00E4hlen',\r\n      fontSize: 'Schriftgr\u00F6\u00DFe',\r\n      fontFamily: 'Schriftart',\r\n      color: 'Textfarbe',\r\n      backgroundColor: 'Hintergrundfarbe',\r\n      opacity: 'Deckkraft'\r\n    },\r\n    settings: {\r\n      title: 'Einstellungen',\r\n      quality: 'Qualit\u00E4t',\r\n      speed: 'Geschwindigkeit',\r\n      captions: 'Untertitel',\r\n      language: 'Sprache',\r\n      reset: 'Zur\u00FCcksetzen',\r\n      close: 'Schlie\u00DFen'\r\n    }\r\n  },\r\n\r\n  es: {\r\n    player: {\r\n      label: 'Reproductor de video',\r\n      play: 'Reproducir',\r\n      pause: 'Pausa',\r\n      stop: 'Detener',\r\n      rewind: 'Retroceder',\r\n      forward: 'Avanzar',\r\n      volume: 'Volumen',\r\n      mute: 'Silenciar',\r\n      unmute: 'Activar sonido',\r\n      fullscreen: 'Pantalla completa',\r\n      exitFullscreen: 'Salir de pantalla completa',\r\n      captions: 'Subt\u00EDtulos',\r\n      settings: 'Configuraci\u00F3n',\r\n      speed: 'Velocidad de reproducci\u00F3n',\r\n      pip: 'Imagen en imagen',\r\n      currentTime: 'Tiempo actual',\r\n      duration: 'Duraci\u00F3n',\r\n      progress: 'Progreso',\r\n      loading: 'Cargando...',\r\n      error: 'Error al cargar',\r\n      buffering: 'Almacenando en b\u00FAfer...',\r\n      signLanguageVideo: 'Video en Lengua de Se\u00F1as'\r\n    },\r\n    captions: {\r\n      off: 'Desactivado',\r\n      select: 'Seleccionar subt\u00EDtulos',\r\n      fontSize: 'Tama\u00F1o de fuente',\r\n      fontFamily: 'Familia de fuente',\r\n      color: 'Color de texto',\r\n      backgroundColor: 'Color de fondo',\r\n      opacity: 'Opacidad'\r\n    },\r\n    settings: {\r\n      title: 'Configuraci\u00F3n',\r\n      quality: 'Calidad',\r\n      speed: 'Velocidad',\r\n      captions: 'Subt\u00EDtulos',\r\n      language: 'Idioma',\r\n      reset: 'Restablecer',\r\n      close: 'Cerrar'\r\n    }\r\n  },\r\n\r\n  fr: {\r\n    player: {\r\n      label: 'Lecteur vid\u00E9o',\r\n      play: 'Lecture',\r\n      pause: 'Pause',\r\n      stop: 'Arr\u00EAt',\r\n      rewind: 'Reculer',\r\n      forward: 'Avancer',\r\n      volume: 'Volume',\r\n      mute: 'Muet',\r\n      unmute: 'Activer le son',\r\n      fullscreen: 'Plein \u00E9cran',\r\n      exitFullscreen: 'Quitter le plein \u00E9cran',\r\n      captions: 'Sous-titres',\r\n      settings: 'Param\u00E8tres',\r\n      speed: 'Vitesse de lecture',\r\n      pip: 'Image dans l\\'image',\r\n      currentTime: 'Temps actuel',\r\n      duration: 'Dur\u00E9e',\r\n      progress: 'Progression',\r\n      loading: 'Chargement...',\r\n      error: 'Erreur de chargement',\r\n      buffering: 'Mise en m\u00E9moire tampon...',\r\n      signLanguageVideo: 'Vid\u00E9o en Langue des Signes'\r\n    },\r\n    captions: {\r\n      off: 'D\u00E9sactiv\u00E9',\r\n      select: 'S\u00E9lectionner les sous-titres',\r\n      fontSize: 'Taille de police',\r\n      fontFamily: 'Police',\r\n      color: 'Couleur du texte',\r\n      backgroundColor: 'Couleur de fond',\r\n      opacity: 'Opacit\u00E9'\r\n    },\r\n    settings: {\r\n      title: 'Param\u00E8tres',\r\n      quality: 'Qualit\u00E9',\r\n      speed: 'Vitesse',\r\n      captions: 'Sous-titres',\r\n      language: 'Langue',\r\n      reset: 'R\u00E9initialiser',\r\n      close: 'Fermer'\r\n    }\r\n  },\r\n\r\n  ja: {\r\n    player: {\r\n      label: '\u30D3\u30C7\u30AA\u30D7\u30EC\u30FC\u30E4\u30FC',\r\n      play: '\u518D\u751F',\r\n      pause: '\u4E00\u6642\u505C\u6B62',\r\n      stop: '\u505C\u6B62',\r\n      rewind: '\u5DFB\u304D\u623B\u3057',\r\n      forward: '\u65E9\u9001\u308A',\r\n      volume: '\u97F3\u91CF',\r\n      mute: '\u30DF\u30E5\u30FC\u30C8',\r\n      unmute: '\u30DF\u30E5\u30FC\u30C8\u89E3\u9664',\r\n      fullscreen: '\u5168\u753B\u9762\u8868\u793A',\r\n      exitFullscreen: '\u5168\u753B\u9762\u8868\u793A\u3092\u7D42\u4E86',\r\n      captions: '\u5B57\u5E55',\r\n      settings: '\u8A2D\u5B9A',\r\n      speed: '\u518D\u751F\u901F\u5EA6',\r\n      pip: '\u30D4\u30AF\u30C1\u30E3\u30FC\u30A4\u30F3\u30D4\u30AF\u30C1\u30E3\u30FC',\r\n      currentTime: '\u73FE\u5728\u306E\u6642\u9593',\r\n      duration: '\u518D\u751F\u6642\u9593',\r\n      progress: '\u9032\u884C\u72B6\u6CC1',\r\n      loading: '\u8AAD\u307F\u8FBC\u307F\u4E2D...',\r\n      error: '\u8AAD\u307F\u8FBC\u307F\u30A8\u30E9\u30FC',\r\n      buffering: '\u30D0\u30C3\u30D5\u30A1\u30EA\u30F3\u30B0\u4E2D...',\r\n      signLanguageVideo: '\u624B\u8A71\u52D5\u753B'\r\n    },\r\n    captions: {\r\n      off: '\u30AA\u30D5',\r\n      select: '\u5B57\u5E55\u3092\u9078\u629E',\r\n      fontSize: '\u30D5\u30A9\u30F3\u30C8\u30B5\u30A4\u30BA',\r\n      fontFamily: '\u30D5\u30A9\u30F3\u30C8',\r\n      color: '\u30C6\u30AD\u30B9\u30C8\u306E\u8272',\r\n      backgroundColor: '\u80CC\u666F\u8272',\r\n      opacity: '\u4E0D\u900F\u660E\u5EA6'\r\n    },\r\n    settings: {\r\n      title: '\u8A2D\u5B9A',\r\n      quality: '\u753B\u8CEA',\r\n      speed: '\u901F\u5EA6',\r\n      captions: '\u5B57\u5E55',\r\n      language: '\u8A00\u8A9E',\r\n      reset: '\u30EA\u30BB\u30C3\u30C8',\r\n      close: '\u9589\u3058\u308B'\r\n    }\r\n  }\r\n};\r\n\r\n", "/**\r\n * Internationalization system\r\n */\r\n\r\nimport { translations } from './translations.js';\r\n\r\nclass I18n {\r\n  constructor() {\r\n    this.currentLanguage = 'en';\r\n    this.translations = translations;\r\n  }\r\n\r\n  setLanguage(lang) {\r\n    if (this.translations[lang]) {\r\n      this.currentLanguage = lang;\r\n    } else {\r\n      console.warn(`Language \"${lang}\" not found, falling back to English`);\r\n      this.currentLanguage = 'en';\r\n    }\r\n  }\r\n\r\n  getLanguage() {\r\n    return this.currentLanguage;\r\n  }\r\n\r\n  t(key, replacements = {}) {\r\n    const keys = key.split('.');\r\n    let value = this.translations[this.currentLanguage];\r\n    \r\n    for (const k of keys) {\r\n      if (value && typeof value === 'object' && k in value) {\r\n        value = value[k];\r\n      } else {\r\n        // Fallback to English\r\n        value = this.translations.en;\r\n        for (const fallbackKey of keys) {\r\n          if (value && typeof value === 'object' && fallbackKey in value) {\r\n            value = value[fallbackKey];\r\n          } else {\r\n            return key; // Return key if not found\r\n          }\r\n        }\r\n        break;\r\n      }\r\n    }\r\n    \r\n    // Replace placeholders\r\n    if (typeof value === 'string') {\r\n      Object.entries(replacements).forEach(([placeholder, replacement]) => {\r\n        value = value.replace(new RegExp(`{${placeholder}}`, 'g'), replacement);\r\n      });\r\n    }\r\n    \r\n    return value;\r\n  }\r\n\r\n  addTranslation(lang, translations) {\r\n    if (!this.translations[lang]) {\r\n      this.translations[lang] = {};\r\n    }\r\n    Object.assign(this.translations[lang], translations);\r\n  }\r\n}\r\n\r\nexport const i18n = new I18n();\r\n\r\n", "/**\r\n * Control Bar Component\r\n */\r\n\r\nimport {DOMUtils} from '../utils/DOMUtils.js';\r\nimport {TimeUtils} from '../utils/TimeUtils.js';\r\nimport {createIconElement} from '../icons/Icons.js';\r\nimport {i18n} from '../i18n/i18n.js';\r\n\r\nexport class ControlBar {\r\n    constructor(player) {\r\n        this.player = player;\r\n        this.element = null;\r\n        this.controls = {};\r\n        this.hideTimeout = null;\r\n        this.isDraggingProgress = false;\r\n        this.isDraggingVolume = false;\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.createElement();\r\n        this.createControls();\r\n        this.attachEvents();\r\n        this.setupAutoHide();\r\n    }\r\n\r\n    // Helper method to check if we're on a mobile device\r\n    isMobile() {\r\n        return window.innerWidth < 640;\r\n    }\r\n\r\n    // Smart menu positioning to avoid overflow\r\n    positionMenu(menu, button) {\r\n        const isMobile = this.isMobile();\r\n        \r\n        if (isMobile) {\r\n            // Use bottom sheet on mobile - already styled via CSS\r\n            return;\r\n        }\r\n\r\n        // Desktop: Smart positioning\r\n        setTimeout(() => {\r\n            const buttonRect = button.getBoundingClientRect();\r\n            const menuRect = menu.getBoundingClientRect();\r\n            const viewportWidth = window.innerWidth;\r\n            const viewportHeight = window.innerHeight;\r\n            \r\n            const spaceAbove = buttonRect.top;\r\n            const spaceBelow = viewportHeight - buttonRect.bottom;\r\n            \r\n            // Prefer above, but switch to below if not enough space\r\n            if (spaceAbove < menuRect.height + 20 && spaceBelow > spaceAbove) {\r\n                menu.style.bottom = 'auto';\r\n                menu.style.top = 'calc(100% + 8px)';\r\n                menu.classList.add('vidply-menu-below');\r\n            }\r\n            \r\n            // Check horizontal overflow\r\n            const menuLeft = buttonRect.left + buttonRect.width / 2 - menuRect.width / 2;\r\n            if (menuLeft < 10) {\r\n                // Too far left, align to left edge\r\n                menu.style.right = 'auto';\r\n                menu.style.left = '0';\r\n                menu.style.transform = 'translateX(0)';\r\n            } else if (menuLeft + menuRect.width > viewportWidth - 10) {\r\n                // Too far right, align to right edge\r\n                menu.style.left = 'auto';\r\n                menu.style.right = '0';\r\n                menu.style.transform = 'translateX(0)';\r\n            }\r\n        }, 0);\r\n    }\r\n\r\n\r\n    // Helper method to attach close-on-outside-click behavior to menus\r\n    attachMenuCloseHandler(menu, button, preventCloseOnInteraction = false) {\r\n        // Position menu smartly\r\n        this.positionMenu(menu, button);\r\n        \r\n        setTimeout(() => {\r\n            const closeMenu = (e) => {\r\n                // If this menu has form controls, don't close when clicking inside\r\n                if (preventCloseOnInteraction && menu.contains(e.target)) {\r\n                    return;\r\n                }\r\n\r\n                // Check if click is outside menu and button\r\n                if (!menu.contains(e.target) && !button.contains(e.target)) {\r\n                    menu.remove();\r\n                    document.removeEventListener('click', closeMenu);\r\n                    document.removeEventListener('keydown', handleEscape);\r\n                }\r\n            };\r\n\r\n            const handleEscape = (e) => {\r\n                if (e.key === 'Escape') {\r\n                    menu.remove();\r\n                    document.removeEventListener('click', closeMenu);\r\n                    document.removeEventListener('keydown', handleEscape);\r\n                    // Return focus to button\r\n                    button.focus();\r\n                }\r\n            };\r\n\r\n            document.addEventListener('click', closeMenu);\r\n            document.addEventListener('keydown', handleEscape);\r\n        }, 100);\r\n    }\r\n\r\n    createElement() {\r\n        this.element = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-controls`,\r\n            attributes: {\r\n                'role': 'region',\r\n                'aria-label': i18n.t('player.label') + ' controls'\r\n            }\r\n        });\r\n    }\r\n\r\n    createControls() {\r\n        // Progress bar container\r\n        if (this.player.options.progressBar) {\r\n            this.createProgressBar();\r\n        }\r\n\r\n        // Button container\r\n        const buttonContainer = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-controls-buttons`\r\n        });\r\n\r\n        // Left buttons\r\n        const leftButtons = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-controls-left`\r\n        });\r\n\r\n        // Previous track button (if playlist)\r\n        if (this.player.playlistManager) {\r\n            leftButtons.appendChild(this.createPreviousButton());\r\n        }\r\n\r\n        // Play/Pause button\r\n        if (this.player.options.playPauseButton) {\r\n            leftButtons.appendChild(this.createPlayPauseButton());\r\n        }\r\n\r\n        // Restart button (right beside play button)\r\n        leftButtons.appendChild(this.createRestartButton());\r\n\r\n        // Next track button (if playlist)\r\n        if (this.player.playlistManager) {\r\n            leftButtons.appendChild(this.createNextButton());\r\n        }\r\n\r\n        // Rewind button (not shown in playlist mode)\r\n        if (!this.player.playlistManager) {\r\n            leftButtons.appendChild(this.createRewindButton());\r\n        }\r\n\r\n        // Forward button (not shown in playlist mode)\r\n        if (!this.player.playlistManager) {\r\n            leftButtons.appendChild(this.createForwardButton());\r\n        }\r\n\r\n        // Volume control\r\n        if (this.player.options.volumeControl) {\r\n            leftButtons.appendChild(this.createVolumeControl());\r\n        }\r\n\r\n        // Time display\r\n        if (this.player.options.currentTime || this.player.options.duration) {\r\n            leftButtons.appendChild(this.createTimeDisplay());\r\n        }\r\n\r\n        // Right buttons\r\n        const rightButtons = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-controls-right`\r\n        });\r\n\r\n        // Check for available features\r\n        const hasChapters = this.hasChapterTracks();\r\n        const hasCaptions = this.hasCaptionTracks();\r\n        const hasQualityLevels = this.hasQualityLevels();\r\n        const hasAudioDescription = this.hasAudioDescription();\r\n\r\n        // Chapters button - only show if chapters are available\r\n        if (this.player.options.chaptersButton && hasChapters) {\r\n            rightButtons.appendChild(this.createChaptersButton());\r\n        }\r\n\r\n        // Quality button - only show if quality levels are available\r\n        if (this.player.options.qualityButton && hasQualityLevels) {\r\n            rightButtons.appendChild(this.createQualityButton());\r\n        }\r\n\r\n        // Caption styling button (font, size, color) - only show if captions are available\r\n        if (this.player.options.captionStyleButton && hasCaptions) {\r\n            rightButtons.appendChild(this.createCaptionStyleButton());\r\n        }\r\n\r\n        // Speed button - always available\r\n        if (this.player.options.speedButton) {\r\n            rightButtons.appendChild(this.createSpeedButton());\r\n        }\r\n\r\n        // Captions language selector button - only show if captions are available\r\n        if (this.player.options.captionsButton && hasCaptions) {\r\n            rightButtons.appendChild(this.createCaptionsButton());\r\n        }\r\n\r\n        // Transcript button - only show if captions/subtitles are available\r\n        if (this.player.options.transcriptButton && hasCaptions) {\r\n            rightButtons.appendChild(this.createTranscriptButton());\r\n        }\r\n\r\n        // Audio Description button - only show if audio description source is available\r\n        if (this.player.options.audioDescriptionButton && hasAudioDescription) {\r\n            rightButtons.appendChild(this.createAudioDescriptionButton());\r\n        }\r\n\r\n        // Sign Language button - only show if sign language source is available\r\n        const hasSignLanguage = this.hasSignLanguage();\r\n        if (this.player.options.signLanguageButton && hasSignLanguage) {\r\n            rightButtons.appendChild(this.createSignLanguageButton());\r\n        }\r\n\r\n        // PiP button\r\n        if (this.player.options.pipButton && 'pictureInPictureEnabled' in document) {\r\n            rightButtons.appendChild(this.createPipButton());\r\n        }\r\n\r\n        // Fullscreen button\r\n        if (this.player.options.fullscreenButton) {\r\n            rightButtons.appendChild(this.createFullscreenButton());\r\n        }\r\n\r\n        buttonContainer.appendChild(leftButtons);\r\n        buttonContainer.appendChild(rightButtons);\r\n        this.element.appendChild(buttonContainer);\r\n    }\r\n\r\n    // Helper methods to check for available features\r\n    hasChapterTracks() {\r\n        const textTracks = this.player.element.textTracks;\r\n        for (let i = 0; i < textTracks.length; i++) {\r\n            if (textTracks[i].kind === 'chapters') {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    hasCaptionTracks() {\r\n        const textTracks = this.player.element.textTracks;\r\n        for (let i = 0; i < textTracks.length; i++) {\r\n            if (textTracks[i].kind === 'captions' || textTracks[i].kind === 'subtitles') {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    hasQualityLevels() {\r\n        // Check if using HLS with multiple quality levels\r\n        if (this.player.renderer && this.player.renderer.hls) {\r\n            const levels = this.player.renderer.hls.levels;\r\n            return levels && levels.length > 1;\r\n        }\r\n        // For non-HLS, quality switching is not available\r\n        return false;\r\n    }\r\n\r\n    hasAudioDescription() {\r\n        return this.player.audioDescriptionSrc && this.player.audioDescriptionSrc.length > 0;\r\n    }\r\n\r\n    hasSignLanguage() {\r\n        return this.player.signLanguageSrc && this.player.signLanguageSrc.length > 0;\r\n    }\r\n\r\n    createProgressBar() {\r\n        const progressContainer = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-progress-container`,\r\n            attributes: {\r\n                'role': 'slider',\r\n                'aria-label': i18n.t('player.progress'),\r\n                'aria-valuemin': '0',\r\n                'aria-valuemax': '100',\r\n                'aria-valuenow': '0',\r\n                'tabindex': '0'\r\n            }\r\n        });\r\n\r\n        // Buffered progress\r\n        this.controls.buffered = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-progress-buffered`\r\n        });\r\n\r\n        // Played progress\r\n        this.controls.played = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-progress-played`\r\n        });\r\n\r\n        // Progress handle\r\n        this.controls.progressHandle = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-progress-handle`\r\n        });\r\n\r\n        // Tooltip\r\n        this.controls.progressTooltip = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-progress-tooltip`\r\n        });\r\n\r\n        progressContainer.appendChild(this.controls.buffered);\r\n        progressContainer.appendChild(this.controls.played);\r\n        this.controls.played.appendChild(this.controls.progressHandle);\r\n        progressContainer.appendChild(this.controls.progressTooltip);\r\n\r\n        this.controls.progress = progressContainer;\r\n        this.element.appendChild(progressContainer);\r\n\r\n        // Progress bar events\r\n        this.setupProgressBarEvents();\r\n    }\r\n\r\n    setupProgressBarEvents() {\r\n        const progress = this.controls.progress;\r\n\r\n        const updateProgress = (clientX) => {\r\n            const rect = progress.getBoundingClientRect();\r\n            const percent = Math.max(0, Math.min(1, (clientX - rect.left) / rect.width));\r\n            const time = percent * this.player.state.duration;\r\n            return {percent, time};\r\n        };\r\n\r\n        // Mouse events\r\n        progress.addEventListener('mousedown', (e) => {\r\n            this.isDraggingProgress = true;\r\n            const {time} = updateProgress(e.clientX);\r\n            this.player.seek(time);\r\n        });\r\n\r\n        document.addEventListener('mousemove', (e) => {\r\n            if (this.isDraggingProgress) {\r\n                const {time} = updateProgress(e.clientX);\r\n                this.player.seek(time);\r\n            }\r\n        });\r\n\r\n        document.addEventListener('mouseup', () => {\r\n            this.isDraggingProgress = false;\r\n        });\r\n\r\n        // Hover tooltip\r\n        progress.addEventListener('mousemove', (e) => {\r\n            if (!this.isDraggingProgress) {\r\n                const {time} = updateProgress(e.clientX);\r\n                this.controls.progressTooltip.textContent = TimeUtils.formatTime(time);\r\n                this.controls.progressTooltip.style.left = `${e.clientX - progress.getBoundingClientRect().left}px`;\r\n                this.controls.progressTooltip.style.display = 'block';\r\n            }\r\n        });\r\n\r\n        progress.addEventListener('mouseleave', () => {\r\n            this.controls.progressTooltip.style.display = 'none';\r\n        });\r\n\r\n        // Keyboard navigation\r\n        progress.addEventListener('keydown', (e) => {\r\n            if (e.key === 'ArrowLeft') {\r\n                e.preventDefault();\r\n                this.player.seekBackward(5);\r\n            } else if (e.key === 'ArrowRight') {\r\n                e.preventDefault();\r\n                this.player.seekForward(5);\r\n            }\r\n        });\r\n\r\n        // Touch events\r\n        progress.addEventListener('touchstart', (e) => {\r\n            this.isDraggingProgress = true;\r\n            const touch = e.touches[0];\r\n            const {time} = updateProgress(touch.clientX);\r\n            this.player.seek(time);\r\n        });\r\n\r\n        progress.addEventListener('touchmove', (e) => {\r\n            if (this.isDraggingProgress) {\r\n                e.preventDefault();\r\n                const touch = e.touches[0];\r\n                const {time} = updateProgress(touch.clientX);\r\n                this.player.seek(time);\r\n            }\r\n        });\r\n\r\n        progress.addEventListener('touchend', () => {\r\n            this.isDraggingProgress = false;\r\n        });\r\n    }\r\n\r\n    createPlayPauseButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-play-pause`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': i18n.t('player.play')\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('play'));\r\n\r\n        button.addEventListener('click', () => {\r\n            this.player.toggle();\r\n        });\r\n\r\n        this.controls.playPause = button;\r\n        return button;\r\n    }\r\n\r\n    createRestartButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-restart`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': 'Restart from beginning'\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('restart'));\r\n\r\n        button.addEventListener('click', () => {\r\n            this.player.seek(0);\r\n            this.player.play();\r\n        });\r\n\r\n        return button;\r\n    }\r\n\r\n    createPreviousButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-previous`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': 'Previous track'\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('skipPrevious'));\r\n\r\n        button.addEventListener('click', () => {\r\n            if (this.player.playlistManager) {\r\n                this.player.playlistManager.previous();\r\n            }\r\n        });\r\n\r\n        // Update button state\r\n        const updateState = () => {\r\n            if (this.player.playlistManager) {\r\n                button.disabled = !this.player.playlistManager.hasPrevious() && !this.player.playlistManager.options.loop;\r\n            }\r\n        };\r\n        this.player.on('playlisttrackchange', updateState);\r\n        updateState();\r\n\r\n        this.controls.previous = button;\r\n        return button;\r\n    }\r\n\r\n    createNextButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-next`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': 'Next track'\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('skipNext'));\r\n\r\n        button.addEventListener('click', () => {\r\n            if (this.player.playlistManager) {\r\n                this.player.playlistManager.next();\r\n            }\r\n        });\r\n\r\n        // Update button state\r\n        const updateState = () => {\r\n            if (this.player.playlistManager) {\r\n                button.disabled = !this.player.playlistManager.hasNext() && !this.player.playlistManager.options.loop;\r\n            }\r\n        };\r\n        this.player.on('playlisttrackchange', updateState);\r\n        updateState();\r\n\r\n        this.controls.next = button;\r\n        return button;\r\n    }\r\n\r\n    createRewindButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-rewind`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': 'Rewind 15 seconds'\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('rewind'));\r\n\r\n        button.addEventListener('click', () => {\r\n            this.player.seekBackward(15);\r\n        });\r\n\r\n        return button;\r\n    }\r\n\r\n    createForwardButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-forward`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': 'Forward 15 seconds'\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('forward'));\r\n\r\n        button.addEventListener('click', () => {\r\n            this.player.seekForward(15);\r\n        });\r\n\r\n        return button;\r\n    }\r\n\r\n    createVolumeControl() {\r\n        // Mute/Volume button\r\n        const muteButton = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-mute`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': i18n.t('player.volume'),\r\n                'aria-haspopup': 'true'\r\n            }\r\n        });\r\n\r\n        muteButton.appendChild(createIconElement('volumeHigh'));\r\n\r\n        // Toggle mute on right click, show volume slider on left click\r\n        muteButton.addEventListener('contextmenu', (e) => {\r\n            e.preventDefault();\r\n            this.player.toggleMute();\r\n        });\r\n\r\n        muteButton.addEventListener('click', () => {\r\n            this.showVolumeSlider(muteButton);\r\n        });\r\n\r\n        this.controls.mute = muteButton;\r\n\r\n        return muteButton;\r\n    }\r\n\r\n    showVolumeSlider(button) {\r\n        // Remove existing slider if any\r\n        const existingSlider = document.querySelector(`.${this.player.options.classPrefix}-volume-menu`);\r\n        if (existingSlider) {\r\n            existingSlider.remove();\r\n            return;\r\n        }\r\n\r\n        // Volume menu container\r\n        const volumeMenu = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-volume-menu ${this.player.options.classPrefix}-menu`\r\n        });\r\n\r\n        const volumeSlider = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-volume-slider`,\r\n            attributes: {\r\n                'role': 'slider',\r\n                'aria-label': i18n.t('player.volume'),\r\n                'aria-valuemin': '0',\r\n                'aria-valuemax': '100',\r\n                'aria-valuenow': String(Math.round(this.player.state.volume * 100)),\r\n                'tabindex': '0'\r\n            }\r\n        });\r\n\r\n        const volumeTrack = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-volume-track`\r\n        });\r\n\r\n        const volumeFill = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-volume-fill`\r\n        });\r\n\r\n        const volumeHandle = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-volume-handle`\r\n        });\r\n\r\n        volumeTrack.appendChild(volumeFill);\r\n        volumeFill.appendChild(volumeHandle);\r\n        volumeSlider.appendChild(volumeTrack);\r\n        volumeMenu.appendChild(volumeSlider);\r\n\r\n        // Volume slider events\r\n        const updateVolume = (clientY) => {\r\n            const rect = volumeTrack.getBoundingClientRect();\r\n            const percent = Math.max(0, Math.min(1, 1 - ((clientY - rect.top) / rect.height)));\r\n            this.player.setVolume(percent);\r\n        };\r\n\r\n        volumeSlider.addEventListener('mousedown', (e) => {\r\n            e.stopPropagation();\r\n            this.isDraggingVolume = true;\r\n            updateVolume(e.clientY);\r\n        });\r\n\r\n        document.addEventListener('mousemove', (e) => {\r\n            if (this.isDraggingVolume) {\r\n                updateVolume(e.clientY);\r\n            }\r\n        });\r\n\r\n        document.addEventListener('mouseup', () => {\r\n            this.isDraggingVolume = false;\r\n        });\r\n\r\n        // Keyboard volume control\r\n        volumeSlider.addEventListener('keydown', (e) => {\r\n            if (e.key === 'ArrowUp') {\r\n                e.preventDefault();\r\n                this.player.setVolume(Math.min(1, this.player.state.volume + 0.1));\r\n            } else if (e.key === 'ArrowDown') {\r\n                e.preventDefault();\r\n                this.player.setVolume(Math.max(0, this.player.state.volume - 0.1));\r\n            }\r\n        });\r\n\r\n        // Prevent menu from closing when interacting with slider\r\n        volumeMenu.addEventListener('click', (e) => {\r\n            e.stopPropagation();\r\n        });\r\n\r\n        // Append menu to button\r\n        button.appendChild(volumeMenu);\r\n\r\n        this.controls.volumeSlider = volumeSlider;\r\n        this.controls.volumeFill = volumeFill;\r\n\r\n        // Close menu on outside click\r\n        this.attachMenuCloseHandler(volumeMenu, button, true);\r\n    }\r\n\r\n    createTimeDisplay() {\r\n        const container = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-time`\r\n        });\r\n\r\n        this.controls.currentTimeDisplay = DOMUtils.createElement('span', {\r\n            className: `${this.player.options.classPrefix}-current-time`,\r\n            textContent: '00:00'\r\n        });\r\n\r\n        const separator = DOMUtils.createElement('span', {\r\n            textContent: ' / ',\r\n            attributes: {\r\n                'aria-hidden': 'true'\r\n            }\r\n        });\r\n\r\n        this.controls.durationDisplay = DOMUtils.createElement('span', {\r\n            className: `${this.player.options.classPrefix}-duration`,\r\n            textContent: '00:00'\r\n        });\r\n\r\n        container.appendChild(this.controls.currentTimeDisplay);\r\n        container.appendChild(separator);\r\n        container.appendChild(this.controls.durationDisplay);\r\n\r\n        return container;\r\n    }\r\n\r\n    createChaptersButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-chapters`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': 'Chapters',\r\n                'aria-haspopup': 'menu'\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('playlist'));\r\n\r\n        button.addEventListener('click', () => {\r\n            this.showChaptersMenu(button);\r\n        });\r\n\r\n        this.controls.chapters = button;\r\n        return button;\r\n    }\r\n\r\n    showChaptersMenu(button) {\r\n        // Remove existing menu if any\r\n        const existingMenu = document.querySelector(`.${this.player.options.classPrefix}-chapters-menu`);\r\n        if (existingMenu) {\r\n            existingMenu.remove();\r\n            return;\r\n        }\r\n\r\n        const menu = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-chapters-menu ${this.player.options.classPrefix}-menu`,\r\n            attributes: {\r\n                'role': 'menu',\r\n                'aria-label': 'Chapters'\r\n            }\r\n        });\r\n\r\n        // Get chapter tracks\r\n        const chapterTracks = Array.from(this.player.element.textTracks).filter(\r\n            track => track.kind === 'chapters'\r\n        );\r\n\r\n        if (chapterTracks.length === 0) {\r\n            // No chapters available\r\n            const noChaptersItem = DOMUtils.createElement('div', {\r\n                className: `${this.player.options.classPrefix}-menu-item`,\r\n                textContent: 'No chapters available',\r\n                style: {opacity: '0.5', cursor: 'default'}\r\n            });\r\n            menu.appendChild(noChaptersItem);\r\n        } else {\r\n            const chapterTrack = chapterTracks[0];\r\n\r\n            // Ensure track is in 'hidden' mode to load cues\r\n            if (chapterTrack.mode === 'disabled') {\r\n                chapterTrack.mode = 'hidden';\r\n            }\r\n\r\n            if (!chapterTrack.cues || chapterTrack.cues.length === 0) {\r\n                // Cues not loaded yet - wait for them to load\r\n                const loadingItem = DOMUtils.createElement('div', {\r\n                    className: `${this.player.options.classPrefix}-menu-item`,\r\n                    textContent: 'Loading chapters...',\r\n                    style: {opacity: '0.5', cursor: 'default'}\r\n                });\r\n                menu.appendChild(loadingItem);\r\n\r\n                // Listen for track load event\r\n                const onTrackLoad = () => {\r\n                    // Remove loading message and rebuild menu\r\n                    menu.remove();\r\n                    this.showChaptersMenu(button);\r\n                };\r\n\r\n                chapterTrack.addEventListener('load', onTrackLoad, {once: true});\r\n\r\n                // Also try again after a short delay as fallback\r\n                setTimeout(() => {\r\n                    if (chapterTrack.cues && chapterTrack.cues.length > 0 && document.contains(menu)) {\r\n                        menu.remove();\r\n                        this.showChaptersMenu(button);\r\n                    }\r\n                }, 500);\r\n            } else {\r\n                // Display chapters\r\n                const cues = chapterTrack.cues;\r\n                for (let i = 0; i < cues.length; i++) {\r\n                    const cue = cues[i];\r\n                    const item = DOMUtils.createElement('button', {\r\n                        className: `${this.player.options.classPrefix}-menu-item`,\r\n                        attributes: {\r\n                            'type': 'button',\r\n                            'role': 'menuitem'\r\n                        }\r\n                    });\r\n\r\n                    const timeLabel = DOMUtils.createElement('span', {\r\n                        className: `${this.player.options.classPrefix}-chapter-time`,\r\n                        textContent: TimeUtils.formatTime(cue.startTime)\r\n                    });\r\n\r\n                    const titleLabel = DOMUtils.createElement('span', {\r\n                        className: `${this.player.options.classPrefix}-chapter-title`,\r\n                        textContent: cue.text\r\n                    });\r\n\r\n                    item.appendChild(timeLabel);\r\n                    item.appendChild(document.createTextNode(' '));\r\n                    item.appendChild(titleLabel);\r\n\r\n                    item.addEventListener('click', () => {\r\n                        this.player.seek(cue.startTime);\r\n                        menu.remove();\r\n                    });\r\n\r\n                    menu.appendChild(item);\r\n                }\r\n            }\r\n        }\r\n\r\n        // Append menu directly to button for proper positioning\r\n        button.appendChild(menu);\r\n\r\n        // Close menu on outside click\r\n        this.attachMenuCloseHandler(menu, button);\r\n    }\r\n\r\n    createQualityButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-quality`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': 'Quality',\r\n                'aria-haspopup': 'menu'\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('hd'));\r\n\r\n        button.addEventListener('click', () => {\r\n            this.showQualityMenu(button);\r\n        });\r\n\r\n        this.controls.quality = button;\r\n        return button;\r\n    }\r\n\r\n    showQualityMenu(button) {\r\n        // Remove existing menu if any\r\n        const existingMenu = document.querySelector(`.${this.player.options.classPrefix}-quality-menu`);\r\n        if (existingMenu) {\r\n            existingMenu.remove();\r\n            return;\r\n        }\r\n\r\n        const menu = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-quality-menu ${this.player.options.classPrefix}-menu`,\r\n            attributes: {\r\n                'role': 'menu',\r\n                'aria-label': 'Quality'\r\n            }\r\n        });\r\n\r\n        // Check if renderer supports quality selection\r\n        if (this.player.renderer && this.player.renderer.getQualities) {\r\n            const qualities = this.player.renderer.getQualities();\r\n\r\n            if (qualities.length === 0) {\r\n                // No qualities available\r\n                const noQualityItem = DOMUtils.createElement('div', {\r\n                    className: `${this.player.options.classPrefix}-menu-item`,\r\n                    textContent: 'Auto (no quality selection available)',\r\n                    style: {opacity: '0.5', cursor: 'default'}\r\n                });\r\n                menu.appendChild(noQualityItem);\r\n            } else {\r\n                // Auto quality option\r\n                const autoItem = DOMUtils.createElement('button', {\r\n                    className: `${this.player.options.classPrefix}-menu-item`,\r\n                    textContent: 'Auto',\r\n                    attributes: {\r\n                        'type': 'button',\r\n                        'role': 'menuitem'\r\n                    }\r\n                });\r\n\r\n                autoItem.addEventListener('click', () => {\r\n                    if (this.player.renderer.switchQuality) {\r\n                        this.player.renderer.switchQuality(-1); // -1 for auto\r\n                    }\r\n                    menu.remove();\r\n                });\r\n\r\n                menu.appendChild(autoItem);\r\n\r\n                // Quality options\r\n                qualities.forEach(quality => {\r\n                    const item = DOMUtils.createElement('button', {\r\n                        className: `${this.player.options.classPrefix}-menu-item`,\r\n                        textContent: quality.name || `${quality.height}p`,\r\n                        attributes: {\r\n                            'type': 'button',\r\n                            'role': 'menuitem'\r\n                        }\r\n                    });\r\n\r\n                    item.addEventListener('click', () => {\r\n                        if (this.player.renderer.switchQuality) {\r\n                            this.player.renderer.switchQuality(quality.index);\r\n                        }\r\n                        menu.remove();\r\n                    });\r\n\r\n                    menu.appendChild(item);\r\n                });\r\n            }\r\n        } else {\r\n            // No quality support\r\n            const noSupportItem = DOMUtils.createElement('div', {\r\n                className: `${this.player.options.classPrefix}-menu-item`,\r\n                textContent: 'Quality selection not available',\r\n                style: {opacity: '0.5', cursor: 'default'}\r\n            });\r\n            menu.appendChild(noSupportItem);\r\n        }\r\n\r\n        // Append menu directly to button for proper positioning\r\n        button.appendChild(menu);\r\n\r\n        // Close menu on outside click\r\n        this.attachMenuCloseHandler(menu, button);\r\n    }\r\n\r\n    createCaptionStyleButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-caption-style`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': 'Caption styling',\r\n                'aria-haspopup': 'menu',\r\n                'title': 'Caption styling'\r\n            }\r\n        });\r\n\r\n        // Create \"Aa\" text icon for styling\r\n        const textIcon = DOMUtils.createElement('span', {\r\n            textContent: 'Aa',\r\n            style: {\r\n                fontSize: '14px',\r\n                fontWeight: 'bold'\r\n            }\r\n        });\r\n        button.appendChild(textIcon);\r\n\r\n        button.addEventListener('click', () => {\r\n            this.showCaptionStyleMenu(button);\r\n        });\r\n\r\n        this.controls.captionStyle = button;\r\n        return button;\r\n    }\r\n\r\n    showCaptionStyleMenu(button) {\r\n        // Remove existing menu if any\r\n        const existingMenu = document.querySelector(`.${this.player.options.classPrefix}-caption-style-menu`);\r\n        if (existingMenu) {\r\n            existingMenu.remove();\r\n            return;\r\n        }\r\n\r\n        const menu = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-caption-style-menu ${this.player.options.classPrefix}-menu ${this.player.options.classPrefix}-settings-menu`,\r\n            attributes: {\r\n                'role': 'menu',\r\n                'aria-label': 'Caption styling'\r\n            }\r\n        });\r\n\r\n        // Prevent menu from closing when clicking inside\r\n        menu.addEventListener('click', (e) => {\r\n            e.stopPropagation();\r\n        });\r\n\r\n        // Check if there are any caption tracks\r\n        if (!this.player.captionManager || this.player.captionManager.tracks.length === 0) {\r\n            // Show \"No captions available\" message\r\n            const noTracksItem = DOMUtils.createElement('div', {\r\n                className: `${this.player.options.classPrefix}-menu-item`,\r\n                textContent: 'No captions available',\r\n                style: {opacity: '0.5', cursor: 'default', padding: '12px 16px'}\r\n            });\r\n            menu.appendChild(noTracksItem);\r\n\r\n            // Append menu to button\r\n            button.appendChild(menu);\r\n\r\n            // Close menu on outside click\r\n            this.attachMenuCloseHandler(menu, button, true);\r\n            return;\r\n        }\r\n\r\n        // Font Size\r\n        const fontSizeGroup = this.createStyleControl(\r\n            'Font Size',\r\n            'captionsFontSize',\r\n            [\r\n                {label: 'Small', value: '80%'},\r\n                {label: 'Medium', value: '100%'},\r\n                {label: 'Large', value: '120%'},\r\n                {label: 'X-Large', value: '150%'}\r\n            ]\r\n        );\r\n        menu.appendChild(fontSizeGroup);\r\n\r\n        // Font Family\r\n        const fontFamilyGroup = this.createStyleControl(\r\n            'Font',\r\n            'captionsFontFamily',\r\n            [\r\n                {label: 'Sans-serif', value: 'sans-serif'},\r\n                {label: 'Serif', value: 'serif'},\r\n                {label: 'Monospace', value: 'monospace'}\r\n            ]\r\n        );\r\n        menu.appendChild(fontFamilyGroup);\r\n\r\n        // Text Color\r\n        const colorGroup = this.createColorControl('Text Color', 'captionsColor');\r\n        menu.appendChild(colorGroup);\r\n\r\n        // Background Color\r\n        const bgColorGroup = this.createColorControl('Background', 'captionsBackgroundColor');\r\n        menu.appendChild(bgColorGroup);\r\n\r\n        // Opacity\r\n        const opacityGroup = this.createOpacityControl('Opacity', 'captionsOpacity');\r\n        menu.appendChild(opacityGroup);\r\n\r\n        // Set min-width for caption style menu\r\n        menu.style.minWidth = '220px';\r\n\r\n        // Append menu directly to button for proper positioning\r\n        button.appendChild(menu);\r\n\r\n        // Close menu on outside click (but not when interacting with controls)\r\n        this.attachMenuCloseHandler(menu, button, true);\r\n    }\r\n\r\n    createStyleControl(label, property, options) {\r\n        const group = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-style-group`\r\n        });\r\n\r\n        const labelEl = DOMUtils.createElement('label', {\r\n            textContent: label,\r\n            style: {\r\n                display: 'block',\r\n                fontSize: '12px',\r\n                marginBottom: '4px',\r\n                color: 'rgba(255,255,255,0.7)'\r\n            }\r\n        });\r\n        group.appendChild(labelEl);\r\n\r\n        const select = DOMUtils.createElement('select', {\r\n            className: `${this.player.options.classPrefix}-style-select`,\r\n            style: {\r\n                width: '100%',\r\n                padding: '6px',\r\n                background: 'var(--vidply-white)',\r\n                border: '1px solid var(--vidply-white-10)',\r\n                borderRadius: '4px',\r\n                color: 'var(--vidply-black)',\r\n                fontSize: '13px'\r\n            }\r\n        });\r\n\r\n        const currentValue = this.player.options[property];\r\n        options.forEach(opt => {\r\n            const option = DOMUtils.createElement('option', {\r\n                textContent: opt.label,\r\n                attributes: {value: opt.value}\r\n            });\r\n            if (opt.value === currentValue) {\r\n                option.selected = true;\r\n            }\r\n            select.appendChild(option);\r\n        });\r\n\r\n        // Prevent clicks from closing the menu\r\n        select.addEventListener('mousedown', (e) => {\r\n            e.stopPropagation();\r\n        });\r\n\r\n        select.addEventListener('click', (e) => {\r\n            e.stopPropagation();\r\n        });\r\n\r\n        select.addEventListener('change', (e) => {\r\n            e.stopPropagation();\r\n            this.player.options[property] = e.target.value;\r\n            if (this.player.captionManager) {\r\n                this.player.captionManager.setCaptionStyle(\r\n                    property.replace('captions', '').charAt(0).toLowerCase() + property.replace('captions', '').slice(1),\r\n                    e.target.value\r\n                );\r\n            }\r\n        });\r\n\r\n        group.appendChild(select);\r\n        return group;\r\n    }\r\n\r\n    createColorControl(label, property) {\r\n        const group = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-style-group`\r\n        });\r\n\r\n        const labelEl = DOMUtils.createElement('label', {\r\n            textContent: label,\r\n            style: {\r\n                display: 'block',\r\n                fontSize: '12px',\r\n                marginBottom: '4px',\r\n                color: 'rgba(255,255,255,0.7)'\r\n            }\r\n        });\r\n        group.appendChild(labelEl);\r\n\r\n        const input = DOMUtils.createElement('input', {\r\n            attributes: {\r\n                type: 'color',\r\n                value: this.player.options[property]\r\n            },\r\n            style: {\r\n                width: '100%',\r\n                height: '32px',\r\n                padding: '2px',\r\n                background: 'rgba(255,255,255,0.1)',\r\n                border: '1px solid rgba(255,255,255,0.2)',\r\n                borderRadius: '4px',\r\n                cursor: 'pointer'\r\n            }\r\n        });\r\n\r\n        // Prevent clicks from closing the menu\r\n        input.addEventListener('mousedown', (e) => {\r\n            e.stopPropagation();\r\n        });\r\n\r\n        input.addEventListener('click', (e) => {\r\n            e.stopPropagation();\r\n        });\r\n\r\n        input.addEventListener('change', (e) => {\r\n            e.stopPropagation();\r\n            this.player.options[property] = e.target.value;\r\n            if (this.player.captionManager) {\r\n                this.player.captionManager.setCaptionStyle(\r\n                    property.replace('captions', '').charAt(0).toLowerCase() + property.replace('captions', '').slice(1),\r\n                    e.target.value\r\n                );\r\n            }\r\n        });\r\n\r\n        group.appendChild(input);\r\n        return group;\r\n    }\r\n\r\n    createOpacityControl(label, property) {\r\n        const group = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-style-group`\r\n        });\r\n\r\n        const labelContainer = DOMUtils.createElement('div', {\r\n            style: {\r\n                display: 'flex',\r\n                justifyContent: 'space-between',\r\n                marginBottom: '4px'\r\n            }\r\n        });\r\n\r\n        const labelEl = DOMUtils.createElement('label', {\r\n            textContent: label,\r\n            style: {\r\n                fontSize: '12px',\r\n                color: 'rgba(255,255,255,0.7)'\r\n            }\r\n        });\r\n\r\n        const valueEl = DOMUtils.createElement('span', {\r\n            textContent: Math.round(this.player.options[property] * 100) + '%',\r\n            style: {\r\n                fontSize: '12px',\r\n                color: 'rgba(255,255,255,0.7)'\r\n            }\r\n        });\r\n\r\n        labelContainer.appendChild(labelEl);\r\n        labelContainer.appendChild(valueEl);\r\n        group.appendChild(labelContainer);\r\n\r\n        const input = DOMUtils.createElement('input', {\r\n            attributes: {\r\n                type: 'range',\r\n                min: '0',\r\n                max: '1',\r\n                step: '0.1',\r\n                value: String(this.player.options[property])\r\n            },\r\n            style: {\r\n                width: '100%',\r\n                cursor: 'pointer'\r\n            }\r\n        });\r\n\r\n        // Prevent clicks from closing the menu\r\n        input.addEventListener('mousedown', (e) => {\r\n            e.stopPropagation();\r\n        });\r\n\r\n        input.addEventListener('click', (e) => {\r\n            e.stopPropagation();\r\n        });\r\n\r\n        input.addEventListener('input', (e) => {\r\n            e.stopPropagation();\r\n            const value = parseFloat(e.target.value);\r\n            valueEl.textContent = Math.round(value * 100) + '%';\r\n            this.player.options[property] = value;\r\n            if (this.player.captionManager) {\r\n                this.player.captionManager.setCaptionStyle(\r\n                    property.replace('captions', '').charAt(0).toLowerCase() + property.replace('captions', '').slice(1),\r\n                    value\r\n                );\r\n            }\r\n        });\r\n\r\n        group.appendChild(input);\r\n        return group;\r\n    }\r\n\r\n    createSpeedButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-speed`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': i18n.t('player.speed'),\r\n                'aria-haspopup': 'menu'\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('speed'));\r\n\r\n        const speedText = DOMUtils.createElement('span', {\r\n            className: `${this.player.options.classPrefix}-speed-text`,\r\n            textContent: '1x'\r\n        });\r\n        button.appendChild(speedText);\r\n\r\n        button.addEventListener('click', () => {\r\n            this.showSpeedMenu(button);\r\n        });\r\n\r\n        this.controls.speed = button;\r\n        this.controls.speedText = speedText;\r\n        return button;\r\n    }\r\n\r\n    showSpeedMenu(button) {\r\n        // Remove existing menu if any\r\n        const existingMenu = document.querySelector(`.${this.player.options.classPrefix}-speed-menu`);\r\n        if (existingMenu) {\r\n            existingMenu.remove();\r\n            return;\r\n        }\r\n\r\n        const menu = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-speed-menu ${this.player.options.classPrefix}-menu`,\r\n            attributes: {\r\n                'role': 'menu'\r\n            }\r\n        });\r\n\r\n        const speeds = [0.25, 0.5, 0.75, 1, 1.25, 1.5, 1.75, 2];\r\n\r\n        speeds.forEach(speed => {\r\n            const item = DOMUtils.createElement('button', {\r\n                className: `${this.player.options.classPrefix}-menu-item`,\r\n                textContent: i18n.t(`speeds.${speed}`) || `${speed}x`,\r\n                attributes: {\r\n                    'type': 'button',\r\n                    'role': 'menuitem'\r\n                }\r\n            });\r\n\r\n            if (speed === this.player.state.playbackSpeed) {\r\n                item.classList.add(`${this.player.options.classPrefix}-menu-item-active`);\r\n                item.appendChild(createIconElement('check'));\r\n            }\r\n\r\n            item.addEventListener('click', () => {\r\n                this.player.setPlaybackSpeed(speed);\r\n                menu.remove();\r\n            });\r\n\r\n            menu.appendChild(item);\r\n        });\r\n\r\n        // Append menu directly to button for proper positioning\r\n        button.appendChild(menu);\r\n\r\n        // Close menu on outside click\r\n        this.attachMenuCloseHandler(menu, button);\r\n    }\r\n\r\n    createCaptionsButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-captions-button`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': i18n.t('player.captions'),\r\n                'aria-pressed': 'false',\r\n                'aria-haspopup': 'menu'\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('captionsOff'));\r\n\r\n        button.addEventListener('click', () => {\r\n            this.showCaptionsMenu(button);\r\n        });\r\n\r\n        this.controls.captions = button;\r\n        return button;\r\n    }\r\n\r\n    showCaptionsMenu(button) {\r\n        // Remove existing menu if any\r\n        const existingMenu = document.querySelector(`.${this.player.options.classPrefix}-captions-menu`);\r\n        if (existingMenu) {\r\n            existingMenu.remove();\r\n            return;\r\n        }\r\n\r\n        const menu = DOMUtils.createElement('div', {\r\n            className: `${this.player.options.classPrefix}-captions-menu ${this.player.options.classPrefix}-menu`,\r\n            attributes: {\r\n                'role': 'menu',\r\n                'aria-label': i18n.t('captions.select')\r\n            }\r\n        });\r\n\r\n        // Check if there are any caption tracks\r\n        if (!this.player.captionManager || this.player.captionManager.tracks.length === 0) {\r\n            // Show \"No captions available\" message\r\n            const noTracksItem = DOMUtils.createElement('div', {\r\n                className: `${this.player.options.classPrefix}-menu-item`,\r\n                textContent: 'No captions available',\r\n                style: {opacity: '0.5', cursor: 'default'}\r\n            });\r\n            menu.appendChild(noTracksItem);\r\n\r\n            // Append menu to button\r\n            button.appendChild(menu);\r\n\r\n            // Close menu on outside click\r\n            this.attachMenuCloseHandler(menu, button);\r\n            return;\r\n        }\r\n\r\n        // Off option\r\n        const offItem = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-menu-item`,\r\n            textContent: i18n.t('captions.off'),\r\n            attributes: {\r\n                'type': 'button',\r\n                'role': 'menuitem'\r\n            }\r\n        });\r\n\r\n        if (!this.player.state.captionsEnabled) {\r\n            offItem.classList.add(`${this.player.options.classPrefix}-menu-item-active`);\r\n            offItem.appendChild(createIconElement('check'));\r\n        }\r\n\r\n        offItem.addEventListener('click', () => {\r\n            this.player.disableCaptions();\r\n            this.updateCaptionsButton();\r\n            menu.remove();\r\n        });\r\n\r\n        menu.appendChild(offItem);\r\n\r\n        // Available tracks\r\n        const tracks = this.player.captionManager.getAvailableTracks();\r\n        tracks.forEach(track => {\r\n            const item = DOMUtils.createElement('button', {\r\n                className: `${this.player.options.classPrefix}-menu-item`,\r\n                textContent: track.label,\r\n                attributes: {\r\n                    'type': 'button',\r\n                    'role': 'menuitem',\r\n                    'lang': track.language\r\n                }\r\n            });\r\n\r\n            // Check if this is the current track\r\n            if (this.player.state.captionsEnabled &&\r\n                this.player.captionManager.currentTrack === this.player.captionManager.tracks[track.index]) {\r\n                item.classList.add(`${this.player.options.classPrefix}-menu-item-active`);\r\n                item.appendChild(createIconElement('check'));\r\n            }\r\n\r\n            item.addEventListener('click', () => {\r\n                this.player.captionManager.switchTrack(track.index);\r\n                this.updateCaptionsButton();\r\n                menu.remove();\r\n            });\r\n\r\n            menu.appendChild(item);\r\n        });\r\n\r\n        // Append menu directly to button for proper positioning\r\n        button.appendChild(menu);\r\n\r\n        // Close menu on outside click\r\n        this.attachMenuCloseHandler(menu, button);\r\n    }\r\n\r\n    updateCaptionsButton() {\r\n        if (!this.controls.captions) return;\r\n\r\n        const icon = this.controls.captions.querySelector('.vidply-icon');\r\n        const isEnabled = this.player.state.captionsEnabled;\r\n\r\n        icon.innerHTML = isEnabled ?\r\n            createIconElement('captions').innerHTML :\r\n            createIconElement('captionsOff').innerHTML;\r\n\r\n        this.controls.captions.setAttribute('aria-pressed', isEnabled ? 'true' : 'false');\r\n    }\r\n\r\n    createTranscriptButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-transcript`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': 'Toggle transcript',\r\n                'aria-pressed': 'false'\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('transcript'));\r\n\r\n        button.addEventListener('click', () => {\r\n            if (this.player.transcriptManager) {\r\n                this.player.transcriptManager.toggleTranscript();\r\n                this.updateTranscriptButton();\r\n            }\r\n        });\r\n\r\n        this.controls.transcript = button;\r\n        return button;\r\n    }\r\n\r\n    updateTranscriptButton() {\r\n        if (!this.controls.transcript) return;\r\n\r\n        const isVisible = this.player.transcriptManager && this.player.transcriptManager.isVisible;\r\n        this.controls.transcript.setAttribute('aria-pressed', isVisible ? 'true' : 'false');\r\n    }\r\n\r\n    createAudioDescriptionButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-audio-description`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': 'Audio description',\r\n                'aria-pressed': 'false',\r\n                'title': 'Toggle audio description'\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('audioDescription'));\r\n\r\n        button.addEventListener('click', async () => {\r\n            await this.player.toggleAudioDescription();\r\n            this.updateAudioDescriptionButton();\r\n        });\r\n\r\n        this.controls.audioDescription = button;\r\n        return button;\r\n    }\r\n\r\n    updateAudioDescriptionButton() {\r\n        if (!this.controls.audioDescription) return;\r\n\r\n        const icon = this.controls.audioDescription.querySelector('.vidply-icon');\r\n        const isEnabled = this.player.state.audioDescriptionEnabled;\r\n\r\n        icon.innerHTML = isEnabled ?\r\n            createIconElement('audioDescriptionOn').innerHTML :\r\n            createIconElement('audioDescription').innerHTML;\r\n\r\n        this.controls.audioDescription.setAttribute('aria-pressed', isEnabled ? 'true' : 'false');\r\n        this.controls.audioDescription.setAttribute('aria-label',\r\n            isEnabled ? 'Disable audio description' : 'Enable audio description'\r\n        );\r\n    }\r\n\r\n    createSignLanguageButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-sign-language`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': 'Sign language video',\r\n                'aria-pressed': 'false',\r\n                'title': 'Toggle sign language video'\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('signLanguage'));\r\n\r\n        button.addEventListener('click', () => {\r\n            this.player.toggleSignLanguage();\r\n            this.updateSignLanguageButton();\r\n        });\r\n\r\n        this.controls.signLanguage = button;\r\n        return button;\r\n    }\r\n\r\n    updateSignLanguageButton() {\r\n        if (!this.controls.signLanguage) return;\r\n\r\n        const icon = this.controls.signLanguage.querySelector('.vidply-icon');\r\n        const isEnabled = this.player.state.signLanguageEnabled;\r\n\r\n        icon.innerHTML = isEnabled ?\r\n            createIconElement('signLanguageOn').innerHTML :\r\n            createIconElement('signLanguage').innerHTML;\r\n\r\n        this.controls.signLanguage.setAttribute('aria-pressed', isEnabled ? 'true' : 'false');\r\n        this.controls.signLanguage.setAttribute('aria-label',\r\n            isEnabled ? 'Hide sign language video' : 'Show sign language video'\r\n        );\r\n    }\r\n\r\n    createSettingsButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-settings`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': i18n.t('player.settings')\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('settings'));\r\n\r\n        button.addEventListener('click', () => {\r\n            this.player.showSettings();\r\n        });\r\n\r\n        return button;\r\n    }\r\n\r\n    createPipButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-pip`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': i18n.t('player.pip')\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('pip'));\r\n\r\n        button.addEventListener('click', () => {\r\n            this.player.togglePiP();\r\n        });\r\n\r\n        return button;\r\n    }\r\n\r\n    createFullscreenButton() {\r\n        const button = DOMUtils.createElement('button', {\r\n            className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-fullscreen`,\r\n            attributes: {\r\n                'type': 'button',\r\n                'aria-label': i18n.t('player.fullscreen')\r\n            }\r\n        });\r\n\r\n        button.appendChild(createIconElement('fullscreen'));\r\n\r\n        button.addEventListener('click', () => {\r\n            this.player.toggleFullscreen();\r\n        });\r\n\r\n        this.controls.fullscreen = button;\r\n        return button;\r\n    }\r\n\r\n    attachEvents() {\r\n        // Update controls based on player state\r\n        this.player.on('play', () => this.updatePlayPauseButton());\r\n        this.player.on('pause', () => this.updatePlayPauseButton());\r\n        this.player.on('timeupdate', () => this.updateProgress());\r\n        this.player.on('loadedmetadata', () => this.updateDuration());\r\n        this.player.on('volumechange', () => this.updateVolumeDisplay());\r\n        this.player.on('progress', () => this.updateBuffered());\r\n        this.player.on('playbackspeedchange', () => this.updateSpeedDisplay());\r\n        this.player.on('fullscreenchange', () => this.updateFullscreenButton());\r\n        this.player.on('captionsenabled', () => this.updateCaptionsButton());\r\n        this.player.on('captionsdisabled', () => this.updateCaptionsButton());\r\n        this.player.on('audiodescriptionenabled', () => this.updateAudioDescriptionButton());\r\n        this.player.on('audiodescriptiondisabled', () => this.updateAudioDescriptionButton());\r\n        this.player.on('signlanguageenabled', () => this.updateSignLanguageButton());\r\n        this.player.on('signlanguagedisabled', () => this.updateSignLanguageButton());\r\n    }\r\n\r\n    updatePlayPauseButton() {\r\n        if (!this.controls.playPause) return;\r\n\r\n        const icon = this.controls.playPause.querySelector('.vidply-icon');\r\n        const isPlaying = this.player.state.playing;\r\n\r\n        icon.innerHTML = isPlaying ?\r\n            createIconElement('pause').innerHTML :\r\n            createIconElement('play').innerHTML;\r\n\r\n        this.controls.playPause.setAttribute('aria-label',\r\n            isPlaying ? i18n.t('player.pause') : i18n.t('player.play')\r\n        );\r\n    }\r\n\r\n    updateProgress() {\r\n        if (!this.controls.played) return;\r\n\r\n        const percent = (this.player.state.currentTime / this.player.state.duration) * 100;\r\n        this.controls.played.style.width = `${percent}%`;\r\n        this.controls.progress.setAttribute('aria-valuenow', String(Math.round(percent)));\r\n\r\n        if (this.controls.currentTimeDisplay) {\r\n            this.controls.currentTimeDisplay.textContent = TimeUtils.formatTime(this.player.state.currentTime);\r\n        }\r\n    }\r\n\r\n    updateDuration() {\r\n        if (this.controls.durationDisplay) {\r\n            this.controls.durationDisplay.textContent = TimeUtils.formatTime(this.player.state.duration);\r\n        }\r\n    }\r\n\r\n    updateVolumeDisplay() {\r\n        if (!this.controls.volumeFill) return;\r\n\r\n        const percent = this.player.state.volume * 100;\r\n        this.controls.volumeFill.style.height = `${percent}%`;\r\n\r\n        // Update mute button icon\r\n        if (this.controls.mute) {\r\n            const icon = this.controls.mute.querySelector('.vidply-icon');\r\n            let iconName;\r\n\r\n            if (this.player.state.muted || this.player.state.volume === 0) {\r\n                iconName = 'volumeMuted';\r\n            } else if (this.player.state.volume < 0.3) {\r\n                iconName = 'volumeLow';\r\n            } else if (this.player.state.volume < 0.7) {\r\n                iconName = 'volumeMedium';\r\n            } else {\r\n                iconName = 'volumeHigh';\r\n            }\r\n\r\n            icon.innerHTML = createIconElement(iconName).innerHTML;\r\n\r\n            this.controls.mute.setAttribute('aria-label',\r\n                this.player.state.muted ? i18n.t('player.unmute') : i18n.t('player.mute')\r\n            );\r\n        }\r\n\r\n        if (this.controls.volumeSlider) {\r\n            this.controls.volumeSlider.setAttribute('aria-valuenow', String(Math.round(percent)));\r\n        }\r\n    }\r\n\r\n    updateBuffered() {\r\n        if (!this.controls.buffered || !this.player.element.buffered || this.player.element.buffered.length === 0) return;\r\n\r\n        const buffered = this.player.element.buffered.end(this.player.element.buffered.length - 1);\r\n        const percent = (buffered / this.player.state.duration) * 100;\r\n        this.controls.buffered.style.width = `${percent}%`;\r\n    }\r\n\r\n    updateSpeedDisplay() {\r\n        if (this.controls.speedText) {\r\n            this.controls.speedText.textContent = `${this.player.state.playbackSpeed}x`;\r\n        }\r\n    }\r\n\r\n    updateFullscreenButton() {\r\n        if (!this.controls.fullscreen) return;\r\n\r\n        const icon = this.controls.fullscreen.querySelector('.vidply-icon');\r\n        const isFullscreen = this.player.state.fullscreen;\r\n\r\n        icon.innerHTML = isFullscreen ?\r\n            createIconElement('fullscreenExit').innerHTML :\r\n            createIconElement('fullscreen').innerHTML;\r\n\r\n        this.controls.fullscreen.setAttribute('aria-label',\r\n            isFullscreen ? i18n.t('player.exitFullscreen') : i18n.t('player.fullscreen')\r\n        );\r\n    }\r\n\r\n    setupAutoHide() {\r\n        if (this.player.element.tagName !== 'VIDEO') return;\r\n\r\n        const showControls = () => {\r\n            this.element.classList.add(`${this.player.options.classPrefix}-controls-visible`);\r\n            this.player.state.controlsVisible = true;\r\n\r\n            clearTimeout(this.hideTimeout);\r\n\r\n            if (this.player.state.playing) {\r\n                this.hideTimeout = setTimeout(() => {\r\n                    this.element.classList.remove(`${this.player.options.classPrefix}-controls-visible`);\r\n                    this.player.state.controlsVisible = false;\r\n                }, this.player.options.hideControlsDelay);\r\n            }\r\n        };\r\n\r\n        this.player.container.addEventListener('mousemove', showControls);\r\n        this.player.container.addEventListener('touchstart', showControls);\r\n        this.player.container.addEventListener('click', showControls);\r\n\r\n        // Show controls on focus\r\n        this.element.addEventListener('focusin', showControls);\r\n\r\n        // Always show when paused\r\n        this.player.on('pause', () => {\r\n            showControls();\r\n            clearTimeout(this.hideTimeout);\r\n        });\r\n\r\n        this.player.on('play', () => {\r\n            showControls();\r\n        });\r\n\r\n        // Initial state\r\n        showControls();\r\n    }\r\n\r\n    show() {\r\n        this.element.style.display = '';\r\n    }\r\n\r\n    hide() {\r\n        this.element.style.display = 'none';\r\n    }\r\n\r\n    destroy() {\r\n        if (this.hideTimeout) {\r\n            clearTimeout(this.hideTimeout);\r\n        }\r\n\r\n        if (this.element && this.element.parentNode) {\r\n            this.element.parentNode.removeChild(this.element);\r\n        }\r\n    }\r\n}\r\n\r\n", "/**\r\n * Caption/Subtitle Manager\r\n */\r\n\r\nimport { DOMUtils } from '../utils/DOMUtils.js';\r\nimport { i18n } from '../i18n/i18n.js';\r\n\r\nexport class CaptionManager {\r\n  constructor(player) {\r\n    this.player = player;\r\n    this.element = null;\r\n    this.tracks = [];\r\n    this.currentTrack = null;\r\n    this.currentCue = null;\r\n    \r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.createElement();\r\n    this.loadTracks();\r\n    this.attachEvents();\r\n    \r\n    if (this.player.options.captionsDefault && this.tracks.length > 0) {\r\n      this.enable();\r\n    }\r\n  }\r\n\r\n  createElement() {\r\n    this.element = DOMUtils.createElement('div', {\r\n      className: `${this.player.options.classPrefix}-captions`,\r\n      attributes: {\r\n        'aria-live': 'polite',\r\n        'aria-atomic': 'true',\r\n        'role': 'region',\r\n        'aria-label': i18n.t('player.captions')\r\n      }\r\n    });\r\n\r\n    // Apply caption styles\r\n    this.updateStyles();\r\n    \r\n    // Append to videoWrapper if it exists, otherwise to container\r\n    const target = this.player.videoWrapper || this.player.container;\r\n    target.appendChild(this.element);\r\n  }\r\n\r\n  loadTracks() {\r\n    const textTracks = this.player.element.textTracks;\r\n    \r\n    for (let i = 0; i < textTracks.length; i++) {\r\n      const track = textTracks[i];\r\n      \r\n      if (track.kind === 'subtitles' || track.kind === 'captions') {\r\n        this.tracks.push({\r\n          track: track,\r\n          language: track.language,\r\n          label: track.label,\r\n          kind: track.kind,\r\n          index: i\r\n        });\r\n        \r\n        // Disable all tracks initially\r\n        track.mode = 'hidden';\r\n      }\r\n    }\r\n  }\r\n\r\n  attachEvents() {\r\n    this.player.on('timeupdate', () => {\r\n      this.updateCaptions();\r\n    });\r\n\r\n    this.player.on('captionschange', () => {\r\n      this.updateStyles();\r\n    });\r\n  }\r\n\r\n  enable(trackIndex = 0) {\r\n    if (this.tracks.length === 0) {\r\n      return;\r\n    }\r\n\r\n    // Disable current track\r\n    if (this.currentTrack) {\r\n      this.currentTrack.track.mode = 'hidden';\r\n    }\r\n\r\n    // Enable selected track\r\n    const selectedTrack = this.tracks[trackIndex];\r\n    \r\n    if (selectedTrack) {\r\n      // Set to 'hidden' not 'showing' to prevent browser from displaying native captions\r\n      // We'll handle the display ourselves\r\n      selectedTrack.track.mode = 'hidden';\r\n      this.currentTrack = selectedTrack;\r\n      this.player.state.captionsEnabled = true;\r\n      \r\n      // Remove any existing cuechange listener\r\n      if (this.cueChangeHandler) {\r\n        selectedTrack.track.removeEventListener('cuechange', this.cueChangeHandler);\r\n      }\r\n      \r\n      // Add event listener for cue changes\r\n      this.cueChangeHandler = () => {\r\n        this.updateCaptions();\r\n      };\r\n      selectedTrack.track.addEventListener('cuechange', this.cueChangeHandler);\r\n      \r\n      this.element.style.display = 'block';\r\n      \r\n      this.player.emit('captionsenabled', selectedTrack);\r\n    }\r\n  }\r\n\r\n  disable() {\r\n    if (this.currentTrack) {\r\n      this.currentTrack.track.mode = 'hidden';\r\n      this.currentTrack = null;\r\n    }\r\n\r\n    this.element.style.display = 'none';\r\n    this.element.innerHTML = '';\r\n    this.currentCue = null;\r\n    this.player.state.captionsEnabled = false;\r\n    this.player.emit('captionsdisabled');\r\n  }\r\n\r\n  updateCaptions() {\r\n    if (!this.currentTrack) {\r\n      return;\r\n    }\r\n    \r\n    if (!this.currentTrack.track.activeCues) {\r\n      return;\r\n    }\r\n\r\n    const activeCues = this.currentTrack.track.activeCues;\r\n    \r\n    if (activeCues.length > 0) {\r\n      const cue = activeCues[0];\r\n      \r\n      // Only update if the cue has changed\r\n      if (this.currentCue !== cue) {\r\n        this.currentCue = cue;\r\n        \r\n        // Parse and display cue text\r\n        let text = cue.text;\r\n        \r\n        // Handle VTT formatting\r\n        text = this.parseVTTFormatting(text);\r\n        \r\n        this.element.innerHTML = DOMUtils.sanitizeHTML(text);\r\n        \r\n        // Make sure it's visible when there's content\r\n        this.element.style.display = 'block';\r\n        \r\n        this.player.emit('captionchange', cue);\r\n      }\r\n    } else if (this.currentCue) {\r\n      // Clear caption\r\n      this.element.innerHTML = '';\r\n      this.element.style.display = 'none';\r\n      this.currentCue = null;\r\n    }\r\n  }\r\n\r\n  parseVTTFormatting(text) {\r\n    // Basic VTT tag support\r\n    text = text.replace(/<c[^>]*>(.*?)<\\/c>/g, '<span class=\"caption-class\">$1</span>');\r\n    text = text.replace(/<b>(.*?)<\\/b>/g, '<strong>$1</strong>');\r\n    text = text.replace(/<i>(.*?)<\\/i>/g, '<em>$1</em>');\r\n    text = text.replace(/<u>(.*?)<\\/u>/g, '<u>$1</u>');\r\n    \r\n    // Voice tags\r\n    text = text.replace(/<v\\s+([^>]+)>(.*?)<\\/v>/g, '<span class=\"caption-voice\" data-voice=\"$1\">$2</span>');\r\n    \r\n    return text;\r\n  }\r\n\r\n  updateStyles() {\r\n    if (!this.element) return;\r\n\r\n    const options = this.player.options;\r\n    \r\n    this.element.style.fontSize = options.captionsFontSize;\r\n    this.element.style.fontFamily = options.captionsFontFamily;\r\n    this.element.style.color = options.captionsColor;\r\n    this.element.style.backgroundColor = this.hexToRgba(\r\n      options.captionsBackgroundColor, \r\n      options.captionsOpacity\r\n    );\r\n  }\r\n\r\n  hexToRgba(hex, alpha) {\r\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n    if (result) {\r\n      return `rgba(${parseInt(result[1], 16)}, ${parseInt(result[2], 16)}, ${parseInt(result[3], 16)}, ${alpha})`;\r\n    }\r\n    return hex;\r\n  }\r\n\r\n  setCaptionStyle(property, value) {\r\n    switch (property) {\r\n      case 'fontSize':\r\n        this.player.options.captionsFontSize = value;\r\n        break;\r\n      case 'fontFamily':\r\n        this.player.options.captionsFontFamily = value;\r\n        break;\r\n      case 'color':\r\n        this.player.options.captionsColor = value;\r\n        break;\r\n      case 'backgroundColor':\r\n        this.player.options.captionsBackgroundColor = value;\r\n        break;\r\n      case 'opacity':\r\n        this.player.options.captionsOpacity = value;\r\n        break;\r\n    }\r\n    \r\n    this.updateStyles();\r\n    this.player.emit('captionschange');\r\n  }\r\n\r\n  getAvailableTracks() {\r\n    return this.tracks.map((t, index) => ({\r\n      index,\r\n      language: t.language,\r\n      label: t.label || t.language,\r\n      kind: t.kind\r\n    }));\r\n  }\r\n\r\n  switchTrack(trackIndex) {\r\n    if (trackIndex >= 0 && trackIndex < this.tracks.length) {\r\n      this.disable();\r\n      this.enable(trackIndex);\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    this.disable();\r\n    \r\n    if (this.element && this.element.parentNode) {\r\n      this.element.parentNode.removeChild(this.element);\r\n    }\r\n  }\r\n}\r\n\r\n", "/**\r\n * Keyboard Accessibility Manager\r\n */\r\n\r\nexport class KeyboardManager {\r\n  constructor(player) {\r\n    this.player = player;\r\n    this.shortcuts = player.options.keyboardShortcuts;\r\n    \r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.attachEvents();\r\n  }\r\n\r\n  attachEvents() {\r\n    // Listen for keyboard events on the player container\r\n    this.player.container.addEventListener('keydown', (e) => {\r\n      this.handleKeydown(e);\r\n    });\r\n\r\n    // Make player container focusable\r\n    if (!this.player.container.hasAttribute('tabindex')) {\r\n      this.player.container.setAttribute('tabindex', '0');\r\n    }\r\n  }\r\n\r\n  handleKeydown(e) {\r\n    // Don't handle if target is an input element\r\n    if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA' || e.target.tagName === 'SELECT') {\r\n      return;\r\n    }\r\n\r\n    const key = e.key;\r\n    let handled = false;\r\n\r\n    // Check each shortcut category\r\n    for (const [action, keys] of Object.entries(this.shortcuts)) {\r\n      if (keys.includes(key)) {\r\n        handled = this.executeAction(action, e);\r\n        if (handled) {\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n          this.announceAction(action);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  executeAction(action, event) {\r\n    switch (action) {\r\n      case 'play-pause':\r\n        this.player.toggle();\r\n        return true;\r\n\r\n      case 'volume-up':\r\n        this.player.setVolume(Math.min(1, this.player.state.volume + 0.1));\r\n        return true;\r\n\r\n      case 'volume-down':\r\n        this.player.setVolume(Math.max(0, this.player.state.volume - 0.1));\r\n        return true;\r\n\r\n      case 'seek-forward':\r\n        this.player.seekForward();\r\n        return true;\r\n\r\n      case 'seek-backward':\r\n        this.player.seekBackward();\r\n        return true;\r\n\r\n      case 'seek-forward-large':\r\n        this.player.seekForward(this.player.options.seekIntervalLarge);\r\n        return true;\r\n\r\n      case 'seek-backward-large':\r\n        this.player.seekBackward(this.player.options.seekIntervalLarge);\r\n        return true;\r\n\r\n      case 'mute':\r\n        this.player.toggleMute();\r\n        return true;\r\n\r\n      case 'fullscreen':\r\n        this.player.toggleFullscreen();\r\n        return true;\r\n\r\n      case 'captions':\r\n        // If only one caption track, toggle on/off\r\n        // If multiple tracks, open caption menu\r\n        if (this.player.captionManager && this.player.captionManager.tracks.length > 1) {\r\n          const captionsButton = document.querySelector('.vidply-captions');\r\n          if (captionsButton && this.player.controlBar) {\r\n            this.player.controlBar.showCaptionsMenu(captionsButton);\r\n          }\r\n        } else {\r\n          this.player.toggleCaptions();\r\n        }\r\n        return true;\r\n\r\n      case 'speed-up':\r\n        this.player.setPlaybackSpeed(\r\n          Math.min(2, this.player.state.playbackSpeed + 0.25)\r\n        );\r\n        return true;\r\n\r\n      case 'speed-down':\r\n        this.player.setPlaybackSpeed(\r\n          Math.max(0.25, this.player.state.playbackSpeed - 0.25)\r\n        );\r\n        return true;\r\n\r\n      case 'settings':\r\n        this.player.showSettings();\r\n        return true;\r\n\r\n      default:\r\n        return false;\r\n    }\r\n  }\r\n\r\n  announceAction(action) {\r\n    if (!this.player.options.screenReaderAnnouncements) return;\r\n\r\n    let message = '';\r\n\r\n    switch (action) {\r\n      case 'play-pause':\r\n        message = this.player.state.playing ? 'Playing' : 'Paused';\r\n        break;\r\n      case 'volume-up':\r\n        message = `Volume ${Math.round(this.player.state.volume * 100)}%`;\r\n        break;\r\n      case 'volume-down':\r\n        message = `Volume ${Math.round(this.player.state.volume * 100)}%`;\r\n        break;\r\n      case 'mute':\r\n        message = this.player.state.muted ? 'Muted' : 'Unmuted';\r\n        break;\r\n      case 'fullscreen':\r\n        message = this.player.state.fullscreen ? 'Fullscreen' : 'Exit fullscreen';\r\n        break;\r\n      case 'captions':\r\n        message = this.player.state.captionsEnabled ? 'Captions on' : 'Captions off';\r\n        break;\r\n      case 'speed-up':\r\n      case 'speed-down':\r\n        message = `Speed ${this.player.state.playbackSpeed}x`;\r\n        break;\r\n    }\r\n\r\n    if (message) {\r\n      this.announce(message);\r\n    }\r\n  }\r\n\r\n  announce(message, priority = 'polite') {\r\n    // Create or get announcement element\r\n    let announcer = document.getElementById('vidply-announcer');\r\n    \r\n    if (!announcer) {\r\n      announcer = document.createElement('div');\r\n      announcer.id = 'vidply-announcer';\r\n      announcer.className = 'vidply-sr-only';\r\n      announcer.setAttribute('aria-live', priority);\r\n      announcer.setAttribute('aria-atomic', 'true');\r\n      announcer.style.cssText = `\r\n        position: absolute;\r\n        left: -10000px;\r\n        width: 1px;\r\n        height: 1px;\r\n        overflow: hidden;\r\n      `;\r\n      document.body.appendChild(announcer);\r\n    }\r\n\r\n    // Clear and set new message\r\n    announcer.textContent = '';\r\n    setTimeout(() => {\r\n      announcer.textContent = message;\r\n    }, 100);\r\n  }\r\n\r\n  updateShortcut(action, keys) {\r\n    if (Array.isArray(keys)) {\r\n      this.shortcuts[action] = keys;\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    // Event listeners are automatically removed when the container is destroyed\r\n  }\r\n}\r\n\r\n", "/**\r\n * Settings Dialog Component\r\n */\r\n\r\nimport { DOMUtils } from '../utils/DOMUtils.js';\r\nimport { createIconElement } from '../icons/Icons.js';\r\nimport { i18n } from '../i18n/i18n.js';\r\n\r\nexport class SettingsDialog {\r\n  constructor(player) {\r\n    this.player = player;\r\n    this.element = null;\r\n    this.isOpen = false;\r\n    \r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    this.createElement();\r\n  }\r\n\r\n  createElement() {\r\n    // Create overlay\r\n    this.overlay = DOMUtils.createElement('div', {\r\n      className: `${this.player.options.classPrefix}-settings-overlay`,\r\n      attributes: {\r\n        'role': 'dialog',\r\n        'aria-modal': 'true',\r\n        'aria-label': i18n.t('settings.title')\r\n      }\r\n    });\r\n\r\n    this.overlay.style.display = 'none';\r\n\r\n    // Create dialog\r\n    this.element = DOMUtils.createElement('div', {\r\n      className: `${this.player.options.classPrefix}-settings-dialog`\r\n    });\r\n\r\n    // Header\r\n    const header = DOMUtils.createElement('div', {\r\n      className: `${this.player.options.classPrefix}-settings-header`\r\n    });\r\n\r\n    const title = DOMUtils.createElement('h2', {\r\n      textContent: i18n.t('settings.title'),\r\n      attributes: {\r\n        'id': `${this.player.options.classPrefix}-settings-title`\r\n      }\r\n    });\r\n\r\n    const closeButton = DOMUtils.createElement('button', {\r\n      className: `${this.player.options.classPrefix}-button ${this.player.options.classPrefix}-settings-close`,\r\n      attributes: {\r\n        'type': 'button',\r\n        'aria-label': i18n.t('settings.close')\r\n      }\r\n    });\r\n    closeButton.appendChild(createIconElement('close'));\r\n    closeButton.addEventListener('click', () => this.hide());\r\n\r\n    header.appendChild(title);\r\n    header.appendChild(closeButton);\r\n\r\n    // Content\r\n    const content = DOMUtils.createElement('div', {\r\n      className: `${this.player.options.classPrefix}-settings-content`\r\n    });\r\n\r\n    content.appendChild(this.createSpeedSettings());\r\n    \r\n    if (this.player.captionManager && this.player.captionManager.tracks.length > 0) {\r\n      content.appendChild(this.createCaptionSettings());\r\n    }\r\n\r\n    // Footer\r\n    const footer = DOMUtils.createElement('div', {\r\n      className: `${this.player.options.classPrefix}-settings-footer`\r\n    });\r\n\r\n    const resetButton = DOMUtils.createElement('button', {\r\n      className: `${this.player.options.classPrefix}-button`,\r\n      textContent: i18n.t('settings.reset'),\r\n      attributes: {\r\n        'type': 'button'\r\n      }\r\n    });\r\n    resetButton.addEventListener('click', () => this.resetSettings());\r\n\r\n    footer.appendChild(resetButton);\r\n\r\n    // Assemble dialog\r\n    this.element.appendChild(header);\r\n    this.element.appendChild(content);\r\n    this.element.appendChild(footer);\r\n\r\n    this.overlay.appendChild(this.element);\r\n    this.player.container.appendChild(this.overlay);\r\n\r\n    // Attach events\r\n    this.overlay.addEventListener('click', (e) => {\r\n      if (e.target === this.overlay) {\r\n        this.hide();\r\n      }\r\n    });\r\n\r\n    // Escape key to close\r\n    document.addEventListener('keydown', (e) => {\r\n      if (e.key === 'Escape' && this.isOpen) {\r\n        this.hide();\r\n      }\r\n    });\r\n  }\r\n\r\n  createSpeedSettings() {\r\n    const section = DOMUtils.createElement('div', {\r\n      className: `${this.player.options.classPrefix}-settings-section`\r\n    });\r\n\r\n    const label = DOMUtils.createElement('label', {\r\n      textContent: i18n.t('settings.speed'),\r\n      attributes: {\r\n        'for': `${this.player.options.classPrefix}-speed-select`\r\n      }\r\n    });\r\n\r\n    const select = DOMUtils.createElement('select', {\r\n      className: `${this.player.options.classPrefix}-settings-select`,\r\n      attributes: {\r\n        'id': `${this.player.options.classPrefix}-speed-select`\r\n      }\r\n    });\r\n\r\n    const speeds = [0.25, 0.5, 0.75, 1, 1.25, 1.5, 1.75, 2];\r\n    \r\n    speeds.forEach(speed => {\r\n      const option = DOMUtils.createElement('option', {\r\n        textContent: i18n.t(`speeds.${speed}`) || `${speed}x`,\r\n        attributes: {\r\n          'value': String(speed)\r\n        }\r\n      });\r\n      \r\n      if (speed === this.player.state.playbackSpeed) {\r\n        option.selected = true;\r\n      }\r\n      \r\n      select.appendChild(option);\r\n    });\r\n\r\n    select.addEventListener('change', (e) => {\r\n      this.player.setPlaybackSpeed(parseFloat(e.target.value));\r\n    });\r\n\r\n    section.appendChild(label);\r\n    section.appendChild(select);\r\n\r\n    return section;\r\n  }\r\n\r\n  createCaptionSettings() {\r\n    const section = DOMUtils.createElement('div', {\r\n      className: `${this.player.options.classPrefix}-settings-section`\r\n    });\r\n\r\n    const heading = DOMUtils.createElement('h3', {\r\n      textContent: i18n.t('settings.captions')\r\n    });\r\n\r\n    section.appendChild(heading);\r\n\r\n    // Caption track selection\r\n    const trackLabel = DOMUtils.createElement('label', {\r\n      textContent: i18n.t('captions.select'),\r\n      attributes: {\r\n        'for': `${this.player.options.classPrefix}-caption-track-select`\r\n      }\r\n    });\r\n\r\n    const trackSelect = DOMUtils.createElement('select', {\r\n      className: `${this.player.options.classPrefix}-settings-select`,\r\n      attributes: {\r\n        'id': `${this.player.options.classPrefix}-caption-track-select`\r\n      }\r\n    });\r\n\r\n    // Off option\r\n    const offOption = DOMUtils.createElement('option', {\r\n      textContent: i18n.t('captions.off'),\r\n      attributes: { 'value': '-1' }\r\n    });\r\n    trackSelect.appendChild(offOption);\r\n\r\n    // Available tracks\r\n    const tracks = this.player.captionManager.getAvailableTracks();\r\n    tracks.forEach(track => {\r\n      const option = DOMUtils.createElement('option', {\r\n        textContent: track.label,\r\n        attributes: { 'value': String(track.index) }\r\n      });\r\n      trackSelect.appendChild(option);\r\n    });\r\n\r\n    trackSelect.addEventListener('change', (e) => {\r\n      const index = parseInt(e.target.value);\r\n      if (index === -1) {\r\n        this.player.disableCaptions();\r\n      } else {\r\n        this.player.captionManager.switchTrack(index);\r\n      }\r\n    });\r\n\r\n    section.appendChild(trackLabel);\r\n    section.appendChild(trackSelect);\r\n\r\n    // Font size\r\n    section.appendChild(this.createCaptionStyleControl('fontSize', i18n.t('captions.fontSize'), [\r\n      { label: 'Small', value: '80%' },\r\n      { label: 'Medium', value: '100%' },\r\n      { label: 'Large', value: '120%' },\r\n      { label: 'X-Large', value: '150%' }\r\n    ]));\r\n\r\n    // Font family\r\n    section.appendChild(this.createCaptionStyleControl('fontFamily', i18n.t('captions.fontFamily'), [\r\n      { label: 'Sans-serif', value: 'sans-serif' },\r\n      { label: 'Serif', value: 'serif' },\r\n      { label: 'Monospace', value: 'monospace' }\r\n    ]));\r\n\r\n    // Color controls\r\n    section.appendChild(this.createColorControl('color', i18n.t('captions.color')));\r\n    section.appendChild(this.createColorControl('backgroundColor', i18n.t('captions.backgroundColor')));\r\n\r\n    // Opacity\r\n    section.appendChild(this.createRangeControl('opacity', i18n.t('captions.opacity'), 0, 1, 0.1));\r\n\r\n    return section;\r\n  }\r\n\r\n  createCaptionStyleControl(property, label, options) {\r\n    const wrapper = DOMUtils.createElement('div', {\r\n      className: `${this.player.options.classPrefix}-settings-control`\r\n    });\r\n\r\n    const labelEl = DOMUtils.createElement('label', {\r\n      textContent: label,\r\n      attributes: {\r\n        'for': `${this.player.options.classPrefix}-caption-${property}`\r\n      }\r\n    });\r\n\r\n    const select = DOMUtils.createElement('select', {\r\n      className: `${this.player.options.classPrefix}-settings-select`,\r\n      attributes: {\r\n        'id': `${this.player.options.classPrefix}-caption-${property}`\r\n      }\r\n    });\r\n\r\n    options.forEach(opt => {\r\n      const option = DOMUtils.createElement('option', {\r\n        textContent: opt.label,\r\n        attributes: { 'value': opt.value }\r\n      });\r\n      \r\n      if (opt.value === this.player.options[`captions${property.charAt(0).toUpperCase() + property.slice(1)}`]) {\r\n        option.selected = true;\r\n      }\r\n      \r\n      select.appendChild(option);\r\n    });\r\n\r\n    select.addEventListener('change', (e) => {\r\n      this.player.captionManager.setCaptionStyle(property, e.target.value);\r\n    });\r\n\r\n    wrapper.appendChild(labelEl);\r\n    wrapper.appendChild(select);\r\n\r\n    return wrapper;\r\n  }\r\n\r\n  createColorControl(property, label) {\r\n    const wrapper = DOMUtils.createElement('div', {\r\n      className: `${this.player.options.classPrefix}-settings-control`\r\n    });\r\n\r\n    const labelEl = DOMUtils.createElement('label', {\r\n      textContent: label,\r\n      attributes: {\r\n        'for': `${this.player.options.classPrefix}-caption-${property}`\r\n      }\r\n    });\r\n\r\n    const input = DOMUtils.createElement('input', {\r\n      className: `${this.player.options.classPrefix}-settings-color`,\r\n      attributes: {\r\n        'type': 'color',\r\n        'id': `${this.player.options.classPrefix}-caption-${property}`,\r\n        'value': this.player.options[`captions${property.charAt(0).toUpperCase() + property.slice(1)}`]\r\n      }\r\n    });\r\n\r\n    input.addEventListener('change', (e) => {\r\n      this.player.captionManager.setCaptionStyle(property, e.target.value);\r\n    });\r\n\r\n    wrapper.appendChild(labelEl);\r\n    wrapper.appendChild(input);\r\n\r\n    return wrapper;\r\n  }\r\n\r\n  createRangeControl(property, label, min, max, step) {\r\n    const wrapper = DOMUtils.createElement('div', {\r\n      className: `${this.player.options.classPrefix}-settings-control`\r\n    });\r\n\r\n    const labelEl = DOMUtils.createElement('label', {\r\n      textContent: label,\r\n      attributes: {\r\n        'for': `${this.player.options.classPrefix}-caption-${property}`\r\n      }\r\n    });\r\n\r\n    const input = DOMUtils.createElement('input', {\r\n      className: `${this.player.options.classPrefix}-settings-range`,\r\n      attributes: {\r\n        'type': 'range',\r\n        'id': `${this.player.options.classPrefix}-caption-${property}`,\r\n        'min': String(min),\r\n        'max': String(max),\r\n        'step': String(step),\r\n        'value': String(this.player.options[`captions${property.charAt(0).toUpperCase() + property.slice(1)}`])\r\n      }\r\n    });\r\n\r\n    const valueDisplay = DOMUtils.createElement('span', {\r\n      className: `${this.player.options.classPrefix}-settings-value`,\r\n      textContent: String(this.player.options[`captions${property.charAt(0).toUpperCase() + property.slice(1)}`])\r\n    });\r\n\r\n    input.addEventListener('input', (e) => {\r\n      const value = parseFloat(e.target.value);\r\n      valueDisplay.textContent = value.toFixed(1);\r\n      this.player.captionManager.setCaptionStyle(property, value);\r\n    });\r\n\r\n    wrapper.appendChild(labelEl);\r\n    wrapper.appendChild(input);\r\n    wrapper.appendChild(valueDisplay);\r\n\r\n    return wrapper;\r\n  }\r\n\r\n  resetSettings() {\r\n    // Reset to default values\r\n    this.player.setPlaybackSpeed(1);\r\n    \r\n    if (this.player.captionManager) {\r\n      this.player.captionManager.setCaptionStyle('fontSize', '100%');\r\n      this.player.captionManager.setCaptionStyle('fontFamily', 'sans-serif');\r\n      this.player.captionManager.setCaptionStyle('color', '#FFFFFF');\r\n      this.player.captionManager.setCaptionStyle('backgroundColor', '#000000');\r\n      this.player.captionManager.setCaptionStyle('opacity', 0.8);\r\n    }\r\n\r\n    // Refresh dialog\r\n    this.hide();\r\n    setTimeout(() => this.show(), 100);\r\n  }\r\n\r\n  show() {\r\n    this.overlay.style.display = 'flex';\r\n    this.isOpen = true;\r\n    \r\n    // Focus the close button\r\n    const closeButton = this.element.querySelector(`.${this.player.options.classPrefix}-settings-close`);\r\n    if (closeButton) {\r\n      closeButton.focus();\r\n    }\r\n    \r\n    this.player.emit('settingsopen');\r\n  }\r\n\r\n  hide() {\r\n    this.overlay.style.display = 'none';\r\n    this.isOpen = false;\r\n    \r\n    // Return focus to settings button\r\n    this.player.container.focus();\r\n    \r\n    this.player.emit('settingsclose');\r\n  }\r\n\r\n  destroy() {\r\n    if (this.overlay && this.overlay.parentNode) {\r\n      this.overlay.parentNode.removeChild(this.overlay);\r\n    }\r\n  }\r\n}\r\n\r\n", "/**\r\n * Transcript Manager Component\r\n * Manages transcript display and interaction\r\n */\r\n\r\nimport { DOMUtils } from '../utils/DOMUtils.js';\r\nimport { TimeUtils } from '../utils/TimeUtils.js';\r\nimport { createIconElement } from '../icons/Icons.js';\r\n\r\nexport class TranscriptManager {\r\n  constructor(player) {\r\n    this.player = player;\r\n    this.transcriptWindow = null;\r\n    this.transcriptEntries = [];\r\n    this.currentActiveEntry = null;\r\n    this.isVisible = false;\r\n    \r\n    // Dragging state\r\n    this.isDragging = false;\r\n    this.dragOffsetX = 0;\r\n    this.dragOffsetY = 0;\r\n    \r\n    // Store event handlers for cleanup\r\n    this.handlers = {\r\n      timeupdate: () => this.updateActiveEntry(),\r\n      resize: null,\r\n      mousemove: null,\r\n      mouseup: null,\r\n      touchmove: null,\r\n      touchend: null,\r\n      mousedown: null,\r\n      touchstart: null,\r\n      keydown: null\r\n    };\r\n    \r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    // Listen for time updates to highlight active transcript entry\r\n    this.player.on('timeupdate', this.handlers.timeupdate);\r\n    \r\n    // Reposition transcript when entering/exiting fullscreen\r\n    this.player.on('fullscreenchange', () => {\r\n      if (this.isVisible) {\r\n        // Add a small delay to ensure DOM has updated after fullscreen transition\r\n        setTimeout(() => this.positionTranscript(), 100);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Toggle transcript window visibility\r\n   */\r\n  toggleTranscript() {\r\n    if (this.isVisible) {\r\n      this.hideTranscript();\r\n    } else {\r\n      this.showTranscript();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Show transcript window\r\n   */\r\n  showTranscript() {\r\n    if (this.transcriptWindow) {\r\n      this.transcriptWindow.style.display = 'flex';\r\n      this.isVisible = true;\r\n      return;\r\n    }\r\n\r\n    // Create transcript window\r\n    this.createTranscriptWindow();\r\n    this.loadTranscriptData();\r\n    \r\n    // Show the window\r\n    if (this.transcriptWindow) {\r\n      this.transcriptWindow.style.display = 'flex';\r\n      // Re-position after showing (in case window was resized while hidden)\r\n      setTimeout(() => this.positionTranscript(), 0);\r\n    }\r\n    this.isVisible = true;\r\n  }\r\n\r\n  /**\r\n   * Hide transcript window\r\n   */\r\n  hideTranscript() {\r\n    if (this.transcriptWindow) {\r\n      this.transcriptWindow.style.display = 'none';\r\n      this.isVisible = false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create the transcript window UI\r\n   */\r\n  createTranscriptWindow() {\r\n    this.transcriptWindow = DOMUtils.createElement('div', {\r\n      className: `${this.player.options.classPrefix}-transcript-window`,\r\n      attributes: {\r\n        'role': 'dialog',\r\n        'aria-label': 'Video Transcript',\r\n        'tabindex': '-1'\r\n      }\r\n    });\r\n\r\n    // Header (draggable)\r\n    this.transcriptHeader = DOMUtils.createElement('div', {\r\n      className: `${this.player.options.classPrefix}-transcript-header`,\r\n      attributes: {\r\n        'aria-label': 'Drag to reposition transcript. Use arrow keys to move, Home to reset position, Escape to close.',\r\n        'tabindex': '0'\r\n      }\r\n    });\r\n\r\n    const title = DOMUtils.createElement('h3', {\r\n      textContent: 'Transcript'\r\n    });\r\n\r\n    const closeButton = DOMUtils.createElement('button', {\r\n      className: `${this.player.options.classPrefix}-transcript-close`,\r\n      attributes: {\r\n        'type': 'button',\r\n        'aria-label': 'Close transcript'\r\n      }\r\n    });\r\n    closeButton.appendChild(createIconElement('close'));\r\n    closeButton.addEventListener('click', () => this.hideTranscript());\r\n\r\n    this.transcriptHeader.appendChild(title);\r\n    this.transcriptHeader.appendChild(closeButton);\r\n\r\n    // Content container\r\n    this.transcriptContent = DOMUtils.createElement('div', {\r\n      className: `${this.player.options.classPrefix}-transcript-content`\r\n    });\r\n\r\n    this.transcriptWindow.appendChild(this.transcriptHeader);\r\n    this.transcriptWindow.appendChild(this.transcriptContent);\r\n\r\n    // Append to player container\r\n    this.player.container.appendChild(this.transcriptWindow);\r\n    \r\n    // Position it next to the video wrapper\r\n    this.positionTranscript();\r\n    \r\n    // Setup drag functionality\r\n    this.setupDragAndDrop();\r\n    \r\n    // Re-position on window resize (debounced)\r\n    let resizeTimeout;\r\n    this.handlers.resize = () => {\r\n      clearTimeout(resizeTimeout);\r\n      resizeTimeout = setTimeout(() => this.positionTranscript(), 100);\r\n    };\r\n    window.addEventListener('resize', this.handlers.resize);\r\n  }\r\n  \r\n  /**\r\n   * Position transcript window next to video\r\n   */\r\n  positionTranscript() {\r\n    if (!this.transcriptWindow || !this.player.videoWrapper || !this.isVisible) return;\r\n    \r\n    const isMobile = window.innerWidth < 640;\r\n    const videoRect = this.player.videoWrapper.getBoundingClientRect();\r\n    \r\n    // Check if player is in fullscreen mode\r\n    const isFullscreen = this.player.state.fullscreen;\r\n    \r\n    if (isMobile && !isFullscreen) {\r\n      // Mobile: Position underneath the video and controls as part of the layout\r\n      this.transcriptWindow.style.position = 'relative';\r\n      this.transcriptWindow.style.left = '0';\r\n      this.transcriptWindow.style.right = '0';\r\n      this.transcriptWindow.style.bottom = 'auto';\r\n      this.transcriptWindow.style.top = 'auto';\r\n      this.transcriptWindow.style.width = '100%';\r\n      this.transcriptWindow.style.maxWidth = '100%';\r\n      this.transcriptWindow.style.maxHeight = '400px';\r\n      this.transcriptWindow.style.height = 'auto';\r\n      this.transcriptWindow.style.borderRadius = '0';\r\n      this.transcriptWindow.style.transform = 'none';\r\n      this.transcriptWindow.style.border = 'none';\r\n      this.transcriptWindow.style.borderTop = '1px solid var(--vidply-border-light)';\r\n      this.transcriptWindow.style.boxShadow = 'none';\r\n      // Disable dragging on mobile\r\n      if (this.transcriptHeader) {\r\n        this.transcriptHeader.style.cursor = 'default';\r\n      }\r\n      \r\n      // Ensure transcript is at the container level for proper stacking\r\n      if (this.transcriptWindow.parentNode !== this.player.container) {\r\n        this.player.container.appendChild(this.transcriptWindow);\r\n      }\r\n    } else if (isFullscreen) {\r\n      // In fullscreen: position in bottom right corner inside the video\r\n      this.transcriptWindow.style.position = 'fixed';\r\n      this.transcriptWindow.style.left = 'auto';\r\n      this.transcriptWindow.style.right = '20px';\r\n      this.transcriptWindow.style.bottom = '80px'; // Above controls\r\n      this.transcriptWindow.style.top = 'auto';\r\n      this.transcriptWindow.style.maxHeight = 'calc(100vh - 180px)'; // Leave space for controls\r\n      this.transcriptWindow.style.height = 'auto';\r\n      this.transcriptWindow.style.width = '400px';\r\n      this.transcriptWindow.style.maxWidth = '400px';\r\n      this.transcriptWindow.style.borderRadius = '8px';\r\n      this.transcriptWindow.style.border = '1px solid var(--vidply-border)';\r\n      this.transcriptWindow.style.borderTop = '';\r\n      \r\n      // Move back to container for fullscreen\r\n      if (this.transcriptWindow.parentNode !== this.player.container) {\r\n        this.player.container.appendChild(this.transcriptWindow);\r\n      }\r\n    } else {\r\n      // Desktop mode: position next to video\r\n      this.transcriptWindow.style.position = 'absolute';\r\n      this.transcriptWindow.style.left = `${videoRect.width + 8}px`;\r\n      this.transcriptWindow.style.right = 'auto';\r\n      this.transcriptWindow.style.bottom = 'auto';\r\n      this.transcriptWindow.style.top = '0';\r\n      this.transcriptWindow.style.height = `${videoRect.height}px`;\r\n      this.transcriptWindow.style.maxHeight = 'none';\r\n      this.transcriptWindow.style.width = '400px';\r\n      this.transcriptWindow.style.maxWidth = '400px';\r\n      this.transcriptWindow.style.borderRadius = '8px';\r\n      this.transcriptWindow.style.border = '1px solid var(--vidply-border)';\r\n      this.transcriptWindow.style.borderTop = '';\r\n      // Enable dragging on desktop\r\n      if (this.transcriptHeader) {\r\n        this.transcriptHeader.style.cursor = 'move';\r\n      }\r\n      \r\n      // Move back to container for desktop\r\n      if (this.transcriptWindow.parentNode !== this.player.container) {\r\n        this.player.container.appendChild(this.transcriptWindow);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Load transcript data from caption/subtitle tracks\r\n   */\r\n  loadTranscriptData() {\r\n    this.transcriptEntries = [];\r\n    this.transcriptContent.innerHTML = '';\r\n\r\n    // Get caption/subtitle tracks\r\n    const textTracks = Array.from(this.player.element.textTracks);\r\n    const transcriptTrack = textTracks.find(\r\n      track => track.kind === 'captions' || track.kind === 'subtitles'\r\n    );\r\n\r\n    if (!transcriptTrack) {\r\n      this.showNoTranscriptMessage();\r\n      return;\r\n    }\r\n\r\n    // Enable track to load cues\r\n    if (transcriptTrack.mode === 'disabled') {\r\n      transcriptTrack.mode = 'hidden';\r\n    }\r\n\r\n    if (!transcriptTrack.cues || transcriptTrack.cues.length === 0) {\r\n      // Wait for cues to load\r\n      const loadingMessage = DOMUtils.createElement('div', {\r\n        className: `${this.player.options.classPrefix}-transcript-loading`,\r\n        textContent: 'Loading transcript...'\r\n      });\r\n      this.transcriptContent.appendChild(loadingMessage);\r\n\r\n      const onLoad = () => {\r\n        this.loadTranscriptData();\r\n      };\r\n\r\n      transcriptTrack.addEventListener('load', onLoad, { once: true });\r\n\r\n      // Fallback timeout\r\n      setTimeout(() => {\r\n        if (transcriptTrack.cues && transcriptTrack.cues.length > 0) {\r\n          this.loadTranscriptData();\r\n        }\r\n      }, 500);\r\n      \r\n      return;\r\n    }\r\n\r\n    // Build transcript from cues\r\n    const cues = Array.from(transcriptTrack.cues);\r\n    cues.forEach((cue, index) => {\r\n      const entry = this.createTranscriptEntry(cue, index);\r\n      this.transcriptEntries.push({\r\n        element: entry,\r\n        cue: cue,\r\n        startTime: cue.startTime,\r\n        endTime: cue.endTime\r\n      });\r\n      this.transcriptContent.appendChild(entry);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Create a single transcript entry element\r\n   */\r\n  createTranscriptEntry(cue, index) {\r\n    const entry = DOMUtils.createElement('div', {\r\n      className: `${this.player.options.classPrefix}-transcript-entry`,\r\n      attributes: {\r\n        'data-start': String(cue.startTime),\r\n        'data-end': String(cue.endTime),\r\n        'role': 'button',\r\n        'tabindex': '0'\r\n      }\r\n    });\r\n\r\n    const timestamp = DOMUtils.createElement('span', {\r\n      className: `${this.player.options.classPrefix}-transcript-time`,\r\n      textContent: TimeUtils.formatTime(cue.startTime)\r\n    });\r\n\r\n    const text = DOMUtils.createElement('span', {\r\n      className: `${this.player.options.classPrefix}-transcript-text`,\r\n      textContent: this.stripVTTFormatting(cue.text)\r\n    });\r\n\r\n    entry.appendChild(timestamp);\r\n    entry.appendChild(text);\r\n\r\n    // Click to seek\r\n    const seekToTime = () => {\r\n      this.player.seek(cue.startTime);\r\n      if (this.player.state.paused) {\r\n        this.player.play();\r\n      }\r\n    };\r\n\r\n    entry.addEventListener('click', seekToTime);\r\n    entry.addEventListener('keydown', (e) => {\r\n      if (e.key === 'Enter' || e.key === ' ') {\r\n        e.preventDefault();\r\n        seekToTime();\r\n      }\r\n    });\r\n\r\n    return entry;\r\n  }\r\n\r\n  /**\r\n   * Strip VTT formatting tags from text\r\n   */\r\n  stripVTTFormatting(text) {\r\n    // Remove VTT tags like <v Speaker>, <c>, etc.\r\n    return text\r\n      .replace(/<[^>]+>/g, '')\r\n      .replace(/\\n/g, ' ')\r\n      .trim();\r\n  }\r\n\r\n  /**\r\n   * Show message when no transcript is available\r\n   */\r\n  showNoTranscriptMessage() {\r\n    const message = DOMUtils.createElement('div', {\r\n      className: `${this.player.options.classPrefix}-transcript-empty`,\r\n      textContent: 'No transcript available for this video.'\r\n    });\r\n    this.transcriptContent.appendChild(message);\r\n  }\r\n\r\n  /**\r\n   * Update active transcript entry based on current time\r\n   */\r\n  updateActiveEntry() {\r\n    if (!this.isVisible || this.transcriptEntries.length === 0) return;\r\n\r\n    const currentTime = this.player.state.currentTime;\r\n    \r\n    // Find the entry that matches current time\r\n    const activeEntry = this.transcriptEntries.find(\r\n      entry => currentTime >= entry.startTime && currentTime < entry.endTime\r\n    );\r\n\r\n    if (activeEntry && activeEntry !== this.currentActiveEntry) {\r\n      // Remove previous active class\r\n      if (this.currentActiveEntry) {\r\n        this.currentActiveEntry.element.classList.remove(\r\n          `${this.player.options.classPrefix}-transcript-entry-active`\r\n        );\r\n      }\r\n\r\n      // Add active class to current entry\r\n      activeEntry.element.classList.add(\r\n        `${this.player.options.classPrefix}-transcript-entry-active`\r\n      );\r\n      \r\n      // Scroll to active entry\r\n      this.scrollToEntry(activeEntry.element);\r\n      \r\n      this.currentActiveEntry = activeEntry;\r\n    } else if (!activeEntry && this.currentActiveEntry) {\r\n      // No active entry, remove active class\r\n      this.currentActiveEntry.element.classList.remove(\r\n        `${this.player.options.classPrefix}-transcript-entry-active`\r\n      );\r\n      this.currentActiveEntry = null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Scroll transcript window to show active entry\r\n   */\r\n  scrollToEntry(entryElement) {\r\n    if (!this.transcriptContent) return;\r\n\r\n    const contentRect = this.transcriptContent.getBoundingClientRect();\r\n    const entryRect = entryElement.getBoundingClientRect();\r\n\r\n    // Check if entry is out of view\r\n    if (entryRect.top < contentRect.top || entryRect.bottom > contentRect.bottom) {\r\n      // Scroll to center the entry\r\n      const scrollTop = entryElement.offsetTop - (this.transcriptContent.clientHeight / 2) + (entryElement.clientHeight / 2);\r\n      this.transcriptContent.scrollTo({\r\n        top: scrollTop,\r\n        behavior: 'smooth'\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Setup drag and drop functionality\r\n   */\r\n  setupDragAndDrop() {\r\n    if (!this.transcriptHeader || !this.transcriptWindow) return;\r\n\r\n    // Create and store handler functions\r\n    this.handlers.mousedown = (e) => {\r\n      // Don't drag if clicking on close button\r\n      if (e.target.closest(`.${this.player.options.classPrefix}-transcript-close`)) {\r\n        return;\r\n      }\r\n      \r\n      this.startDragging(e.clientX, e.clientY);\r\n      e.preventDefault();\r\n    };\r\n\r\n    this.handlers.mousemove = (e) => {\r\n      if (this.isDragging) {\r\n        this.drag(e.clientX, e.clientY);\r\n      }\r\n    };\r\n\r\n    this.handlers.mouseup = () => {\r\n      if (this.isDragging) {\r\n        this.stopDragging();\r\n      }\r\n    };\r\n\r\n    this.handlers.touchstart = (e) => {\r\n      if (e.target.closest(`.${this.player.options.classPrefix}-transcript-close`)) {\r\n        return;\r\n      }\r\n      \r\n      const isMobile = window.innerWidth < 640;\r\n      const isFullscreen = this.player.state.fullscreen;\r\n      const touch = e.touches[0];\r\n      \r\n      if (isMobile && !isFullscreen) {\r\n        // Mobile (not fullscreen): No dragging/swiping, transcript is part of layout\r\n        return;\r\n      } else {\r\n        // Desktop or fullscreen: Normal dragging\r\n        this.startDragging(touch.clientX, touch.clientY);\r\n      }\r\n    };\r\n\r\n    this.handlers.touchmove = (e) => {\r\n      const isMobile = window.innerWidth < 640;\r\n      const isFullscreen = this.player.state.fullscreen;\r\n      \r\n      if (isMobile && !isFullscreen) {\r\n        // Mobile (not fullscreen): No dragging/swiping\r\n        return;\r\n      } else if (this.isDragging) {\r\n        // Desktop or fullscreen: Normal drag\r\n        const touch = e.touches[0];\r\n        this.drag(touch.clientX, touch.clientY);\r\n        e.preventDefault();\r\n      }\r\n    };\r\n\r\n    this.handlers.touchend = () => {\r\n      if (this.isDragging) {\r\n        // Stop dragging\r\n        this.stopDragging();\r\n      }\r\n    };\r\n\r\n    this.handlers.keydown = (e) => {\r\n      // Check if this is a navigation key\r\n      if (!['ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown', 'Home', 'Escape'].includes(e.key)) {\r\n        return;\r\n      }\r\n      \r\n      // Prevent default behavior and stop event from bubbling to transcript entries\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      \r\n      // Handle special keys first\r\n      if (e.key === 'Home') {\r\n        this.resetPosition();\r\n        return;\r\n      }\r\n      \r\n      if (e.key === 'Escape') {\r\n        this.hideTranscript();\r\n        return;\r\n      }\r\n      \r\n      const step = e.shiftKey ? 50 : 10; // Larger steps with Shift key\r\n      \r\n      // Get current position\r\n      let currentLeft = parseFloat(this.transcriptWindow.style.left) || 0;\r\n      let currentTop = parseFloat(this.transcriptWindow.style.top) || 0;\r\n      \r\n      // If window is still centered with transform, convert to absolute position first\r\n      const computedStyle = window.getComputedStyle(this.transcriptWindow);\r\n      if (computedStyle.transform !== 'none') {\r\n        const rect = this.transcriptWindow.getBoundingClientRect();\r\n        currentLeft = rect.left;\r\n        currentTop = rect.top;\r\n        this.transcriptWindow.style.transform = 'none';\r\n        this.transcriptWindow.style.left = `${currentLeft}px`;\r\n        this.transcriptWindow.style.top = `${currentTop}px`;\r\n      }\r\n      \r\n      // Calculate new position based on arrow key\r\n      let newX = currentLeft;\r\n      let newY = currentTop;\r\n\r\n      switch(e.key) {\r\n        case 'ArrowLeft':\r\n          newX -= step;\r\n          break;\r\n        case 'ArrowRight':\r\n          newX += step;\r\n          break;\r\n        case 'ArrowUp':\r\n          newY -= step;\r\n          break;\r\n        case 'ArrowDown':\r\n          newY += step;\r\n          break;\r\n      }\r\n\r\n      // Set new position directly\r\n      this.transcriptWindow.style.left = `${newX}px`;\r\n      this.transcriptWindow.style.top = `${newY}px`;\r\n    };\r\n\r\n    // Add event listeners using stored handlers\r\n    this.transcriptHeader.addEventListener('mousedown', this.handlers.mousedown);\r\n    document.addEventListener('mousemove', this.handlers.mousemove);\r\n    document.addEventListener('mouseup', this.handlers.mouseup);\r\n    \r\n    this.transcriptHeader.addEventListener('touchstart', this.handlers.touchstart);\r\n    document.addEventListener('touchmove', this.handlers.touchmove);\r\n    document.addEventListener('touchend', this.handlers.touchend);\r\n    \r\n    this.transcriptHeader.addEventListener('keydown', this.handlers.keydown);\r\n  }\r\n\r\n  /**\r\n   * Start dragging\r\n   */\r\n  startDragging(clientX, clientY) {\r\n    // Get current rendered position (this is where it actually appears on screen)\r\n    const rect = this.transcriptWindow.getBoundingClientRect();\r\n    \r\n    // Get the parent container position (player container)\r\n    const containerRect = this.player.container.getBoundingClientRect();\r\n    \r\n    // Calculate position RELATIVE to container (not viewport)\r\n    const relativeLeft = rect.left - containerRect.left;\r\n    const relativeTop = rect.top - containerRect.top;\r\n    \r\n    // If window is centered with transform, convert to absolute position\r\n    const computedStyle = window.getComputedStyle(this.transcriptWindow);\r\n    if (computedStyle.transform !== 'none') {\r\n      // Remove transform and set position relative to container\r\n      this.transcriptWindow.style.transform = 'none';\r\n      this.transcriptWindow.style.left = `${relativeLeft}px`;\r\n      this.transcriptWindow.style.top = `${relativeTop}px`;\r\n    }\r\n    \r\n    // Calculate offset based on viewport coordinates (where user clicked)\r\n    this.dragOffsetX = clientX - rect.left;\r\n    this.dragOffsetY = clientY - rect.top;\r\n    \r\n    this.isDragging = true;\r\n    this.transcriptWindow.classList.add(`${this.player.options.classPrefix}-transcript-dragging`);\r\n    document.body.style.cursor = 'grabbing';\r\n    document.body.style.userSelect = 'none';\r\n  }\r\n\r\n  /**\r\n   * Perform drag\r\n   */\r\n  drag(clientX, clientY) {\r\n    if (!this.isDragging) return;\r\n\r\n    // Calculate new viewport position based on mouse position minus the offset\r\n    const newViewportX = clientX - this.dragOffsetX;\r\n    const newViewportY = clientY - this.dragOffsetY;\r\n    \r\n    // Convert to position relative to container\r\n    const containerRect = this.player.container.getBoundingClientRect();\r\n    const newX = newViewportX - containerRect.left;\r\n    const newY = newViewportY - containerRect.top;\r\n    \r\n    // During drag, set position relative to container\r\n    this.transcriptWindow.style.left = `${newX}px`;\r\n    this.transcriptWindow.style.top = `${newY}px`;\r\n  }\r\n\r\n  /**\r\n   * Stop dragging\r\n   */\r\n  stopDragging() {\r\n    this.isDragging = false;\r\n    this.transcriptWindow.classList.remove(`${this.player.options.classPrefix}-transcript-dragging`);\r\n    document.body.style.cursor = '';\r\n    document.body.style.userSelect = '';\r\n  }\r\n\r\n  /**\r\n   * Set window position with boundary constraints\r\n   */\r\n  setPosition(x, y) {\r\n    const rect = this.transcriptWindow.getBoundingClientRect();\r\n    \r\n    // Use document dimensions for fixed positioning\r\n    const viewportWidth = document.documentElement.clientWidth;\r\n    const viewportHeight = document.documentElement.clientHeight;\r\n    \r\n    // Very relaxed boundaries - allow window to go mostly off-screen\r\n    // Just keep a small part visible so user can always drag it back\r\n    const minVisible = 100; // Keep at least 100px visible\r\n    const minX = -(rect.width - minVisible);  // Can go way off-screen to the left\r\n    const minY = -(rect.height - minVisible); // Can go way off-screen to the top\r\n    const maxX = viewportWidth - minVisible;  // Can go way off-screen to the right\r\n    const maxY = viewportHeight - minVisible; // Can go way off-screen to the bottom\r\n    \r\n    // Clamp position to boundaries (very loose)\r\n    x = Math.max(minX, Math.min(x, maxX));\r\n    y = Math.max(minY, Math.min(y, maxY));\r\n    \r\n    this.transcriptWindow.style.left = `${x}px`;\r\n    this.transcriptWindow.style.top = `${y}px`;\r\n    this.transcriptWindow.style.transform = 'none';\r\n  }\r\n\r\n  /**\r\n   * Reset position to center\r\n   */\r\n  resetPosition() {\r\n    this.transcriptWindow.style.left = '50%';\r\n    this.transcriptWindow.style.top = '50%';\r\n    this.transcriptWindow.style.transform = 'translate(-50%, -50%)';\r\n  }\r\n\r\n  /**\r\n   * Cleanup\r\n   */\r\n  destroy() {\r\n    // Remove timeupdate listener from player\r\n    if (this.handlers.timeupdate) {\r\n      this.player.off('timeupdate', this.handlers.timeupdate);\r\n    }\r\n\r\n    // Remove drag event listeners\r\n    if (this.transcriptHeader) {\r\n      if (this.handlers.mousedown) {\r\n        this.transcriptHeader.removeEventListener('mousedown', this.handlers.mousedown);\r\n      }\r\n      if (this.handlers.touchstart) {\r\n        this.transcriptHeader.removeEventListener('touchstart', this.handlers.touchstart);\r\n      }\r\n      if (this.handlers.keydown) {\r\n        this.transcriptHeader.removeEventListener('keydown', this.handlers.keydown);\r\n      }\r\n    }\r\n\r\n    // Remove document-level listeners\r\n    if (this.handlers.mousemove) {\r\n      document.removeEventListener('mousemove', this.handlers.mousemove);\r\n    }\r\n    if (this.handlers.mouseup) {\r\n      document.removeEventListener('mouseup', this.handlers.mouseup);\r\n    }\r\n    if (this.handlers.touchmove) {\r\n      document.removeEventListener('touchmove', this.handlers.touchmove);\r\n    }\r\n    if (this.handlers.touchend) {\r\n      document.removeEventListener('touchend', this.handlers.touchend);\r\n    }\r\n    \r\n    // Remove window-level listeners\r\n    if (this.handlers.resize) {\r\n      window.removeEventListener('resize', this.handlers.resize);\r\n    }\r\n\r\n    // Clear handlers\r\n    this.handlers = null;\r\n\r\n    // Remove DOM element\r\n    if (this.transcriptWindow && this.transcriptWindow.parentNode) {\r\n      this.transcriptWindow.parentNode.removeChild(this.transcriptWindow);\r\n    }\r\n    \r\n    this.transcriptWindow = null;\r\n    this.transcriptHeader = null;\r\n    this.transcriptContent = null;\r\n    this.transcriptEntries = [];\r\n  }\r\n}\r\n", "/**\r\n * VidPly - Universal Video Player\r\n * Main Player Class\r\n */\r\n\r\nimport { EventEmitter } from '../utils/EventEmitter.js';\r\nimport { DOMUtils } from '../utils/DOMUtils.js';\r\nimport { TimeUtils } from '../utils/TimeUtils.js';\r\nimport { ControlBar } from '../controls/ControlBar.js';\r\nimport { CaptionManager } from '../controls/CaptionManager.js';\r\nimport { KeyboardManager } from '../controls/KeyboardManager.js';\r\nimport { SettingsDialog } from '../controls/SettingsDialog.js';\r\nimport { TranscriptManager } from '../controls/TranscriptManager.js';\r\nimport { HTML5Renderer } from '../renderers/HTML5Renderer.js';\r\nimport { YouTubeRenderer } from '../renderers/YouTubeRenderer.js';\r\nimport { VimeoRenderer } from '../renderers/VimeoRenderer.js';\r\nimport { HLSRenderer } from '../renderers/HLSRenderer.js';\r\nimport { i18n } from '../i18n/i18n.js';\r\n\r\nexport class Player extends EventEmitter {\r\n  constructor(element, options = {}) {\r\n    super();\r\n    \r\n    this.element = typeof element === 'string' ? document.querySelector(element) : element;\r\n    if (!this.element) {\r\n      throw new Error('VidPly: Element not found');\r\n    }\r\n\r\n    // Auto-create media element if a non-media element is provided\r\n    if (this.element.tagName !== 'VIDEO' && this.element.tagName !== 'AUDIO') {\r\n      const mediaType = options.mediaType || 'video';\r\n      const mediaElement = document.createElement(mediaType);\r\n      \r\n      // Copy attributes from the div to the media element\r\n      Array.from(this.element.attributes).forEach(attr => {\r\n        if (attr.name !== 'id' && attr.name !== 'class' && !attr.name.startsWith('data-')) {\r\n          mediaElement.setAttribute(attr.name, attr.value);\r\n        }\r\n      });\r\n      \r\n      // Copy any track elements from the div\r\n      const tracks = this.element.querySelectorAll('track');\r\n      tracks.forEach(track => {\r\n        mediaElement.appendChild(track.cloneNode(true));\r\n      });\r\n      \r\n      // Clear the div and insert the media element\r\n      this.element.innerHTML = '';\r\n      this.element.appendChild(mediaElement);\r\n      \r\n      // Update element reference to the actual media element\r\n      this.element = mediaElement;\r\n    }\r\n\r\n    // Default options\r\n    this.options = {\r\n      // Display\r\n      width: null,\r\n      height: null,\r\n      poster: null,\r\n      responsive: true,\r\n      fillContainer: false,\r\n      \r\n      // Playback\r\n      autoplay: false,\r\n      loop: false,\r\n      muted: false,\r\n      volume: 0.8,\r\n      playbackSpeed: 1.0,\r\n      preload: 'metadata',\r\n      startTime: 0,\r\n      \r\n      // Controls\r\n      controls: true,\r\n      hideControlsDelay: 3000,\r\n      playPauseButton: true,\r\n      progressBar: true,\r\n      currentTime: true,\r\n      duration: true,\r\n      volumeControl: true,\r\n      muteButton: true,\r\n      chaptersButton: true,\r\n      qualityButton: true,\r\n      captionStyleButton: true,\r\n      speedButton: true,\r\n      captionsButton: true,\r\n      transcriptButton: true,\r\n      fullscreenButton: true,\r\n      pipButton: true,\r\n      \r\n      // Seeking\r\n      seekInterval: 10,\r\n      seekIntervalLarge: 30,\r\n      \r\n      // Captions\r\n      captions: true,\r\n      captionsDefault: false,\r\n      captionsFontSize: '100%',\r\n      captionsFontFamily: 'sans-serif',\r\n      captionsColor: '#FFFFFF',\r\n      captionsBackgroundColor: '#000000',\r\n      captionsOpacity: 0.8,\r\n      \r\n      // Audio Description\r\n      audioDescription: true,\r\n      audioDescriptionSrc: null, // URL to audio-described version\r\n      audioDescriptionButton: true,\r\n      \r\n      // Sign Language\r\n      signLanguage: true,\r\n      signLanguageSrc: null, // URL to sign language video\r\n      signLanguageButton: true,\r\n      signLanguagePosition: 'bottom-right', // Position: 'bottom-right', 'bottom-left', 'top-right', 'top-left'\r\n      \r\n      // Transcripts\r\n      transcript: false,\r\n      transcriptPosition: 'external',\r\n      transcriptContainer: null,\r\n      \r\n      // Keyboard\r\n      keyboard: true,\r\n      keyboardShortcuts: {\r\n        'play-pause': [' ', 'p', 'k'],\r\n        'volume-up': ['ArrowUp'],\r\n        'volume-down': ['ArrowDown'],\r\n        'seek-forward': ['ArrowRight', 'f'],\r\n        'seek-backward': ['ArrowLeft', 'r'],\r\n        'seek-forward-large': ['l'],\r\n        'seek-backward-large': ['j'],\r\n        'mute': ['m'],\r\n        'fullscreen': ['f'],\r\n        'captions': ['c'],\r\n        'speed-up': ['>'],\r\n        'speed-down': ['<'],\r\n        'settings': ['s']\r\n      },\r\n      \r\n      // Accessibility\r\n      ariaLabels: {},\r\n      screenReaderAnnouncements: true,\r\n      highContrast: false,\r\n      focusHighlight: true,\r\n      \r\n      // Languages\r\n      language: 'en',\r\n      languages: ['en'],\r\n      \r\n      // Advanced\r\n      debug: false,\r\n      classPrefix: 'vidply',\r\n      iconType: 'svg',\r\n      pauseOthersOnPlay: true,\r\n      \r\n      // Callbacks\r\n      onReady: null,\r\n      onPlay: null,\r\n      onPause: null,\r\n      onEnded: null,\r\n      onTimeUpdate: null,\r\n      onVolumeChange: null,\r\n      onError: null,\r\n      \r\n      ...options\r\n    };\r\n\r\n    // State\r\n    this.state = {\r\n      ready: false,\r\n      playing: false,\r\n      paused: true,\r\n      ended: false,\r\n      buffering: false,\r\n      seeking: false,\r\n      muted: this.options.muted,\r\n      volume: this.options.volume,\r\n      currentTime: 0,\r\n      duration: 0,\r\n      playbackSpeed: this.options.playbackSpeed,\r\n      fullscreen: false,\r\n      pip: false,\r\n      captionsEnabled: this.options.captionsDefault,\r\n      currentCaption: null,\r\n      controlsVisible: true,\r\n      audioDescriptionEnabled: false,\r\n      signLanguageEnabled: false\r\n    };\r\n    \r\n    // Store original source for toggling\r\n    this.originalSrc = null;\r\n    this.audioDescriptionSrc = this.options.audioDescriptionSrc;\r\n    this.signLanguageSrc = this.options.signLanguageSrc;\r\n    this.signLanguageVideo = null;\r\n\r\n    // Components\r\n    this.container = null;\r\n    this.renderer = null;\r\n    this.controlBar = null;\r\n    this.captionManager = null;\r\n    this.keyboardManager = null;\r\n    this.settingsDialog = null;\r\n\r\n    // Initialize\r\n    this.init();\r\n  }\r\n\r\n  async init() {\r\n    try {\r\n      this.log('Initializing VidPly player');\r\n      \r\n      // Set language\r\n      i18n.setLanguage(this.options.language);\r\n      \r\n      // Create container\r\n      this.createContainer();\r\n      \r\n      // Detect and initialize renderer (only if source exists)\r\n      const src = this.element.src || this.element.querySelector('source')?.src;\r\n      if (src) {\r\n        await this.initializeRenderer();\r\n      } else {\r\n        this.log('No initial source - waiting for playlist or manual load');\r\n      }\r\n      \r\n      // Create controls\r\n      if (this.options.controls) {\r\n        this.controlBar = new ControlBar(this);\r\n        this.videoWrapper.appendChild(this.controlBar.element);\r\n      }\r\n      \r\n      // Initialize captions\r\n      if (this.options.captions) {\r\n        this.captionManager = new CaptionManager(this);\r\n      }\r\n      \r\n      // Initialize transcript\r\n      if (this.options.transcript || this.options.transcriptButton) {\r\n        this.transcriptManager = new TranscriptManager(this);\r\n      }\r\n      \r\n      // Initialize keyboard controls\r\n      if (this.options.keyboard) {\r\n        this.keyboardManager = new KeyboardManager(this);\r\n      }\r\n      \r\n      // Initialize settings dialog\r\n      if (this.options.settingsButton) {\r\n        this.settingsDialog = new SettingsDialog(this);\r\n      }\r\n      \r\n      // Setup responsive handlers\r\n      this.setupResponsiveHandlers();\r\n      \r\n      // Set initial state\r\n      if (this.options.startTime > 0) {\r\n        this.seek(this.options.startTime);\r\n      }\r\n      \r\n      if (this.options.muted) {\r\n        this.mute();\r\n      }\r\n      \r\n      if (this.options.volume !== 0.8) {\r\n        this.setVolume(this.options.volume);\r\n      }\r\n      \r\n      // Mark as ready\r\n      this.state.ready = true;\r\n      this.emit('ready');\r\n      \r\n      if (this.options.onReady) {\r\n        this.options.onReady.call(this);\r\n      }\r\n      \r\n      // Autoplay if enabled\r\n      if (this.options.autoplay) {\r\n        this.play();\r\n      }\r\n      \r\n      this.log('Player initialized successfully');\r\n    } catch (error) {\r\n      this.handleError(error);\r\n    }\r\n  }\r\n\r\n  createContainer() {\r\n    // Create main container\r\n    this.container = DOMUtils.createElement('div', {\r\n      className: `${this.options.classPrefix}-player`,\r\n      attributes: {\r\n        'role': 'region',\r\n        'aria-label': i18n.t('player.label'),\r\n        'tabindex': '-1'\r\n      }\r\n    });\r\n\r\n    // Add media type class\r\n    const mediaType = this.element.tagName.toLowerCase();\r\n    this.container.classList.add(`${this.options.classPrefix}-${mediaType}`);\r\n\r\n    // Add responsive class\r\n    if (this.options.responsive) {\r\n      this.container.classList.add(`${this.options.classPrefix}-responsive`);\r\n    }\r\n\r\n    // Create video wrapper (for proper positioning of controls)\r\n    this.videoWrapper = DOMUtils.createElement('div', {\r\n      className: `${this.options.classPrefix}-video-wrapper`\r\n    });\r\n\r\n    // Wrap original element\r\n    this.element.parentNode.insertBefore(this.container, this.element);\r\n    this.container.appendChild(this.videoWrapper);\r\n    this.videoWrapper.appendChild(this.element);\r\n    \r\n    // Hide original element\r\n    this.element.style.width = '100%';\r\n    this.element.style.height = '100%';\r\n    \r\n    // Set dimensions\r\n    if (this.options.width) {\r\n      this.container.style.width = typeof this.options.width === 'number' \r\n        ? `${this.options.width}px` \r\n        : this.options.width;\r\n    }\r\n    \r\n    if (this.options.height) {\r\n      this.container.style.height = typeof this.options.height === 'number'\r\n        ? `${this.options.height}px`\r\n        : this.options.height;\r\n    }\r\n    \r\n    // Set poster\r\n    if (this.options.poster && this.element.tagName === 'VIDEO') {\r\n      this.element.poster = this.options.poster;\r\n    }\r\n  }\r\n\r\n  async initializeRenderer() {\r\n    const src = this.element.src || this.element.querySelector('source')?.src;\r\n    \r\n    if (!src) {\r\n      throw new Error('No media source found');\r\n    }\r\n\r\n    // Store original source for audio description toggling\r\n    if (!this.originalSrc) {\r\n      this.originalSrc = src;\r\n    }\r\n\r\n    // Detect media type\r\n    let renderer;\r\n    \r\n    if (src.includes('youtube.com') || src.includes('youtu.be')) {\r\n      renderer = YouTubeRenderer;\r\n    } else if (src.includes('vimeo.com')) {\r\n      renderer = VimeoRenderer;\r\n    } else if (src.includes('.m3u8')) {\r\n      renderer = HLSRenderer;\r\n    } else {\r\n      renderer = HTML5Renderer;\r\n    }\r\n\r\n    this.log(`Using ${renderer.name} renderer`);\r\n    this.renderer = new renderer(this);\r\n    await this.renderer.init();\r\n  }\r\n\r\n  /**\r\n   * Load new media source (for playlists)\r\n   * @param {Object} config - Media configuration\r\n   * @param {string} config.src - Media source URL\r\n   * @param {string} config.type - Media MIME type\r\n   * @param {string} [config.poster] - Poster image URL\r\n   * @param {Array} [config.tracks] - Text tracks (captions, chapters, etc.)\r\n   */\r\n  async load(config) {\r\n    try {\r\n      this.log('Loading new media:', config.src);\r\n      \r\n      // Pause current playback\r\n      if (this.renderer) {\r\n        this.pause();\r\n      }\r\n      \r\n      // Clear existing text tracks\r\n      const existingTracks = this.element.querySelectorAll('track');\r\n      existingTracks.forEach(track => track.remove());\r\n      \r\n      // Update media element\r\n      this.element.src = config.src;\r\n      \r\n      if (config.type) {\r\n        this.element.type = config.type;\r\n      }\r\n      \r\n      if (config.poster && this.element.tagName === 'VIDEO') {\r\n        this.element.poster = config.poster;\r\n      }\r\n      \r\n      // Add new text tracks\r\n      if (config.tracks && config.tracks.length > 0) {\r\n        config.tracks.forEach(trackConfig => {\r\n          const track = document.createElement('track');\r\n          track.src = trackConfig.src;\r\n          track.kind = trackConfig.kind || 'captions';\r\n          track.srclang = trackConfig.srclang || 'en';\r\n          track.label = trackConfig.label || trackConfig.srclang;\r\n          \r\n          if (trackConfig.default) {\r\n            track.default = true;\r\n          }\r\n          \r\n          this.element.appendChild(track);\r\n        });\r\n      }\r\n      \r\n      // Check if we need to change renderer type\r\n      const shouldChangeRenderer = this.shouldChangeRenderer(config.src);\r\n      \r\n      // Destroy old renderer if changing types\r\n      if (shouldChangeRenderer && this.renderer) {\r\n        this.renderer.destroy();\r\n        this.renderer = null;\r\n      }\r\n      \r\n      // Initialize or reinitialize renderer\r\n      if (!this.renderer || shouldChangeRenderer) {\r\n        await this.initializeRenderer();\r\n      } else {\r\n        // Just reload the current renderer with the updated element\r\n        this.renderer.media = this.element; // Update media reference\r\n        this.element.load();\r\n      }\r\n      \r\n      // Reinitialize caption manager to pick up new tracks\r\n      if (this.captionManager) {\r\n        this.captionManager.destroy();\r\n        this.captionManager = new CaptionManager(this);\r\n      }\r\n      \r\n      this.emit('sourcechange', config);\r\n      this.log('Media loaded successfully');\r\n      \r\n    } catch (error) {\r\n      this.handleError(error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Check if we need to change renderer type\r\n   * @param {string} src - New source URL\r\n   * @returns {boolean}\r\n   */\r\n  shouldChangeRenderer(src) {\r\n    if (!this.renderer) return true;\r\n    \r\n    const isYouTube = src.includes('youtube.com') || src.includes('youtu.be');\r\n    const isVimeo = src.includes('vimeo.com');\r\n    const isHLS = src.includes('.m3u8');\r\n    \r\n    const currentRendererName = this.renderer.constructor.name;\r\n    \r\n    if (isYouTube && currentRendererName !== 'YouTubeRenderer') return true;\r\n    if (isVimeo && currentRendererName !== 'VimeoRenderer') return true;\r\n    if (isHLS && currentRendererName !== 'HLSRenderer') return true;\r\n    if (!isYouTube && !isVimeo && !isHLS && currentRendererName !== 'HTML5Renderer') return true;\r\n    \r\n    return false;\r\n  }\r\n\r\n  // Playback controls\r\n  play() {\r\n    if (this.renderer) {\r\n      this.renderer.play();\r\n    }\r\n  }\r\n\r\n  pause() {\r\n    if (this.renderer) {\r\n      this.renderer.pause();\r\n    }\r\n  }\r\n\r\n  stop() {\r\n    this.pause();\r\n    this.seek(0);\r\n  }\r\n\r\n  toggle() {\r\n    if (this.state.playing) {\r\n      this.pause();\r\n    } else {\r\n      this.play();\r\n    }\r\n  }\r\n\r\n  seek(time) {\r\n    if (this.renderer) {\r\n      this.renderer.seek(time);\r\n    }\r\n  }\r\n\r\n  seekForward(interval = this.options.seekInterval) {\r\n    this.seek(Math.min(this.state.currentTime + interval, this.state.duration));\r\n  }\r\n\r\n  seekBackward(interval = this.options.seekInterval) {\r\n    this.seek(Math.max(this.state.currentTime - interval, 0));\r\n  }\r\n\r\n  // Volume controls\r\n  setVolume(volume) {\r\n    const newVolume = Math.max(0, Math.min(1, volume));\r\n    if (this.renderer) {\r\n      this.renderer.setVolume(newVolume);\r\n    }\r\n    this.state.volume = newVolume;\r\n    \r\n    if (newVolume > 0 && this.state.muted) {\r\n      this.state.muted = false;\r\n    }\r\n  }\r\n\r\n  getVolume() {\r\n    return this.state.volume;\r\n  }\r\n\r\n  mute() {\r\n    if (this.renderer) {\r\n      this.renderer.setMuted(true);\r\n    }\r\n    this.state.muted = true;\r\n  }\r\n\r\n  unmute() {\r\n    if (this.renderer) {\r\n      this.renderer.setMuted(false);\r\n    }\r\n    this.state.muted = false;\r\n  }\r\n\r\n  toggleMute() {\r\n    if (this.state.muted) {\r\n      this.unmute();\r\n    } else {\r\n      this.mute();\r\n    }\r\n  }\r\n\r\n  // Playback speed\r\n  setPlaybackSpeed(speed) {\r\n    const newSpeed = Math.max(0.25, Math.min(2, speed));\r\n    if (this.renderer) {\r\n      this.renderer.setPlaybackSpeed(newSpeed);\r\n    }\r\n    this.state.playbackSpeed = newSpeed;\r\n    this.emit('playbackspeedchange', newSpeed);\r\n  }\r\n\r\n  getPlaybackSpeed() {\r\n    return this.state.playbackSpeed;\r\n  }\r\n\r\n  // Fullscreen\r\n  enterFullscreen() {\r\n    const elem = this.container;\r\n    \r\n    if (elem.requestFullscreen) {\r\n      elem.requestFullscreen();\r\n    } else if (elem.webkitRequestFullscreen) {\r\n      elem.webkitRequestFullscreen();\r\n    } else if (elem.mozRequestFullScreen) {\r\n      elem.mozRequestFullScreen();\r\n    } else if (elem.msRequestFullscreen) {\r\n      elem.msRequestFullscreen();\r\n    }\r\n    \r\n    this.state.fullscreen = true;\r\n    this.container.classList.add(`${this.options.classPrefix}-fullscreen`);\r\n    this.emit('fullscreenchange', true);\r\n  }\r\n\r\n  exitFullscreen() {\r\n    if (document.exitFullscreen) {\r\n      document.exitFullscreen();\r\n    } else if (document.webkitExitFullscreen) {\r\n      document.webkitExitFullscreen();\r\n    } else if (document.mozCancelFullScreen) {\r\n      document.mozCancelFullScreen();\r\n    } else if (document.msExitFullscreen) {\r\n      document.msExitFullscreen();\r\n    }\r\n    \r\n    this.state.fullscreen = false;\r\n    this.container.classList.remove(`${this.options.classPrefix}-fullscreen`);\r\n    this.emit('fullscreenchange', false);\r\n  }\r\n\r\n  toggleFullscreen() {\r\n    if (this.state.fullscreen) {\r\n      this.exitFullscreen();\r\n    } else {\r\n      this.enterFullscreen();\r\n    }\r\n  }\r\n\r\n  // Picture-in-Picture\r\n  enterPiP() {\r\n    if (this.element.requestPictureInPicture) {\r\n      this.element.requestPictureInPicture();\r\n      this.state.pip = true;\r\n      this.emit('pipchange', true);\r\n    }\r\n  }\r\n\r\n  exitPiP() {\r\n    if (document.pictureInPictureElement) {\r\n      document.exitPictureInPicture();\r\n      this.state.pip = false;\r\n      this.emit('pipchange', false);\r\n    }\r\n  }\r\n\r\n  togglePiP() {\r\n    if (this.state.pip) {\r\n      this.exitPiP();\r\n    } else {\r\n      this.enterPiP();\r\n    }\r\n  }\r\n\r\n  // Captions\r\n  enableCaptions() {\r\n    if (this.captionManager) {\r\n      this.captionManager.enable();\r\n      this.state.captionsEnabled = true;\r\n    }\r\n  }\r\n\r\n  disableCaptions() {\r\n    if (this.captionManager) {\r\n      this.captionManager.disable();\r\n      this.state.captionsEnabled = false;\r\n    }\r\n  }\r\n\r\n  toggleCaptions() {\r\n    if (this.state.captionsEnabled) {\r\n      this.disableCaptions();\r\n    } else {\r\n      this.enableCaptions();\r\n    }\r\n  }\r\n\r\n  // Audio Description\r\n  async enableAudioDescription() {\r\n    if (!this.audioDescriptionSrc) {\r\n      console.warn('VidPly: No audio description source provided');\r\n      return;\r\n    }\r\n\r\n    // Store current playback state\r\n    const currentTime = this.state.currentTime;\r\n    const wasPlaying = this.state.playing;\r\n\r\n    // Switch to audio-described version\r\n    this.element.src = this.audioDescriptionSrc;\r\n    \r\n    // Wait for new source to load\r\n    await new Promise((resolve) => {\r\n      const onLoadedMetadata = () => {\r\n        this.element.removeEventListener('loadedmetadata', onLoadedMetadata);\r\n        resolve();\r\n      };\r\n      this.element.addEventListener('loadedmetadata', onLoadedMetadata);\r\n    });\r\n\r\n    // Restore playback position\r\n    this.seek(currentTime);\r\n    \r\n    if (wasPlaying) {\r\n      this.play();\r\n    }\r\n\r\n    this.state.audioDescriptionEnabled = true;\r\n    this.emit('audiodescriptionenabled');\r\n  }\r\n\r\n  async disableAudioDescription() {\r\n    if (!this.originalSrc) {\r\n      return;\r\n    }\r\n\r\n    // Store current playback state\r\n    const currentTime = this.state.currentTime;\r\n    const wasPlaying = this.state.playing;\r\n\r\n    // Switch back to original version\r\n    this.element.src = this.originalSrc;\r\n    \r\n    // Wait for new source to load\r\n    await new Promise((resolve) => {\r\n      const onLoadedMetadata = () => {\r\n        this.element.removeEventListener('loadedmetadata', onLoadedMetadata);\r\n        resolve();\r\n      };\r\n      this.element.addEventListener('loadedmetadata', onLoadedMetadata);\r\n    });\r\n\r\n    // Restore playback position\r\n    this.seek(currentTime);\r\n    \r\n    if (wasPlaying) {\r\n      this.play();\r\n    }\r\n\r\n    this.state.audioDescriptionEnabled = false;\r\n    this.emit('audiodescriptiondisabled');\r\n  }\r\n\r\n  async toggleAudioDescription() {\r\n    if (this.state.audioDescriptionEnabled) {\r\n      await this.disableAudioDescription();\r\n    } else {\r\n      await this.enableAudioDescription();\r\n    }\r\n  }\r\n\r\n  // Sign Language\r\n  enableSignLanguage() {\r\n    if (!this.signLanguageSrc) {\r\n      console.warn('No sign language video source provided');\r\n      return;\r\n    }\r\n\r\n    if (this.signLanguageVideo) {\r\n      // Already exists, just show it\r\n      this.signLanguageVideo.style.display = 'block';\r\n      this.state.signLanguageEnabled = true;\r\n      this.emit('signlanguageenabled');\r\n      return;\r\n    }\r\n\r\n    // Create sign language video element\r\n    this.signLanguageVideo = document.createElement('video');\r\n    this.signLanguageVideo.className = 'vidply-sign-language-video';\r\n    this.signLanguageVideo.src = this.signLanguageSrc;\r\n    this.signLanguageVideo.setAttribute('aria-label', this.i18n.t('signLanguageVideo'));\r\n    \r\n    // Set position based on options\r\n    const position = this.options.signLanguagePosition || 'bottom-right';\r\n    this.signLanguageVideo.classList.add(`vidply-sign-position-${position}`);\r\n    \r\n    // Sync with main video\r\n    this.signLanguageVideo.muted = true; // Sign language video should be muted\r\n    this.signLanguageVideo.currentTime = this.state.currentTime;\r\n    if (!this.state.paused) {\r\n      this.signLanguageVideo.play();\r\n    }\r\n\r\n    // Add to container\r\n    this.container.appendChild(this.signLanguageVideo);\r\n\r\n    // Create bound handlers to store references for cleanup\r\n    this.signLanguageHandlers = {\r\n      play: () => {\r\n        if (this.signLanguageVideo) {\r\n          this.signLanguageVideo.play();\r\n        }\r\n      },\r\n      pause: () => {\r\n        if (this.signLanguageVideo) {\r\n          this.signLanguageVideo.pause();\r\n        }\r\n      },\r\n      timeupdate: () => {\r\n        if (this.signLanguageVideo && Math.abs(this.signLanguageVideo.currentTime - this.state.currentTime) > 0.5) {\r\n          this.signLanguageVideo.currentTime = this.state.currentTime;\r\n        }\r\n      },\r\n      ratechange: () => {\r\n        if (this.signLanguageVideo) {\r\n          this.signLanguageVideo.playbackRate = this.state.playbackSpeed;\r\n        }\r\n      }\r\n    };\r\n\r\n    // Sync playback\r\n    this.on('play', this.signLanguageHandlers.play);\r\n    this.on('pause', this.signLanguageHandlers.pause);\r\n    this.on('timeupdate', this.signLanguageHandlers.timeupdate);\r\n    this.on('ratechange', this.signLanguageHandlers.ratechange);\r\n\r\n    this.state.signLanguageEnabled = true;\r\n    this.emit('signlanguageenabled');\r\n  }\r\n\r\n  disableSignLanguage() {\r\n    if (this.signLanguageVideo) {\r\n      this.signLanguageVideo.style.display = 'none';\r\n    }\r\n    this.state.signLanguageEnabled = false;\r\n    this.emit('signlanguagedisabled');\r\n  }\r\n\r\n  toggleSignLanguage() {\r\n    if (this.state.signLanguageEnabled) {\r\n      this.disableSignLanguage();\r\n    } else {\r\n      this.enableSignLanguage();\r\n    }\r\n  }\r\n\r\n  cleanupSignLanguage() {\r\n    // Remove event listeners\r\n    if (this.signLanguageHandlers) {\r\n      this.off('play', this.signLanguageHandlers.play);\r\n      this.off('pause', this.signLanguageHandlers.pause);\r\n      this.off('timeupdate', this.signLanguageHandlers.timeupdate);\r\n      this.off('ratechange', this.signLanguageHandlers.ratechange);\r\n      this.signLanguageHandlers = null;\r\n    }\r\n\r\n    // Remove video element\r\n    if (this.signLanguageVideo && this.signLanguageVideo.parentNode) {\r\n      this.signLanguageVideo.pause();\r\n      this.signLanguageVideo.src = '';\r\n      this.signLanguageVideo.parentNode.removeChild(this.signLanguageVideo);\r\n      this.signLanguageVideo = null;\r\n    }\r\n  }\r\n\r\n  // Settings\r\n  showSettings() {\r\n    if (this.settingsDialog) {\r\n      this.settingsDialog.show();\r\n    }\r\n  }\r\n\r\n  hideSettings() {\r\n    if (this.settingsDialog) {\r\n      this.settingsDialog.hide();\r\n    }\r\n  }\r\n\r\n  // Utility methods\r\n  getCurrentTime() {\r\n    return this.state.currentTime;\r\n  }\r\n\r\n  getDuration() {\r\n    return this.state.duration;\r\n  }\r\n\r\n  isPlaying() {\r\n    return this.state.playing;\r\n  }\r\n\r\n  isPaused() {\r\n    return this.state.paused;\r\n  }\r\n\r\n  isEnded() {\r\n    return this.state.ended;\r\n  }\r\n\r\n  isMuted() {\r\n    return this.state.muted;\r\n  }\r\n\r\n  isFullscreen() {\r\n    return this.state.fullscreen;\r\n  }\r\n\r\n  // Error handling\r\n  handleError(error) {\r\n    this.log('Error:', error, 'error');\r\n    this.emit('error', error);\r\n    \r\n    if (this.options.onError) {\r\n      this.options.onError.call(this, error);\r\n    }\r\n  }\r\n\r\n  // Logging\r\n  log(message, type = 'log') {\r\n    if (this.options.debug) {\r\n      console[type](`[VidPly]`, message);\r\n    }\r\n  }\r\n\r\n  // Setup responsive handlers\r\n  setupResponsiveHandlers() {\r\n    // Use ResizeObserver for efficient resize tracking\r\n    if (typeof ResizeObserver !== 'undefined') {\r\n      this.resizeObserver = new ResizeObserver((entries) => {\r\n        for (const entry of entries) {\r\n          const width = entry.contentRect.width;\r\n          \r\n          // Update control bar for viewport\r\n          if (this.controlBar && typeof this.controlBar.updateControlsForViewport === 'function') {\r\n            this.controlBar.updateControlsForViewport(width);\r\n          }\r\n          \r\n          // Update transcript positioning\r\n          if (this.transcriptManager && this.transcriptManager.isVisible) {\r\n            this.transcriptManager.positionTranscript();\r\n          }\r\n        }\r\n      });\r\n      \r\n      this.resizeObserver.observe(this.container);\r\n    } else {\r\n      // Fallback to window resize event\r\n      this.resizeHandler = () => {\r\n        const width = this.container.clientWidth;\r\n        \r\n        if (this.controlBar && typeof this.controlBar.updateControlsForViewport === 'function') {\r\n          this.controlBar.updateControlsForViewport(width);\r\n        }\r\n        \r\n        if (this.transcriptManager && this.transcriptManager.isVisible) {\r\n          this.transcriptManager.positionTranscript();\r\n        }\r\n      };\r\n      \r\n      window.addEventListener('resize', this.resizeHandler);\r\n    }\r\n    \r\n    // Also listen for orientation changes on mobile\r\n    if (window.matchMedia) {\r\n      this.orientationHandler = (e) => {\r\n        // Wait for layout to settle\r\n        setTimeout(() => {\r\n          if (this.transcriptManager && this.transcriptManager.isVisible) {\r\n            this.transcriptManager.positionTranscript();\r\n          }\r\n        }, 100);\r\n      };\r\n      \r\n      const orientationQuery = window.matchMedia('(orientation: portrait)');\r\n      if (orientationQuery.addEventListener) {\r\n        orientationQuery.addEventListener('change', this.orientationHandler);\r\n      } else if (orientationQuery.addListener) {\r\n        // Fallback for older browsers\r\n        orientationQuery.addListener(this.orientationHandler);\r\n      }\r\n      \r\n      this.orientationQuery = orientationQuery;\r\n    }\r\n  }\r\n\r\n  // Cleanup\r\n  destroy() {\r\n    this.log('Destroying player');\r\n    \r\n    if (this.renderer) {\r\n      this.renderer.destroy();\r\n    }\r\n    \r\n    if (this.controlBar) {\r\n      this.controlBar.destroy();\r\n    }\r\n    \r\n    if (this.captionManager) {\r\n      this.captionManager.destroy();\r\n    }\r\n    \r\n    if (this.keyboardManager) {\r\n      this.keyboardManager.destroy();\r\n    }\r\n    \r\n    if (this.settingsDialog) {\r\n      this.settingsDialog.destroy();\r\n    }\r\n    \r\n    if (this.transcriptManager) {\r\n      this.transcriptManager.destroy();\r\n    }\r\n    \r\n    // Cleanup sign language video and listeners\r\n    this.cleanupSignLanguage();\r\n    \r\n    // Cleanup resize observer\r\n    if (this.resizeObserver) {\r\n      this.resizeObserver.disconnect();\r\n      this.resizeObserver = null;\r\n    }\r\n    \r\n    // Cleanup window resize handler\r\n    if (this.resizeHandler) {\r\n      window.removeEventListener('resize', this.resizeHandler);\r\n      this.resizeHandler = null;\r\n    }\r\n    \r\n    // Cleanup orientation change handler\r\n    if (this.orientationQuery && this.orientationHandler) {\r\n      if (this.orientationQuery.removeEventListener) {\r\n        this.orientationQuery.removeEventListener('change', this.orientationHandler);\r\n      } else if (this.orientationQuery.removeListener) {\r\n        this.orientationQuery.removeListener(this.orientationHandler);\r\n      }\r\n      this.orientationQuery = null;\r\n      this.orientationHandler = null;\r\n    }\r\n    \r\n    // Remove container\r\n    if (this.container && this.container.parentNode) {\r\n      this.container.parentNode.insertBefore(this.element, this.container);\r\n      this.container.parentNode.removeChild(this.container);\r\n    }\r\n    \r\n    this.removeAllListeners();\r\n  }\r\n}\r\n\r\n// Static instances tracker for pause others functionality\r\nPlayer.instances = [];\r\n\r\n", "/**\r\n * YouTube Renderer\r\n */\r\n\r\nexport class YouTubeRenderer {\r\n  constructor(player) {\r\n    this.player = player;\r\n    this.youtube = null;\r\n    this.videoId = null;\r\n    this.isReady = false;\r\n    this.iframe = null;\r\n  }\r\n\r\n  async init() {\r\n    // Extract video ID from URL\r\n    this.videoId = this.extractVideoId(this.player.element.src);\r\n    \r\n    if (!this.videoId) {\r\n      throw new Error('Invalid YouTube URL');\r\n    }\r\n\r\n    // Load YouTube IFrame API\r\n    await this.loadYouTubeAPI();\r\n\r\n    // Create iframe\r\n    this.createIframe();\r\n\r\n    // Initialize player\r\n    await this.initializePlayer();\r\n  }\r\n\r\n  extractVideoId(url) {\r\n    const patterns = [\r\n      /(?:youtube\\.com\\/watch\\?v=|youtu\\.be\\/)([^&\\s]+)/,\r\n      /youtube\\.com\\/embed\\/([^&\\s]+)/\r\n    ];\r\n\r\n    for (const pattern of patterns) {\r\n      const match = url.match(pattern);\r\n      if (match && match[1]) {\r\n        return match[1];\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  async loadYouTubeAPI() {\r\n    // Check if API is already loaded\r\n    if (window.YT && window.YT.Player) {\r\n      return Promise.resolve();\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n      // Check if script is already being loaded\r\n      if (window.onYouTubeIframeAPIReady) {\r\n        const originalCallback = window.onYouTubeIframeAPIReady;\r\n        window.onYouTubeIframeAPIReady = () => {\r\n          originalCallback();\r\n          resolve();\r\n        };\r\n        return;\r\n      }\r\n\r\n      // Load the API script\r\n      const tag = document.createElement('script');\r\n      tag.src = 'https://www.youtube.com/iframe_api';\r\n      \r\n      window.onYouTubeIframeAPIReady = () => {\r\n        resolve();\r\n      };\r\n\r\n      tag.onerror = () => reject(new Error('Failed to load YouTube API'));\r\n      \r\n      const firstScriptTag = document.getElementsByTagName('script')[0];\r\n      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\r\n    });\r\n  }\r\n\r\n  createIframe() {\r\n    // Hide original element\r\n    this.player.element.style.display = 'none';\r\n\r\n    // Create container for iframe\r\n    this.iframe = document.createElement('div');\r\n    this.iframe.id = `youtube-player-${Math.random().toString(36).substr(2, 9)}`;\r\n    this.iframe.style.width = '100%';\r\n    this.iframe.style.height = '100%';\r\n    \r\n    this.player.element.parentNode.insertBefore(this.iframe, this.player.element);\r\n  }\r\n\r\n  async initializePlayer() {\r\n    return new Promise((resolve) => {\r\n      this.youtube = new window.YT.Player(this.iframe.id, {\r\n        videoId: this.videoId,\r\n        width: '100%',\r\n        height: '100%',\r\n        playerVars: {\r\n          controls: 0,\r\n          disablekb: 1,\r\n          fs: 0,\r\n          modestbranding: 1,\r\n          rel: 0,\r\n          showinfo: 0,\r\n          iv_load_policy: 3,\r\n          autoplay: this.player.options.autoplay ? 1 : 0,\r\n          mute: this.player.options.muted ? 1 : 0,\r\n          start: this.player.options.startTime || 0\r\n        },\r\n        events: {\r\n          onReady: (event) => {\r\n            this.isReady = true;\r\n            this.attachEvents();\r\n            resolve();\r\n          },\r\n          onStateChange: (event) => this.handleStateChange(event),\r\n          onError: (event) => this.handleError(event)\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  attachEvents() {\r\n    // Set up polling for time updates (YouTube doesn't provide timeupdate events)\r\n    this.timeUpdateInterval = setInterval(() => {\r\n      if (this.isReady && this.youtube) {\r\n        const currentTime = this.youtube.getCurrentTime();\r\n        const duration = this.youtube.getDuration();\r\n        \r\n        this.player.state.currentTime = currentTime;\r\n        this.player.state.duration = duration;\r\n        \r\n        this.player.emit('timeupdate', currentTime);\r\n      }\r\n    }, 250);\r\n\r\n    // Initial metadata\r\n    if (this.youtube.getDuration) {\r\n      this.player.state.duration = this.youtube.getDuration();\r\n      this.player.emit('loadedmetadata');\r\n    }\r\n  }\r\n\r\n  handleStateChange(event) {\r\n    const states = window.YT.PlayerState;\r\n\r\n    switch (event.data) {\r\n      case states.PLAYING:\r\n        this.player.state.playing = true;\r\n        this.player.state.paused = false;\r\n        this.player.state.ended = false;\r\n        this.player.state.buffering = false;\r\n        this.player.emit('play');\r\n        this.player.emit('playing');\r\n        \r\n        if (this.player.options.onPlay) {\r\n          this.player.options.onPlay.call(this.player);\r\n        }\r\n        break;\r\n\r\n      case states.PAUSED:\r\n        this.player.state.playing = false;\r\n        this.player.state.paused = true;\r\n        this.player.emit('pause');\r\n        \r\n        if (this.player.options.onPause) {\r\n          this.player.options.onPause.call(this.player);\r\n        }\r\n        break;\r\n\r\n      case states.ENDED:\r\n        this.player.state.playing = false;\r\n        this.player.state.paused = true;\r\n        this.player.state.ended = true;\r\n        this.player.emit('ended');\r\n        \r\n        if (this.player.options.onEnded) {\r\n          this.player.options.onEnded.call(this.player);\r\n        }\r\n        \r\n        if (this.player.options.loop) {\r\n          this.youtube.seekTo(0);\r\n          this.youtube.playVideo();\r\n        }\r\n        break;\r\n\r\n      case states.BUFFERING:\r\n        this.player.state.buffering = true;\r\n        this.player.emit('waiting');\r\n        break;\r\n\r\n      case states.CUED:\r\n        this.player.emit('loadedmetadata');\r\n        break;\r\n    }\r\n  }\r\n\r\n  handleError(event) {\r\n    const errors = {\r\n      2: 'Invalid video ID',\r\n      5: 'HTML5 player error',\r\n      100: 'Video not found',\r\n      101: 'Video not allowed to be played in embedded players',\r\n      150: 'Video not allowed to be played in embedded players'\r\n    };\r\n\r\n    const error = new Error(errors[event.data] || 'YouTube player error');\r\n    this.player.handleError(error);\r\n  }\r\n\r\n  play() {\r\n    if (this.isReady && this.youtube) {\r\n      this.youtube.playVideo();\r\n    }\r\n  }\r\n\r\n  pause() {\r\n    if (this.isReady && this.youtube) {\r\n      this.youtube.pauseVideo();\r\n    }\r\n  }\r\n\r\n  seek(time) {\r\n    if (this.isReady && this.youtube) {\r\n      this.youtube.seekTo(time, true);\r\n    }\r\n  }\r\n\r\n  setVolume(volume) {\r\n    if (this.isReady && this.youtube) {\r\n      this.youtube.setVolume(volume * 100);\r\n      this.player.state.volume = volume;\r\n    }\r\n  }\r\n\r\n  setMuted(muted) {\r\n    if (this.isReady && this.youtube) {\r\n      if (muted) {\r\n        this.youtube.mute();\r\n      } else {\r\n        this.youtube.unMute();\r\n      }\r\n      this.player.state.muted = muted;\r\n    }\r\n  }\r\n\r\n  setPlaybackSpeed(speed) {\r\n    if (this.isReady && this.youtube) {\r\n      this.youtube.setPlaybackRate(speed);\r\n      this.player.state.playbackSpeed = speed;\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    if (this.timeUpdateInterval) {\r\n      clearInterval(this.timeUpdateInterval);\r\n    }\r\n\r\n    if (this.youtube && this.youtube.destroy) {\r\n      this.youtube.destroy();\r\n    }\r\n\r\n    if (this.iframe && this.iframe.parentNode) {\r\n      this.iframe.parentNode.removeChild(this.iframe);\r\n    }\r\n\r\n    // Show original element\r\n    if (this.player.element) {\r\n      this.player.element.style.display = '';\r\n    }\r\n  }\r\n}\r\n\r\n", "/**\r\n * Vimeo Renderer\r\n */\r\n\r\nexport class VimeoRenderer {\r\n  constructor(player) {\r\n    this.player = player;\r\n    this.vimeo = null;\r\n    this.videoId = null;\r\n    this.isReady = false;\r\n    this.iframe = null;\r\n  }\r\n\r\n  async init() {\r\n    // Extract video ID from URL\r\n    this.videoId = this.extractVideoId(this.player.element.src);\r\n    \r\n    if (!this.videoId) {\r\n      throw new Error('Invalid Vimeo URL');\r\n    }\r\n\r\n    // Load Vimeo Player API\r\n    await this.loadVimeoAPI();\r\n\r\n    // Create iframe\r\n    this.createIframe();\r\n\r\n    // Initialize player\r\n    await this.initializePlayer();\r\n  }\r\n\r\n  extractVideoId(url) {\r\n    const patterns = [\r\n      /vimeo\\.com\\/(\\d+)/,\r\n      /vimeo\\.com\\/video\\/(\\d+)/,\r\n      /player\\.vimeo\\.com\\/video\\/(\\d+)/\r\n    ];\r\n\r\n    for (const pattern of patterns) {\r\n      const match = url.match(pattern);\r\n      if (match && match[1]) {\r\n        return match[1];\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  async loadVimeoAPI() {\r\n    // Check if API is already loaded\r\n    if (window.Vimeo && window.Vimeo.Player) {\r\n      return Promise.resolve();\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n      const script = document.createElement('script');\r\n      script.src = 'https://player.vimeo.com/api/player.js';\r\n      script.onload = () => resolve();\r\n      script.onerror = () => reject(new Error('Failed to load Vimeo API'));\r\n      document.head.appendChild(script);\r\n    });\r\n  }\r\n\r\n  createIframe() {\r\n    // Hide original element\r\n    this.player.element.style.display = 'none';\r\n\r\n    // Create container for iframe\r\n    this.iframe = document.createElement('div');\r\n    this.iframe.id = `vimeo-player-${Math.random().toString(36).substr(2, 9)}`;\r\n    this.iframe.style.width = '100%';\r\n    this.iframe.style.height = '100%';\r\n    \r\n    this.player.element.parentNode.insertBefore(this.iframe, this.player.element);\r\n  }\r\n\r\n  async initializePlayer() {\r\n    const options = {\r\n      id: this.videoId,\r\n      width: '100%',\r\n      height: '100%',\r\n      controls: false,\r\n      autoplay: this.player.options.autoplay,\r\n      muted: this.player.options.muted,\r\n      loop: this.player.options.loop,\r\n      keyboard: false\r\n    };\r\n\r\n    if (this.player.options.startTime > 0) {\r\n      options.startTime = this.player.options.startTime;\r\n    }\r\n\r\n    this.vimeo = new window.Vimeo.Player(this.iframe.id, options);\r\n\r\n    // Wait for player to be ready\r\n    await this.vimeo.ready();\r\n    this.isReady = true;\r\n\r\n    this.attachEvents();\r\n\r\n    // Get initial duration\r\n    try {\r\n      const duration = await this.vimeo.getDuration();\r\n      this.player.state.duration = duration;\r\n      this.player.emit('loadedmetadata');\r\n    } catch (error) {\r\n      this.player.log('Error getting duration:', error, 'warn');\r\n    }\r\n  }\r\n\r\n  attachEvents() {\r\n    this.vimeo.on('play', () => {\r\n      this.player.state.playing = true;\r\n      this.player.state.paused = false;\r\n      this.player.state.ended = false;\r\n      this.player.emit('play');\r\n      \r\n      if (this.player.options.onPlay) {\r\n        this.player.options.onPlay.call(this.player);\r\n      }\r\n    });\r\n\r\n    this.vimeo.on('pause', () => {\r\n      this.player.state.playing = false;\r\n      this.player.state.paused = true;\r\n      this.player.emit('pause');\r\n      \r\n      if (this.player.options.onPause) {\r\n        this.player.options.onPause.call(this.player);\r\n      }\r\n    });\r\n\r\n    this.vimeo.on('ended', () => {\r\n      this.player.state.playing = false;\r\n      this.player.state.paused = true;\r\n      this.player.state.ended = true;\r\n      this.player.emit('ended');\r\n      \r\n      if (this.player.options.onEnded) {\r\n        this.player.options.onEnded.call(this.player);\r\n      }\r\n    });\r\n\r\n    this.vimeo.on('timeupdate', (data) => {\r\n      this.player.state.currentTime = data.seconds;\r\n      this.player.state.duration = data.duration;\r\n      this.player.emit('timeupdate', data.seconds);\r\n      \r\n      if (this.player.options.onTimeUpdate) {\r\n        this.player.options.onTimeUpdate.call(this.player, data.seconds);\r\n      }\r\n    });\r\n\r\n    this.vimeo.on('volumechange', (data) => {\r\n      this.player.state.volume = data.volume;\r\n      this.player.emit('volumechange', data.volume);\r\n    });\r\n\r\n    this.vimeo.on('bufferstart', () => {\r\n      this.player.state.buffering = true;\r\n      this.player.emit('waiting');\r\n    });\r\n\r\n    this.vimeo.on('bufferend', () => {\r\n      this.player.state.buffering = false;\r\n      this.player.emit('canplay');\r\n    });\r\n\r\n    this.vimeo.on('seeking', () => {\r\n      this.player.state.seeking = true;\r\n      this.player.emit('seeking');\r\n    });\r\n\r\n    this.vimeo.on('seeked', () => {\r\n      this.player.state.seeking = false;\r\n      this.player.emit('seeked');\r\n    });\r\n\r\n    this.vimeo.on('playbackratechange', (data) => {\r\n      this.player.state.playbackSpeed = data.playbackRate;\r\n      this.player.emit('ratechange', data.playbackRate);\r\n    });\r\n\r\n    this.vimeo.on('error', (error) => {\r\n      this.player.handleError(new Error(`Vimeo error: ${error.message}`));\r\n    });\r\n  }\r\n\r\n  play() {\r\n    if (this.isReady && this.vimeo) {\r\n      this.vimeo.play().catch(error => {\r\n        this.player.log('Play error:', error, 'warn');\r\n      });\r\n    }\r\n  }\r\n\r\n  pause() {\r\n    if (this.isReady && this.vimeo) {\r\n      this.vimeo.pause().catch(error => {\r\n        this.player.log('Pause error:', error, 'warn');\r\n      });\r\n    }\r\n  }\r\n\r\n  seek(time) {\r\n    if (this.isReady && this.vimeo) {\r\n      this.vimeo.setCurrentTime(time).catch(error => {\r\n        this.player.log('Seek error:', error, 'warn');\r\n      });\r\n    }\r\n  }\r\n\r\n  setVolume(volume) {\r\n    if (this.isReady && this.vimeo) {\r\n      this.vimeo.setVolume(volume).catch(error => {\r\n        this.player.log('Volume error:', error, 'warn');\r\n      });\r\n      this.player.state.volume = volume;\r\n    }\r\n  }\r\n\r\n  setMuted(muted) {\r\n    if (this.isReady && this.vimeo) {\r\n      if (muted) {\r\n        this.vimeo.setVolume(0);\r\n      } else {\r\n        this.vimeo.setVolume(this.player.state.volume);\r\n      }\r\n      this.player.state.muted = muted;\r\n    }\r\n  }\r\n\r\n  setPlaybackSpeed(speed) {\r\n    if (this.isReady && this.vimeo) {\r\n      this.vimeo.setPlaybackRate(speed).catch(error => {\r\n        this.player.log('Playback rate error:', error, 'warn');\r\n      });\r\n      this.player.state.playbackSpeed = speed;\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    if (this.vimeo && this.vimeo.destroy) {\r\n      this.vimeo.destroy();\r\n    }\r\n\r\n    if (this.iframe && this.iframe.parentNode) {\r\n      this.iframe.parentNode.removeChild(this.iframe);\r\n    }\r\n\r\n    // Show original element\r\n    if (this.player.element) {\r\n      this.player.element.style.display = '';\r\n    }\r\n  }\r\n}\r\n\r\n", "/**\n * HLS Streaming Renderer\n * Uses hls.js for browsers that don't natively support HLS\n */\n\nexport class HLSRenderer {\n  constructor(player) {\n    this.player = player;\n    this.media = player.element;\n    this.hls = null;\n  }\n\n  async init() {\n    // Check if browser natively supports HLS (Safari)\n    if (this.canPlayNatively()) {\n      this.player.log('Using native HLS support');\n      await this.initNative();\n    } else {\n      this.player.log('Using hls.js for HLS support');\n      await this.initHlsJs();\n    }\n  }\n\n  canPlayNatively() {\n    const video = document.createElement('video');\n    return video.canPlayType('application/vnd.apple.mpegurl') !== '';\n  }\n\n  async initNative() {\n    // Use HTML5 renderer for native HLS support\n    const HTML5Renderer = (await import('./HTML5Renderer.js')).HTML5Renderer;\n    const renderer = new HTML5Renderer(this.player);\n    await renderer.init();\n    \n    // Copy methods\n    Object.getOwnPropertyNames(Object.getPrototypeOf(renderer)).forEach(method => {\n      if (method !== 'constructor' && typeof renderer[method] === 'function') {\n        this[method] = renderer[method].bind(renderer);\n      }\n    });\n  }\n\n  async initHlsJs() {\n    // Load hls.js if not already loaded\n    if (!window.Hls) {\n      await this.loadHlsJs();\n    }\n\n    if (!window.Hls.isSupported()) {\n      throw new Error('HLS is not supported in this browser');\n    }\n\n    // Create hls.js instance\n    this.hls = new window.Hls({\n      debug: this.player.options.debug,\n      enableWorker: true,\n      lowLatencyMode: false,\n      backBufferLength: 90\n    });\n\n    // Attach media element\n    this.hls.attachMedia(this.media);\n\n    // Load source\n    const src = this.player.element.src || this.player.element.querySelector('source')?.src;\n    this.hls.loadSource(src);\n\n    // Attach events\n    this.attachHlsEvents();\n    this.attachMediaEvents();\n  }\n\n  async loadHlsJs() {\n    return new Promise((resolve, reject) => {\n      const script = document.createElement('script');\n      script.src = 'https://cdn.jsdelivr.net/npm/hls.js@latest';\n      script.onload = () => resolve();\n      script.onerror = () => reject(new Error('Failed to load hls.js'));\n      document.head.appendChild(script);\n    });\n  }\n\n  attachHlsEvents() {\n    this.hls.on(window.Hls.Events.MANIFEST_PARSED, (event, data) => {\n      this.player.log('HLS manifest loaded, found ' + data.levels.length + ' quality levels');\n      this.player.emit('hlsmanifestparsed', data);\n    });\n\n    this.hls.on(window.Hls.Events.LEVEL_SWITCHED, (event, data) => {\n      this.player.log('HLS level switched to ' + data.level);\n      this.player.emit('hlslevelswitched', data);\n    });\n\n    this.hls.on(window.Hls.Events.ERROR, (event, data) => {\n      this.handleHlsError(data);\n    });\n\n    this.hls.on(window.Hls.Events.FRAG_BUFFERED, () => {\n      this.player.state.buffering = false;\n    });\n  }\n\n  attachMediaEvents() {\n    // Use same events as HTML5 renderer\n    this.media.addEventListener('loadedmetadata', () => {\n      this.player.state.duration = this.media.duration;\n      this.player.emit('loadedmetadata');\n    });\n\n    this.media.addEventListener('play', () => {\n      this.player.state.playing = true;\n      this.player.state.paused = false;\n      this.player.state.ended = false;\n      this.player.emit('play');\n      \n      if (this.player.options.onPlay) {\n        this.player.options.onPlay.call(this.player);\n      }\n    });\n\n    this.media.addEventListener('pause', () => {\n      this.player.state.playing = false;\n      this.player.state.paused = true;\n      this.player.emit('pause');\n      \n      if (this.player.options.onPause) {\n        this.player.options.onPause.call(this.player);\n      }\n    });\n\n    this.media.addEventListener('ended', () => {\n      this.player.state.playing = false;\n      this.player.state.paused = true;\n      this.player.state.ended = true;\n      this.player.emit('ended');\n      \n      if (this.player.options.onEnded) {\n        this.player.options.onEnded.call(this.player);\n      }\n      \n      if (this.player.options.loop) {\n        this.player.seek(0);\n        this.player.play();\n      }\n    });\n\n    this.media.addEventListener('timeupdate', () => {\n      this.player.state.currentTime = this.media.currentTime;\n      this.player.emit('timeupdate', this.media.currentTime);\n      \n      if (this.player.options.onTimeUpdate) {\n        this.player.options.onTimeUpdate.call(this.player, this.media.currentTime);\n      }\n    });\n\n    this.media.addEventListener('volumechange', () => {\n      this.player.state.volume = this.media.volume;\n      this.player.state.muted = this.media.muted;\n      this.player.emit('volumechange', this.media.volume);\n    });\n\n    this.media.addEventListener('waiting', () => {\n      this.player.state.buffering = true;\n      this.player.emit('waiting');\n    });\n\n    this.media.addEventListener('canplay', () => {\n      this.player.state.buffering = false;\n      this.player.emit('canplay');\n    });\n\n    this.media.addEventListener('error', () => {\n      this.player.handleError(this.media.error);\n    });\n  }\n\n  handleHlsError(data) {\n    if (data.fatal) {\n      switch (data.type) {\n        case window.Hls.ErrorTypes.NETWORK_ERROR:\n          this.player.log('Fatal network error, trying to recover...', 'error');\n          this.hls.startLoad();\n          break;\n          \n        case window.Hls.ErrorTypes.MEDIA_ERROR:\n          this.player.log('Fatal media error, trying to recover...', 'error');\n          this.hls.recoverMediaError();\n          break;\n          \n        default:\n          this.player.log('Fatal error, cannot recover', 'error');\n          this.player.handleError(new Error(`HLS Error: ${data.type} - ${data.details}`));\n          this.hls.destroy();\n          break;\n      }\n    } else {\n      this.player.log('Non-fatal HLS error: ' + data.details, 'warn');\n    }\n  }\n\n  play() {\n    const promise = this.media.play();\n    \n    if (promise !== undefined) {\n      promise.catch(error => {\n        this.player.log('Play failed:', error, 'warn');\n      });\n    }\n  }\n\n  pause() {\n    this.media.pause();\n  }\n\n  seek(time) {\n    this.media.currentTime = time;\n  }\n\n  setVolume(volume) {\n    this.media.volume = volume;\n  }\n\n  setMuted(muted) {\n    this.media.muted = muted;\n  }\n\n  setPlaybackSpeed(speed) {\n    this.media.playbackRate = speed;\n  }\n\n  switchQuality(levelIndex) {\n    if (this.hls) {\n      this.hls.currentLevel = levelIndex;\n    }\n  }\n\n  getQualities() {\n    if (this.hls && this.hls.levels) {\n      return this.hls.levels.map((level, index) => ({\n        index,\n        height: level.height,\n        width: level.width,\n        bitrate: level.bitrate,\n        name: `${level.height}p`\n      }));\n    }\n    return [];\n  }\n\n  destroy() {\n    if (this.hls) {\n      this.hls.destroy();\n      this.hls = null;\n    }\n  }\n}\n\n", "/**\r\n * VidPly Playlist Manager\r\n * Manages playlists for audio and video content\r\n */\r\n\r\nimport { DOMUtils } from '../utils/DOMUtils.js';\r\nimport { createIconElement } from '../icons/Icons.js';\r\n\r\nexport class PlaylistManager {\r\n  constructor(player, options = {}) {\r\n    this.player = player;\r\n    this.tracks = [];\r\n    this.currentIndex = -1;\r\n    \r\n    // Options\r\n    this.options = {\r\n      autoAdvance: options.autoAdvance !== false, // Default true\r\n      loop: options.loop || false,\r\n      showPanel: options.showPanel !== false, // Default true\r\n      ...options\r\n    };\r\n    \r\n    // UI elements\r\n    this.container = null;\r\n    this.playlistPanel = null;\r\n    this.trackInfoElement = null;\r\n    \r\n    // Bind methods\r\n    this.handleTrackEnd = this.handleTrackEnd.bind(this);\r\n    this.handleTrackError = this.handleTrackError.bind(this);\r\n    \r\n    // Initialize\r\n    this.init();\r\n  }\r\n  \r\n  init() {\r\n    // Listen for track end\r\n    this.player.on('ended', this.handleTrackEnd);\r\n    this.player.on('error', this.handleTrackError);\r\n    \r\n    // Create UI if needed\r\n    if (this.options.showPanel) {\r\n      this.createUI();\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Load a playlist\r\n   * @param {Array} tracks - Array of track objects\r\n   */\r\n  loadPlaylist(tracks) {\r\n    this.tracks = tracks;\r\n    this.currentIndex = -1;\r\n    \r\n    // Add playlist class to container\r\n    if (this.container) {\r\n      this.container.classList.add('vidply-has-playlist');\r\n    }\r\n    \r\n    // Update UI\r\n    if (this.playlistPanel) {\r\n      this.renderPlaylist();\r\n    }\r\n    \r\n    // Auto-play first track\r\n    if (tracks.length > 0) {\r\n      this.play(0);\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Play a specific track\r\n   * @param {number} index - Track index\r\n   */\r\n  play(index) {\r\n    if (index < 0 || index >= this.tracks.length) {\r\n      console.warn('VidPly Playlist: Invalid track index', index);\r\n      return;\r\n    }\r\n    \r\n    const track = this.tracks[index];\r\n    \r\n    // Update current index\r\n    this.currentIndex = index;\r\n    \r\n    // Load track into player\r\n    this.player.load({\r\n      src: track.src,\r\n      type: track.type,\r\n      poster: track.poster,\r\n      tracks: track.tracks || []\r\n    });\r\n    \r\n    // Update UI\r\n    this.updateTrackInfo(track);\r\n    this.updatePlaylistUI();\r\n    \r\n    // Emit event\r\n    this.player.emit('playlisttrackchange', {\r\n      index: index,\r\n      item: track,\r\n      total: this.tracks.length\r\n    });\r\n    \r\n    // Auto-play\r\n    setTimeout(() => {\r\n      this.player.play();\r\n    }, 100);\r\n  }\r\n  \r\n  /**\r\n   * Play next track\r\n   */\r\n  next() {\r\n    let nextIndex = this.currentIndex + 1;\r\n    \r\n    if (nextIndex >= this.tracks.length) {\r\n      if (this.options.loop) {\r\n        nextIndex = 0;\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n    \r\n    this.play(nextIndex);\r\n  }\r\n  \r\n  /**\r\n   * Play previous track\r\n   */\r\n  previous() {\r\n    let prevIndex = this.currentIndex - 1;\r\n    \r\n    if (prevIndex < 0) {\r\n      if (this.options.loop) {\r\n        prevIndex = this.tracks.length - 1;\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n    \r\n    this.play(prevIndex);\r\n  }\r\n  \r\n  /**\r\n   * Handle track end\r\n   */\r\n  handleTrackEnd() {\r\n    if (this.options.autoAdvance) {\r\n      this.next();\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Handle track error\r\n   */\r\n  handleTrackError(e) {\r\n    console.error('VidPly Playlist: Track error', e);\r\n    \r\n    // Try next track\r\n    if (this.options.autoAdvance) {\r\n      setTimeout(() => {\r\n        this.next();\r\n      }, 1000);\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Create playlist UI\r\n   */\r\n  createUI() {\r\n    // Find player container\r\n    this.container = this.player.container;\r\n    \r\n    if (!this.container) {\r\n      console.warn('VidPly Playlist: No container found');\r\n      return;\r\n    }\r\n    \r\n    // Create track info element (shows current track)\r\n    this.trackInfoElement = DOMUtils.createElement('div', {\r\n      className: 'vidply-track-info'\r\n    });\r\n    this.trackInfoElement.style.display = 'none';\r\n    \r\n    this.container.appendChild(this.trackInfoElement);\r\n    \r\n    // Create playlist panel\r\n    this.playlistPanel = DOMUtils.createElement('div', {\r\n      className: 'vidply-playlist-panel'\r\n    });\r\n    this.playlistPanel.style.display = 'none';\r\n    \r\n    this.container.appendChild(this.playlistPanel);\r\n  }\r\n  \r\n  /**\r\n   * Update track info display\r\n   */\r\n  updateTrackInfo(track) {\r\n    if (!this.trackInfoElement) return;\r\n    \r\n    const trackNumber = this.currentIndex + 1;\r\n    const totalTracks = this.tracks.length;\r\n    \r\n    this.trackInfoElement.innerHTML = `\r\n      <div class=\"vidply-track-number\">Track ${trackNumber} of ${totalTracks}</div>\r\n      <div class=\"vidply-track-title\">${DOMUtils.escapeHTML(track.title || 'Untitled')}</div>\r\n      ${track.artist ? `<div class=\"vidply-track-artist\">${DOMUtils.escapeHTML(track.artist)}</div>` : ''}\r\n    `;\r\n    \r\n    this.trackInfoElement.style.display = 'block';\r\n  }\r\n  \r\n  /**\r\n   * Render playlist\r\n   */\r\n  renderPlaylist() {\r\n    if (!this.playlistPanel) return;\r\n    \r\n    // Clear existing\r\n    this.playlistPanel.innerHTML = '';\r\n    \r\n    // Create header\r\n    const header = DOMUtils.createElement('div', {\r\n      className: 'vidply-playlist-header'\r\n    });\r\n    header.textContent = `Playlist (${this.tracks.length})`;\r\n    this.playlistPanel.appendChild(header);\r\n    \r\n    // Create list\r\n    const list = DOMUtils.createElement('div', {\r\n      className: 'vidply-playlist-list'\r\n    });\r\n    \r\n    this.tracks.forEach((track, index) => {\r\n      const item = this.createPlaylistItem(track, index);\r\n      list.appendChild(item);\r\n    });\r\n    \r\n    this.playlistPanel.appendChild(list);\r\n    this.playlistPanel.style.display = 'block';\r\n  }\r\n  \r\n  /**\r\n   * Create playlist item element\r\n   */\r\n  createPlaylistItem(track, index) {\r\n    const item = DOMUtils.createElement('div', {\r\n      className: 'vidply-playlist-item',\r\n      role: 'button',\r\n      tabIndex: 0,\r\n      'aria-label': `Play ${track.title || 'Track ' + (index + 1)}`\r\n    });\r\n    \r\n    // Add active class if current\r\n    if (index === this.currentIndex) {\r\n      item.classList.add('vidply-playlist-item-active');\r\n    }\r\n    \r\n    // Thumbnail or icon\r\n    const thumbnail = DOMUtils.createElement('div', {\r\n      className: 'vidply-playlist-thumbnail'\r\n    });\r\n    \r\n    if (track.poster) {\r\n      thumbnail.style.backgroundImage = `url(${track.poster})`;\r\n    } else {\r\n      // Show music/speaker icon for audio tracks\r\n      const icon = createIconElement('music');\r\n      icon.classList.add('vidply-playlist-thumbnail-icon');\r\n      thumbnail.appendChild(icon);\r\n    }\r\n    \r\n    item.appendChild(thumbnail);\r\n    \r\n    // Info\r\n    const info = DOMUtils.createElement('div', {\r\n      className: 'vidply-playlist-item-info'\r\n    });\r\n    \r\n    const title = DOMUtils.createElement('div', {\r\n      className: 'vidply-playlist-item-title'\r\n    });\r\n    title.textContent = track.title || `Track ${index + 1}`;\r\n    info.appendChild(title);\r\n    \r\n    if (track.artist) {\r\n      const artist = DOMUtils.createElement('div', {\r\n        className: 'vidply-playlist-item-artist'\r\n      });\r\n      artist.textContent = track.artist;\r\n      info.appendChild(artist);\r\n    }\r\n    \r\n    item.appendChild(info);\r\n    \r\n    // Play icon\r\n    const playIcon = createIconElement('play');\r\n    playIcon.classList.add('vidply-playlist-item-icon');\r\n    item.appendChild(playIcon);\r\n    \r\n    // Click handler\r\n    item.addEventListener('click', () => {\r\n      this.play(index);\r\n    });\r\n    \r\n    // Keyboard handler\r\n    item.addEventListener('keydown', (e) => {\r\n      if (e.key === 'Enter' || e.key === ' ') {\r\n        e.preventDefault();\r\n        this.play(index);\r\n      }\r\n    });\r\n    \r\n    return item;\r\n  }\r\n  \r\n  /**\r\n   * Update playlist UI (highlight current track)\r\n   */\r\n  updatePlaylistUI() {\r\n    if (!this.playlistPanel) return;\r\n    \r\n    const items = this.playlistPanel.querySelectorAll('.vidply-playlist-item');\r\n    \r\n    items.forEach((item, index) => {\r\n      if (index === this.currentIndex) {\r\n        item.classList.add('vidply-playlist-item-active');\r\n        \r\n        // Scroll into view\r\n        item.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\r\n      } else {\r\n        item.classList.remove('vidply-playlist-item-active');\r\n      }\r\n    });\r\n  }\r\n  \r\n  /**\r\n   * Get current track\r\n   */\r\n  getCurrentTrack() {\r\n    return this.tracks[this.currentIndex] || null;\r\n  }\r\n  \r\n  /**\r\n   * Get playlist info\r\n   */\r\n  getPlaylistInfo() {\r\n    return {\r\n      currentIndex: this.currentIndex,\r\n      totalTracks: this.tracks.length,\r\n      currentTrack: this.getCurrentTrack(),\r\n      hasNext: this.currentIndex < this.tracks.length - 1,\r\n      hasPrevious: this.currentIndex > 0\r\n    };\r\n  }\r\n  \r\n  /**\r\n   * Add track to playlist\r\n   */\r\n  addTrack(track) {\r\n    this.tracks.push(track);\r\n    \r\n    if (this.playlistPanel) {\r\n      this.renderPlaylist();\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Remove track from playlist\r\n   */\r\n  removeTrack(index) {\r\n    if (index < 0 || index >= this.tracks.length) return;\r\n    \r\n    this.tracks.splice(index, 1);\r\n    \r\n    // Adjust current index if needed\r\n    if (index < this.currentIndex) {\r\n      this.currentIndex--;\r\n    } else if (index === this.currentIndex) {\r\n      // Current track was removed, play next or stop\r\n      if (this.currentIndex >= this.tracks.length) {\r\n        this.currentIndex = this.tracks.length - 1;\r\n      }\r\n      \r\n      if (this.currentIndex >= 0) {\r\n        this.play(this.currentIndex);\r\n      }\r\n    }\r\n    \r\n    if (this.playlistPanel) {\r\n      this.renderPlaylist();\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Clear playlist\r\n   */\r\n  clear() {\r\n    this.tracks = [];\r\n    this.currentIndex = -1;\r\n    \r\n    if (this.playlistPanel) {\r\n      this.playlistPanel.innerHTML = '';\r\n      this.playlistPanel.style.display = 'none';\r\n    }\r\n    \r\n    if (this.trackInfoElement) {\r\n      this.trackInfoElement.innerHTML = '';\r\n      this.trackInfoElement.style.display = 'none';\r\n    }\r\n  }\r\n  \r\n  /**\r\n   * Destroy playlist manager\r\n   */\r\n  destroy() {\r\n    // Remove event listeners\r\n    this.player.off('ended', this.handleTrackEnd);\r\n    this.player.off('error', this.handleTrackError);\r\n    \r\n    // Remove UI\r\n    if (this.trackInfoElement) {\r\n      this.trackInfoElement.remove();\r\n    }\r\n    \r\n    if (this.playlistPanel) {\r\n      this.playlistPanel.remove();\r\n    }\r\n    \r\n    // Clear data\r\n    this.clear();\r\n  }\r\n}\r\n\r\nexport default PlaylistManager;\r\n", "/**\r\n * VidPly - Universal Video Player\r\n * Main Entry Point\r\n */\r\n\r\nimport { Player } from './core/Player.js';\r\nimport { PlaylistManager } from './features/PlaylistManager.js';\r\n\r\n// Auto-initialize players\r\nfunction initializePlayers() {\r\n  const elements = document.querySelectorAll('[data-vidply]');\r\n  \r\n  elements.forEach(element => {\r\n    // Parse options from data attribute\r\n    const options = element.dataset.vidplyOptions \r\n      ? JSON.parse(element.dataset.vidplyOptions)\r\n      : {};\r\n    \r\n    // Create player instance\r\n    new Player(element, options);\r\n  });\r\n}\r\n\r\n// Auto-initialize on DOM ready\r\nif (document.readyState === 'loading') {\r\n  document.addEventListener('DOMContentLoaded', initializePlayers);\r\n} else {\r\n  initializePlayers();\r\n}\r\n\r\n// Export for manual initialization\r\nexport { Player, PlaylistManager };\r\nexport default Player;\r\n\r\n"],
  "mappings": "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",
  "names": ["translations", "HTML5Renderer"]
}
